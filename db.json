{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/very-simple/source/css/highlight.scss","path":"css/highlight.scss","modified":0,"renderable":1},{"_id":"themes/very-simple/source/css/normalize.css","path":"css/normalize.css","modified":0,"renderable":1},{"_id":"themes/very-simple/source/css/very-simple.scss","path":"css/very-simple.scss","modified":0,"renderable":1}],"Cache":[{"_id":"themes/very-simple/LICENSE","hash":"68a4bd4855a0540b1c0ecbdcec96192ac7c7c3d9","modified":1510373118569},{"_id":"themes/very-simple/_config.yml","hash":"93d8755a9cdb08e73b0f27c291717db690b2e44e","modified":1513085279288},{"_id":"themes/very-simple/README.md","hash":"8646e3da8dad8210b690f11f4d90056263f04b39","modified":1510373118569},{"_id":"themes/very-simple/.travis.yml","hash":"564794f27c53c27fc5b59ce33ec6ea297fd05a75","modified":1510373118569},{"_id":"source/_posts/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1513085340361},{"_id":"themes/very-simple/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1510373118564},{"_id":"themes/very-simple/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1510373116227},{"_id":"themes/very-simple/.git/config","hash":"abbada40b44d77eb8fc3a8d641563b0198a4e61d","modified":1510373118565},{"_id":"themes/very-simple/.git/index","hash":"149baedeeacf3ab4e955f73033305bee983868a5","modified":1510373118572},{"_id":"themes/very-simple/.git/packed-refs","hash":"a55cb28543af36f6e62107e18239049a2c74bd3c","modified":1510373118562},{"_id":"themes/very-simple/layout/archive.jade","hash":"0a39cb52325e52ef0e2270e60e8af359b12b2389","modified":1510373118570},{"_id":"themes/very-simple/layout/base.jade","hash":"ce2c623c8a690d9219f0d6769b9f22017c888d76","modified":1510373118570},{"_id":"themes/very-simple/layout/index.jade","hash":"b119546739db39c9e6020945ff6a58eb53d5d6a6","modified":1513085279289},{"_id":"themes/very-simple/layout/page.jade","hash":"c782c9d41d20b5e0910e89e46cb85b4bbb7f0f66","modified":1510373118571},{"_id":"themes/very-simple/layout/post.jade","hash":"7afbd3ec3f8f56d3c7cefd46e662d92807dddcd0","modified":1513085279290},{"_id":"source/_posts/android/.DS_Store","hash":"58d4ab74b61bf0b6042e5528ac2a47dbde67a1bc","modified":1517113913241},{"_id":"source/_posts/android/00-EnvironmentStructure.md","hash":"576131d5bc769247d5ab8d43fe01c458d56aa301","modified":1513894131093},{"_id":"source/_posts/android/01-CurrentStatus.md","hash":"e26ae69d2b253e6b15b21426261b5fb21652aee6","modified":1513219720888},{"_id":"source/_posts/android/02-AndroidConcept.md","hash":"bd211a1c7445245855d4b5da2665d4ae3875f281","modified":1517030565764},{"_id":"source/_posts/android/03-StartAndroidDevelopment.md","hash":"aeaa4bc8f07ff24211ae914637288fbcd3c66af0","modified":1517030611609},{"_id":"source/_posts/android/04-MakeLayoutDesign.md","hash":"bb6a37d99beef46ad71fef070619a2866f79c91f","modified":1517044383806},{"_id":"source/_posts/android/05-ButtonAction.md","hash":"ce76be8615388058c35e07902f1716de0b6f7990","modified":1517123158795},{"_id":"source/_posts/android/06-TransitionScreen.md","hash":"e6209483d47dd52bfb66fff7ea4943f87bcf565f","modified":1517211549725},{"_id":"source/_posts/android/08-AppDataBase.md","hash":"6eda3f1d7a268d236e29f4c2dcde2f5441d24440","modified":1517112626287},{"_id":"source/_posts/android/07-AsyncProcess.md","hash":"7e578f3f102c3807b0d64d1e664eecf8c5080357","modified":1517112617937},{"_id":"source/_posts/android/99-RegisterAPI.md","hash":"052bd160a0262c32552165a1015ae3f0f7af25e9","modified":1516699795080},{"_id":"themes/very-simple/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1510373116227},{"_id":"themes/very-simple/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1510373116227},{"_id":"themes/very-simple/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1510373116228},{"_id":"themes/very-simple/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1510373116228},{"_id":"themes/very-simple/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1510373116227},{"_id":"themes/very-simple/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1510373116228},{"_id":"themes/very-simple/.git/hooks/pre-rebase.sample","hash":"18be3eb275c1decd3614e139f5a311b75f1b0ab8","modified":1510373116227},{"_id":"themes/very-simple/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1510373116228},{"_id":"themes/very-simple/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1510373116229},{"_id":"themes/very-simple/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1510373116228},{"_id":"themes/very-simple/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1510373116226},{"_id":"themes/very-simple/.git/logs/HEAD","hash":"732d501a387f6dbcae4b8e89087b150b90a98e2a","modified":1510373118565},{"_id":"themes/very-simple/layout/_partial/paginator.jade","hash":"7327f32b5b9e6b224c58dcff5942dbba8dfe5582","modified":1510373118570},{"_id":"themes/very-simple/layout/_partial/comments.jade","hash":"1c3c5bbd929a78d88578e2adab905531a4a87419","modified":1510373118569},{"_id":"themes/very-simple/layout/_partial/helpers.jade","hash":"1b08c2dcdd59507ea4be1526e40b5cc75de6f750","modified":1510373118570},{"_id":"themes/very-simple/source/css/_variables.scss","hash":"88842b279b6fb43bceab105daaa03bf200eb3734","modified":1516759799255},{"_id":"themes/very-simple/source/css/highlight.scss","hash":"555e20b29e643837d546e1419afe2015f9b7de8d","modified":1516764778202},{"_id":"themes/very-simple/source/css/normalize.css","hash":"d0fbef3dd405f26a5fdc896ca1f7875901782c6f","modified":1510373118572},{"_id":"themes/very-simple/source/css/very-simple.scss","hash":"674b56f0c226df7d22ca6050abf300c29fe59062","modified":1510373118572},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_04.png","hash":"1376f170ebde15ca41661496c7b3ea1ce95b89be","modified":1513219720837},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_07.png","hash":"b67af31502be72dc8443f0b20bd572d85ffbee54","modified":1513219720839},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_06.png","hash":"a161a5ddcefd9d387556d76ae7c2a095b29c60a9","modified":1513219720839},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_05.png","hash":"3559fadd5cc1166fa3abb825c78b004ae175ba88","modified":1513219720838},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_08.png","hash":"f9985d541aa2ee5ad9ad6e245692fdc66239c8d0","modified":1513219720840},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_09.png","hash":"db4b752c540885f3443afb7ce08dbee98cc5e349","modified":1513219720840},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_10.png","hash":"ac2ac0fc192205bf66c513dfea1e348e5c52ed68","modified":1513219720840},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_11.png","hash":"e3391e065b228a70401fd95b58454eebeb101a43","modified":1513219720841},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_04.png","hash":"a12e363fd0e1c0a82a7bdfec5d2f03ea4032927c","modified":1513219720881},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_02.png","hash":"b12026c07fc7c001fbdd85f08bd5861da9c916b0","modified":1513219720880},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_03.png","hash":"dc79e7af8d0f3a8224b7b6f5f816b8ec680656d3","modified":1513219720880},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_05.png","hash":"bd041b172206c4688b95790ad89c71b14c63f9c8","modified":1513219720881},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_08.png","hash":"610c6fe8fa6523308cf75d99308dcae97d62b929","modified":1513219720887},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_06.png","hash":"3f1f88d8ba5a3310387087658cd90f13ca9f615f","modified":1513219720882},{"_id":"source/_posts/android/01-CurrentStatus/JapanShare.png","hash":"c7faf6b196bc40ebbfa76f895f269a3b980f4c8e","modified":1513219720889},{"_id":"source/_posts/android/01-CurrentStatus/WorldShare.png","hash":"4d95ca7d7e28e8960de945a1ae1a86908e0bf7cc","modified":1513219720890},{"_id":"source/_posts/android/02-AndroidConcept/viewinlifecycle.png","hash":"17ab79d944b919dcf84660f3815dd008bae85154","modified":1513219720888},{"_id":"source/_posts/android/04-MakeLayoutDesign/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1517039639355},{"_id":"source/_posts/android/05-ButtonAction/.DS_Store","hash":"ff544d7ae96074f07e922c8ab30538065f38f551","modified":1516719147860},{"_id":"source/_posts/android/05-ButtonAction/LoadLayout.png","hash":"ebdbed7cb162e4c20e011a3d4d77e1cdb0f539b0","modified":1515723632126},{"_id":"source/_posts/android/06-TransitionScreen/BackScreen.png","hash":"98cae98547f7ba0598856a5a16230cdaa77cce39","modified":1517123962465},{"_id":"source/_posts/android/07-AsyncProcess/APISequence.svg","hash":"edfb39308bb1ce189ad70061eb4a5797e16b048d","modified":1516150651782},{"_id":"source/_posts/android/07-AsyncProcess/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1517031312535},{"_id":"themes/very-simple/.git/objects/pack/pack-deedf889bad5b5fe600d93dfdb5f6ee78f270250.idx","hash":"3b34a71ea755323dc07c37feb6c0db5aaa45f2c8","modified":1510373118551},{"_id":"themes/very-simple/.git/refs/heads/master","hash":"b10f3f948777054eb2c59c65bfc35083b3c60884","modified":1510373118564},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_01.png","hash":"55c83f94c94265acaeb8f830b962d55a1231f126","modified":1513219720843},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_02.png","hash":"5fc87dfb11c6d76702de50d8baec8d4fe7f02523","modified":1513219720844},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_05.png","hash":"7fcbee5d3bc9fa6158c9a562f6bf09d143779bc6","modified":1513219720852},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_03.png","hash":"4c16652a2b21556ae9c5215261bf6fffb9a12b1c","modified":1513219720846},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_06.png","hash":"30afad1a0df3a3c4d4e8667f1d78dc0fd0c87a3c","modified":1513219720853},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_c_02.png","hash":"00cb5c7135bb5a5b158f988525ed965346a017ca","modified":1513219720874},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_01.png","hash":"5eb7acda0d7dd47bd07f8f5c31d26557fb4fed35","modified":1513219720879},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad02.png","hash":"e34287cea93240a5ed2373529ae82e74e9a0d6bd","modified":1513219720906},{"_id":"source/_posts/android/04-MakeLayoutDesign/le0.png","hash":"751c96450bc08c67e54ea57718cf8fb3072e5d02","modified":1513894131098},{"_id":"source/_posts/android/04-MakeLayoutDesign/le1.png","hash":"13cf740932b7341fbd2745789cc9b9dd3cbb91e6","modified":1513894131100},{"_id":"source/_posts/android/04-MakeLayoutDesign/CompleteScreen.png","hash":"51cebffc093d782d9bb62e5696bb69c210c054cf","modified":1517031297702},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate02.png","hash":"40998d06a7f43e0a005d64e09132bd2b98825771","modified":1513894131139},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate06.png","hash":"9e52f846b1118c9bdb0d084881f11909aeff02e4","modified":1513894131145},{"_id":"source/_posts/android/05-ButtonAction/rerationcode01.png","hash":"751c96450bc08c67e54ea57718cf8fb3072e5d02","modified":1513894131150},{"_id":"source/_posts/android/05-ButtonAction/DesignCode.png","hash":"10fea11983f13e61eaa45ac88bec8cd5d609a6b0","modified":1515851327204},{"_id":"source/_posts/android/05-ButtonAction/setid01.png","hash":"3c409597e97cacbbd0b99c95bba7bb3acac4fa6a","modified":1516719046554},{"_id":"source/_posts/android/05-ButtonAction/setid02.png","hash":"3bcfcdaa9b3945547a3e9af1f88d859c9ee97ca8","modified":1513894131156},{"_id":"source/_posts/android/05-ButtonAction/setid07.png","hash":"f8702ae0668b3e50eec12c8885e25790fa1baa21","modified":1514705661396},{"_id":"source/_posts/android/06-TransitionScreen/createactivity04.png","hash":"5df11c002657e49aeb078119546e9ffa46e6fa28","modified":1517121259385},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_03.png","hash":"162bf284406eb0451abf61648529556492ff73dc","modified":1513219720837},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_07.png","hash":"00e956a773d6ee0f7e9fd70c9ac97402654b4e32","modified":1513219720855},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_07.png","hash":"0a2cd6a444c3c589eab112c2c8948d5116fead4c","modified":1513219720885},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad05.png","hash":"36742f6ef6922d97f5f0eccc085b2137bacc32e5","modified":1513219720914},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad06.png","hash":"2f6ea65d8aa8fdaf1d6db494ba59354d44ec275f","modified":1513219720916},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad03.png","hash":"242e8f0149ea15a940e982b108bd29eb4726a7d3","modified":1513219720909},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad10.png","hash":"f8ac2bcb263b3dc648288019c741929da7e9045a","modified":1513219720928},{"_id":"source/_posts/android/04-MakeLayoutDesign/le12.png","hash":"735ab631c04fdcb41c02e2f57279b8e7b9a3415e","modified":1517039615713},{"_id":"source/_posts/android/04-MakeLayoutDesign/le6.png","hash":"8d77bfe0125c1d8738fe44dec27a85cf9aa378c2","modified":1513894131128},{"_id":"source/_posts/android/04-MakeLayoutDesign/le7.png","hash":"74e9ec8623248d6d1d4316402f8304f46f016057","modified":1516716704827},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate01.png","hash":"4bcb4adebf432211d3263f8e28bbd460b6446203","modified":1513894131138},{"_id":"source/_posts/android/04-MakeLayoutDesign/le9.png","hash":"b0781588b9fd19c1c2593119f11b6378516b3595","modified":1516717025750},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate08.png","hash":"110fe42869410d4911960bc6159e69a0bc5e2999","modified":1516718408434},{"_id":"source/_posts/android/05-ButtonAction/setid04.png","hash":"daee38d424ff03c8de429bf27175b336dbde0d66","modified":1513894131164},{"_id":"source/_posts/android/05-ButtonAction/setid05.png","hash":"6affea06d209e1c9e4f6f24fb316fa1ee92ef464","modified":1516342724517},{"_id":"source/_posts/android/05-ButtonAction/setid08.png","hash":"88fe73310965fd030285f50a495a43aad5202664","modified":1516720104405},{"_id":"source/_posts/android/06-TransitionScreen/createactivity02.png","hash":"b739e9e33546b5d14fb30e82b79b57ca14780db8","modified":1517120565968},{"_id":"source/_posts/android/06-TransitionScreen/createactivity03.png","hash":"c55d9eeb3c4c5f46f2a73932a7c2749da36fc6a2","modified":1517120874765},{"_id":"source/_posts/android/07-AsyncProcess/AsyncTimerToast.png","hash":"3cbc91dcac923f121b8ad2c1f7265829f2f5f3e6","modified":1516720359443},{"_id":"source/_posts/android/07-AsyncProcess/includeokHttp01.png","hash":"99d36ae20c967afee59e3f45b8ac8b1c080deb88","modified":1516951889197},{"_id":"themes/very-simple/.git/logs/refs/heads/master","hash":"732d501a387f6dbcae4b8e89087b150b90a98e2a","modified":1510373118565},{"_id":"themes/very-simple/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1510373118563},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad04.png","hash":"1ccfe02fbf00607d4f194c1f614c37122a1a134e","modified":1513219720912},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad07.png","hash":"0540988dccb9601f813128fa137b41c408575dcf","modified":1513219720919},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad11.png","hash":"d2d151c4c1b5a0731e93fe73cbf5461729fb1e34","modified":1513219720930},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad12.png","hash":"2ee2a3f63ad9c31a199ca2f4b4c63e685e49c4fc","modified":1513219720933},{"_id":"source/_posts/android/04-MakeLayoutDesign/le10.png","hash":"6d171ac59859a16c3b0ede092e2c4dfc44afb184","modified":1516717138576},{"_id":"source/_posts/android/04-MakeLayoutDesign/le2.png","hash":"a0168eb31c2a3e78f3a6d255f7bc04e8dffbf1d3","modified":1513894131117},{"_id":"source/_posts/android/04-MakeLayoutDesign/le3.png","hash":"2444e132abcb7c841e2e50ee94ec31b0d17b7374","modified":1513894131119},{"_id":"source/_posts/android/04-MakeLayoutDesign/le11.png","hash":"9d9f8e1daec85f9fd7867b2436de93d102d96315","modified":1517038993546},{"_id":"source/_posts/android/04-MakeLayoutDesign/le4.png","hash":"a4992462f9368e81906c8a57c7faf0c1e1daae13","modified":1513894131122},{"_id":"source/_posts/android/04-MakeLayoutDesign/le5.png","hash":"5173e0aa22215ae8b2f6ac375ca15d68b7d0e004","modified":1513894131125},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate03.png","hash":"a3b62dadf8dbae9bfa5b2efb99e510ccf05553aa","modified":1513894131141},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate05.png","hash":"ff23a5db8718dfd054b3680cbf74bbe70b7f1037","modified":1513894131144},{"_id":"source/_posts/android/05-ButtonAction/setid06.png","hash":"5d6e37dcb9b477666f056443ec7e2cc31a867035","modified":1516343034419},{"_id":"source/_posts/android/06-TransitionScreen/createactivity05.png","hash":"99b9e1676bfde459a40fe913a990631ee221dbf2","modified":1517121304294},{"_id":"source/_posts/android/07-AsyncProcess/includeokHttp02.png","hash":"89d3901252d5923acfe49e169bd960f404b6e2f4","modified":1516952506313},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_02.png","hash":"285eff03a474e2baeecc883923dcc1fc0818d85e","modified":1513219720836},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad09.png","hash":"20ea707b0ef11f7263a5f9cb819552ed128d72e8","modified":1513219720925},{"_id":"source/_posts/android/04-MakeLayoutDesign/le8.png","hash":"b0fbc4cc8f14018b820637d380fb931b4713286a","modified":1516716827242},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate04.png","hash":"93f4aedac2c4a4b466a56583f2d2903c2f96ce1f","modified":1513894131143},{"_id":"source/_posts/android/05-ButtonAction/setid03.png","hash":"98f0acc3918efe7779f96605d6004622758828bd","modified":1516719332319},{"_id":"themes/very-simple/.git/logs/refs/remotes/origin/HEAD","hash":"732d501a387f6dbcae4b8e89087b150b90a98e2a","modified":1510373118563},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate07.png","hash":"d4b4325b6495b3bb07c92c8b287de9cfad233ae6","modified":1513894131147},{"_id":"source/_posts/android/07-AsyncProcess/MainThreadError.png","hash":"9a5a070351828d297a3ecdb8c9cc5fe6dedd0d34","modified":1516241884308},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI03.png","hash":"aa5c1499679cfdbf61180d11fb977849357f8adf","modified":1512799243570},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_dl.png","hash":"7e5a0ba98efa7991d94aab2ad923468020b50617","modified":1513219720877},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad08.png","hash":"c23d8ee1ef45fdbf3a52d75f215f572b01f4af54","modified":1513219720923},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_04.png","hash":"373400bcaa15332feb1752d0732e85b4aeab7e8f","modified":1513219720849},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI08.png","hash":"8a56170e886b9de937c9d8a5c3f1597dd183405f","modified":1512810187650},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_01.png","hash":"8c81e042850bb7d1a369ed5431fc525a6175eb9c","modified":1513219720834},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_c_01.png","hash":"69225fd50b09618f313ae8308a2f5dd61ad9f849","modified":1513219720873},{"_id":"source/_posts/android/06-TransitionScreen/createactivity01_2.png","hash":"24c338aa325b706b83bad97132326e0447421393","modified":1517119420087},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI09.png","hash":"1c28dfcdfc32bb8be34ec073a194255b6c706159","modified":1512810278059},{"_id":"source/_posts/android/06-TransitionScreen/createactivity01_1.png","hash":"1e772d375b1b07129c1de3c31be3c3adce9c054a","modified":1517114273917},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI01.png","hash":"50b025c12deaaca4fa8e33c43a09da27145c78e1","modified":1516696242441},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI10.png","hash":"f8dd35d3fe1e6c9e6246bb9710bc2211e23e3a56","modified":1512810288665},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI12.png","hash":"4e2306b198c04d160b4b0d46f9c6c1c54b32be17","modified":1512810377386},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI11.png","hash":"76713f963fc637f6e3f4c43100084bb5290f8216","modified":1512810364959},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI05.png","hash":"acfb3f86ca886e5f8869e96a7a95e2469936f9f4","modified":1512810093578},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI07.png","hash":"5593e809dbdcfd685a8487f92c8ae75792afb35c","modified":1512810112872},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI06.png","hash":"bcf6ffebfea5179a20419ad8e8ff8bcc7ed18490","modified":1512810108070},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI02.png","hash":"11f20d322c8179e77ab415603c1e8320ebfc5094","modified":1512799230494},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI04.png","hash":"13ac140d8ba8d8aae4761b895167e9e573c47717","modified":1512799252979},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_08.png","hash":"4ccad4b554ef47f431ab29e8df5a9eb1045b19bf","modified":1513219720867},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad01.png","hash":"cc4128fbbdcce7bb161dd260cb4be83dd9d32836","modified":1513219720903},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI13.png","hash":"b9261619c996fbef7788db2c6485ce895aadc30d","modified":1512907366916},{"_id":"themes/very-simple/.git/objects/pack/pack-deedf889bad5b5fe600d93dfdb5f6ee78f270250.pack","hash":"193fcefacc738a33c5432952ecdd9fd39afc947c","modified":1510373118550},{"_id":"source/_posts/android/06-TransitionScreen/TransitionScreen.gif","hash":"a950b477407b9640e88cfa186efdc04d925dc4c3","modified":1517123788337},{"_id":"source/_posts/android/06-TransitionScreen/re_le03.png","hash":"4773131be56d077e74f24f3d986d319e8c1f64c9","modified":1517202773749},{"_id":"source/_posts/android/06-TransitionScreen/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1517203263284},{"_id":"source/_posts/android/06-TransitionScreen/re_le01.png","hash":"a05b5daf143bc806f354c8a31653078e9d4d6f71","modified":1517201248271},{"_id":"source/_posts/android/06-TransitionScreen/re_le02.png","hash":"1365644292afbea8f5c4f1642a535ae2ea1a805d","modified":1517201469701}],"Category":[],"Data":[],"Page":[],"Post":[{"title":"Android アプリ開発の環境構築","date":"2017-10-31T15:00:00.000Z","_content":"Androidアプリの開発を行うための環境構築をおこないます。\n\n<!-- toc -->\n\nWindows / Mac の各PCごとに手順が違うためそれぞれの環境構築手順を以下に記述します。\n\n# 環境構築(Windows PC)\nAndroid アプリの開発を始めるには最低限２つソフトウェアのインストールと設定を行う必要があります。\nこれ以降にwindows OS環境でのAndroid アプリ開発をおこなく準備作業を記載します。\n* java(JDK)\n* Android Studio\n\n## java(JDK)\n\nまずはAndroid アプリの開発を行うためのプログラミング言語javaを実行できるようにする必要があるため、\njava(JDK)をインストールします。\n\n### JDKのダウンロード\nインストールするにはまず、java(JDK)をダウンロードする必要があるため、以下のリンクからjava(JDK)をダウンロードします。\n\n**java(JDK)のバージョンとして動作保証がされているjava8系のダウンロードを行います**\n\n下記リンクをクリックしJDKダウンロードページにアクセスします。\n[JDK8 ダウンロードページ](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)\n※ 資料作成時の最新版**java 8u152**バージョンのダウンロード手順で記載していきます。\n\n下図の通り```Java SE Development Kit 8u152```の項目から\n```Accept License Agreement```にチェックを入れ、```Windows x64```のDownload列のリンクをクリックしてexeファイルをダウンロードします。\n<img src=\"j8_dl.png\" alt=\"alt\" title=\"java se download\" width=\"520\">\n\n### JDKのインストール\nダウンロードしたJDKのインストーラを起動してPCにJDKをインストールします。\n\n1. ダウンロードしたexeファイルをダブルクリックしインストーラーを起動します。\n<img src=\"j8_i_01.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"520\">\n2. 確認ダイアログが表示された場合は、```はい```をクリックします。\n<img src=\"j8_i_02.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\">\n3. JDKのインストール開始画面が表示されたら```次(N) >```をクリックし、その後も画面に従いインストールを進めます。\n<img src=\"j8_i_03.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\">\n4. **開発ツール**が選択されていることを確認し、```次(N) >```をクリックします\n<img src=\"j8_i_04.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\">\n5. JDKの保存先を設定できます、変更は不要なので```次(N) >```をクリックします\n<img src=\"j8_i_06.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\">\n6. インストールが始まります、完了して画面が変わるのを待ちます\n<img src=\"j8_i_07.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\">\n7. インストールの完了画面が表示されたら```閉じる(C)```をクリックします\n<img src=\"j8_i_08.png\" alt=\"alt\" title=\"java(JDK) install complete\" width=\"450\">\n\n以上でJDKのインストールが完了です。\n\n\n---\n\n### JDKのインストール 確認\n次にコマンドプロンプトを使いJDKが正しくインストールされたことを確認します。\n\n1. Windows ホーム画面の左下にある```検索欄```に```cmd```と入力し**コマンドプロンプト**をクリックし起動します。\n<img src=\"j8_c_01.png\" alt=\"alt\" title=\"java(JDK) install confirm\" width=\"520\">\n2. コマンドプロンプトに```java -version```と入力しエンターキーを押します。\n<img src=\"j8_c_02.png\" alt=\"alt\" title=\"java(JDK) install confirm\" width=\"600\">\n\n以上でjava(JDK)のインストールの確認ができました\n\n---\n\n## Android Studio\n最後にAndroid Studioの環境構築を行います。\nAndroid Studioをインストールするため、exeファイルを下記リンクからダウンロードページにアクセスします。\n\n[Android Studio ダウンロードページ](https://developer.android.com/studio/index.html?hl=ja)\n※ 資料作成時の最新版は Android Studio 3.0.1\n\n1. **Android Studio Androidの公式 IDE**下にある```Android Studio 3.0.1 FOR WINDOWS...```のボタンをクリックしexeファイルをダウンロードします。\n<img src=\"as_i_01.png\" alt=\"alt\" title=\"Android Studio download\" width=\"520\">\n2. ダウンロードの確認画面が表示されたら**利用規約**を確認の上、チェックをクリックし、```ANDROID STUDIO FOR WINDOWS ダウンロード```をクリックします。\n<img src=\"as_i_02.png\" alt=\"alt\" title=\"Android Studio download\" width=\"520\">\n3. ダウンロードしたexeファイルをダブルクリックし、Android Studioのインストーラーを起動します。\n<img src=\"as_i_03.png\" alt=\"alt\" title=\"Android Studio download\" width=\"520\">\n4. 確認ダイアログが表示された場合は```はい```をクリックします\n<img src=\"as_i_04.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n5. インストーラの起動画面が表示されたら```Next >```をクリックします\n<img src=\"as_i_05.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n6. インストールするコンポーネント設定が表示されたら\"Android Virtual Device\"がチェックされていることを確認し、```Next >```をクリックします\n<img src=\"as_i_06.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n7. Android Studioの保存先を設定します、変更の必要がなければ```Next >```をクリックりします\n<img src=\"as_i_07.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n8. ```Install```をクリックします\n<img src=\"as_i_08.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n9. インストールの完了を待ちます\n<img src=\"as_i_09.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n10. インストールが終わったら```Next >```をクリックします\n<img src=\"as_i_10.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n11. ```Finish```をクリックすると、Android Studioが起動します。\n引き続き、Android Studioの初回セットアップを行います\n<img src=\"as_i_11.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n12. Android Studioが起動しAndroid SDK Componentのインストールが開始されます\n<img src=\"as_s_01.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n13. Welcom画面が表示されたら```Next```をクリック\n<img src=\"as_s_02.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n14. Install Type画面では**Standard**が選択されていることを確認し```Next```をクリックします\n<img src=\"as_s_03.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n15. Android Studioのテーマ、色合いを好みで選択し、```Next```をクリックします\n<img src=\"as_s_04.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n16. 確認画面が表示されたら```Finish```をクリックします\n<img src=\"as_s_05.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n17. Androidアプリの開発に必要なComponentのダウンロードを待ちます\n<img src=\"as_s_06.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n18. ダウンロードが終了したら、```Finish```をクリックします\n<img src=\"as_s_07.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n19. Android Studioの起動画面が表示されたら完了です\n<img src=\"as_s_08.png\" alt=\"alt\" title=\"Android Studio setup complete\" width=\"450\">\n\n以上でAndroid Studioのインストール、セットアップ作業は完了です。\nAndroidアプリの開発環境が整いましたので早速開発に入っていきましょう！\n\n# 環境構築(Mac PC)\n\n## java(JDK)のインストール\n\n## Android Studioのインストール\n\n","source":"_posts/android/00-EnvironmentStructure.md","raw":"---\ntitle: Android アプリ開発の環境構築\ndate: 2017-11-01\n---\nAndroidアプリの開発を行うための環境構築をおこないます。\n\n<!-- toc -->\n\nWindows / Mac の各PCごとに手順が違うためそれぞれの環境構築手順を以下に記述します。\n\n# 環境構築(Windows PC)\nAndroid アプリの開発を始めるには最低限２つソフトウェアのインストールと設定を行う必要があります。\nこれ以降にwindows OS環境でのAndroid アプリ開発をおこなく準備作業を記載します。\n* java(JDK)\n* Android Studio\n\n## java(JDK)\n\nまずはAndroid アプリの開発を行うためのプログラミング言語javaを実行できるようにする必要があるため、\njava(JDK)をインストールします。\n\n### JDKのダウンロード\nインストールするにはまず、java(JDK)をダウンロードする必要があるため、以下のリンクからjava(JDK)をダウンロードします。\n\n**java(JDK)のバージョンとして動作保証がされているjava8系のダウンロードを行います**\n\n下記リンクをクリックしJDKダウンロードページにアクセスします。\n[JDK8 ダウンロードページ](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)\n※ 資料作成時の最新版**java 8u152**バージョンのダウンロード手順で記載していきます。\n\n下図の通り```Java SE Development Kit 8u152```の項目から\n```Accept License Agreement```にチェックを入れ、```Windows x64```のDownload列のリンクをクリックしてexeファイルをダウンロードします。\n<img src=\"j8_dl.png\" alt=\"alt\" title=\"java se download\" width=\"520\">\n\n### JDKのインストール\nダウンロードしたJDKのインストーラを起動してPCにJDKをインストールします。\n\n1. ダウンロードしたexeファイルをダブルクリックしインストーラーを起動します。\n<img src=\"j8_i_01.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"520\">\n2. 確認ダイアログが表示された場合は、```はい```をクリックします。\n<img src=\"j8_i_02.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\">\n3. JDKのインストール開始画面が表示されたら```次(N) >```をクリックし、その後も画面に従いインストールを進めます。\n<img src=\"j8_i_03.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\">\n4. **開発ツール**が選択されていることを確認し、```次(N) >```をクリックします\n<img src=\"j8_i_04.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\">\n5. JDKの保存先を設定できます、変更は不要なので```次(N) >```をクリックします\n<img src=\"j8_i_06.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\">\n6. インストールが始まります、完了して画面が変わるのを待ちます\n<img src=\"j8_i_07.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\">\n7. インストールの完了画面が表示されたら```閉じる(C)```をクリックします\n<img src=\"j8_i_08.png\" alt=\"alt\" title=\"java(JDK) install complete\" width=\"450\">\n\n以上でJDKのインストールが完了です。\n\n\n---\n\n### JDKのインストール 確認\n次にコマンドプロンプトを使いJDKが正しくインストールされたことを確認します。\n\n1. Windows ホーム画面の左下にある```検索欄```に```cmd```と入力し**コマンドプロンプト**をクリックし起動します。\n<img src=\"j8_c_01.png\" alt=\"alt\" title=\"java(JDK) install confirm\" width=\"520\">\n2. コマンドプロンプトに```java -version```と入力しエンターキーを押します。\n<img src=\"j8_c_02.png\" alt=\"alt\" title=\"java(JDK) install confirm\" width=\"600\">\n\n以上でjava(JDK)のインストールの確認ができました\n\n---\n\n## Android Studio\n最後にAndroid Studioの環境構築を行います。\nAndroid Studioをインストールするため、exeファイルを下記リンクからダウンロードページにアクセスします。\n\n[Android Studio ダウンロードページ](https://developer.android.com/studio/index.html?hl=ja)\n※ 資料作成時の最新版は Android Studio 3.0.1\n\n1. **Android Studio Androidの公式 IDE**下にある```Android Studio 3.0.1 FOR WINDOWS...```のボタンをクリックしexeファイルをダウンロードします。\n<img src=\"as_i_01.png\" alt=\"alt\" title=\"Android Studio download\" width=\"520\">\n2. ダウンロードの確認画面が表示されたら**利用規約**を確認の上、チェックをクリックし、```ANDROID STUDIO FOR WINDOWS ダウンロード```をクリックします。\n<img src=\"as_i_02.png\" alt=\"alt\" title=\"Android Studio download\" width=\"520\">\n3. ダウンロードしたexeファイルをダブルクリックし、Android Studioのインストーラーを起動します。\n<img src=\"as_i_03.png\" alt=\"alt\" title=\"Android Studio download\" width=\"520\">\n4. 確認ダイアログが表示された場合は```はい```をクリックします\n<img src=\"as_i_04.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n5. インストーラの起動画面が表示されたら```Next >```をクリックします\n<img src=\"as_i_05.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n6. インストールするコンポーネント設定が表示されたら\"Android Virtual Device\"がチェックされていることを確認し、```Next >```をクリックします\n<img src=\"as_i_06.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n7. Android Studioの保存先を設定します、変更の必要がなければ```Next >```をクリックりします\n<img src=\"as_i_07.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n8. ```Install```をクリックします\n<img src=\"as_i_08.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n9. インストールの完了を待ちます\n<img src=\"as_i_09.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n10. インストールが終わったら```Next >```をクリックします\n<img src=\"as_i_10.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n11. ```Finish```をクリックすると、Android Studioが起動します。\n引き続き、Android Studioの初回セットアップを行います\n<img src=\"as_i_11.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\">\n12. Android Studioが起動しAndroid SDK Componentのインストールが開始されます\n<img src=\"as_s_01.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n13. Welcom画面が表示されたら```Next```をクリック\n<img src=\"as_s_02.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n14. Install Type画面では**Standard**が選択されていることを確認し```Next```をクリックします\n<img src=\"as_s_03.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n15. Android Studioのテーマ、色合いを好みで選択し、```Next```をクリックします\n<img src=\"as_s_04.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n16. 確認画面が表示されたら```Finish```をクリックします\n<img src=\"as_s_05.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n17. Androidアプリの開発に必要なComponentのダウンロードを待ちます\n<img src=\"as_s_06.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n18. ダウンロードが終了したら、```Finish```をクリックします\n<img src=\"as_s_07.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\">\n19. Android Studioの起動画面が表示されたら完了です\n<img src=\"as_s_08.png\" alt=\"alt\" title=\"Android Studio setup complete\" width=\"450\">\n\n以上でAndroid Studioのインストール、セットアップ作業は完了です。\nAndroidアプリの開発環境が整いましたので早速開発に入っていきましょう！\n\n# 環境構築(Mac PC)\n\n## java(JDK)のインストール\n\n## Android Studioのインストール\n\n","slug":"00-EnvironmentStructure","published":1,"updated":"2017-12-21T22:08:51.093Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjczn7sxa0000rc61l0pn3ltb","content":"<p>Androidアプリの開発を行うための環境構築をおこないます。</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#環境構築windows-pc\">環境構築(Windows PC)</a><ul>\n<li><a href=\"#javajdk\">java(JDK)</a><ul>\n<li><a href=\"#jdkのダウンロード\">JDKのダウンロード</a></li>\n<li><a href=\"#jdkのインストール\">JDKのインストール</a></li>\n<li><a href=\"#jdkのインストール-確認\">JDKのインストール 確認</a></li>\n</ul>\n</li>\n<li><a href=\"#android-studio\">Android Studio</a></li>\n</ul>\n</li>\n<li><a href=\"#環境構築mac-pc\">環境構築(Mac PC)</a><ul>\n<li><a href=\"#javajdkのインストール\">java(JDK)のインストール</a></li>\n<li><a href=\"#android-studioのインストール\">Android Studioのインストール</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n<p>Windows / Mac の各PCごとに手順が違うためそれぞれの環境構築手順を以下に記述します。</p>\n<h1><span id=\"環境構築windows-pc\">環境構築(Windows PC)</span></h1><p>Android アプリの開発を始めるには最低限２つソフトウェアのインストールと設定を行う必要があります。<br>これ以降にwindows OS環境でのAndroid アプリ開発をおこなく準備作業を記載します。</p>\n<ul>\n<li>java(JDK)</li>\n<li>Android Studio</li>\n</ul>\n<h2><span id=\"javajdk\">java(JDK)</span></h2><p>まずはAndroid アプリの開発を行うためのプログラミング言語javaを実行できるようにする必要があるため、<br>java(JDK)をインストールします。</p>\n<h3><span id=\"jdkのダウンロード\">JDKのダウンロード</span></h3><p>インストールするにはまず、java(JDK)をダウンロードする必要があるため、以下のリンクからjava(JDK)をダウンロードします。</p>\n<p><strong>java(JDK)のバージョンとして動作保証がされているjava8系のダウンロードを行います</strong></p>\n<p>下記リンクをクリックしJDKダウンロードページにアクセスします。<br><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"external\">JDK8 ダウンロードページ</a><br>※ 資料作成時の最新版<strong>java 8u152</strong>バージョンのダウンロード手順で記載していきます。</p>\n<p>下図の通り<code>Java SE Development Kit 8u152</code>の項目から<br><code>Accept License Agreement</code>にチェックを入れ、<code>Windows x64</code>のDownload列のリンクをクリックしてexeファイルをダウンロードします。<br><img src=\"j8_dl.png\" alt=\"alt\" title=\"java se download\" width=\"520\"></p>\n<h3><span id=\"jdkのインストール\">JDKのインストール</span></h3><p>ダウンロードしたJDKのインストーラを起動してPCにJDKをインストールします。</p>\n<ol>\n<li>ダウンロードしたexeファイルをダブルクリックしインストーラーを起動します。<br><img src=\"j8_i_01.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"520\"></li>\n<li>確認ダイアログが表示された場合は、<code>はい</code>をクリックします。<br><img src=\"j8_i_02.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\"></li>\n<li>JDKのインストール開始画面が表示されたら<code>次(N) &gt;</code>をクリックし、その後も画面に従いインストールを進めます。<br><img src=\"j8_i_03.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\"></li>\n<li><strong>開発ツール</strong>が選択されていることを確認し、<code>次(N) &gt;</code>をクリックします<br><img src=\"j8_i_04.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\"></li>\n<li>JDKの保存先を設定できます、変更は不要なので<code>次(N) &gt;</code>をクリックします<br><img src=\"j8_i_06.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\"></li>\n<li>インストールが始まります、完了して画面が変わるのを待ちます<br><img src=\"j8_i_07.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\"></li>\n<li>インストールの完了画面が表示されたら<code>閉じる(C)</code>をクリックします<br><img src=\"j8_i_08.png\" alt=\"alt\" title=\"java(JDK) install complete\" width=\"450\"></li>\n</ol>\n<p>以上でJDKのインストールが完了です。</p>\n<hr>\n<h3><span id=\"jdkのインストール-確認\">JDKのインストール 確認</span></h3><p>次にコマンドプロンプトを使いJDKが正しくインストールされたことを確認します。</p>\n<ol>\n<li>Windows ホーム画面の左下にある<code>検索欄</code>に<code>cmd</code>と入力し<strong>コマンドプロンプト</strong>をクリックし起動します。<br><img src=\"j8_c_01.png\" alt=\"alt\" title=\"java(JDK) install confirm\" width=\"520\"></li>\n<li>コマンドプロンプトに<code>java -version</code>と入力しエンターキーを押します。<br><img src=\"j8_c_02.png\" alt=\"alt\" title=\"java(JDK) install confirm\" width=\"600\"></li>\n</ol>\n<p>以上でjava(JDK)のインストールの確認ができました</p>\n<hr>\n<h2><span id=\"android-studio\">Android Studio</span></h2><p>最後にAndroid Studioの環境構築を行います。<br>Android Studioをインストールするため、exeファイルを下記リンクからダウンロードページにアクセスします。</p>\n<p><a href=\"https://developer.android.com/studio/index.html?hl=ja\" target=\"_blank\" rel=\"external\">Android Studio ダウンロードページ</a><br>※ 資料作成時の最新版は Android Studio 3.0.1</p>\n<ol>\n<li><strong>Android Studio Androidの公式 IDE</strong>下にある<code>Android Studio 3.0.1 FOR WINDOWS...</code>のボタンをクリックしexeファイルをダウンロードします。<br><img src=\"as_i_01.png\" alt=\"alt\" title=\"Android Studio download\" width=\"520\"></li>\n<li>ダウンロードの確認画面が表示されたら<strong>利用規約</strong>を確認の上、チェックをクリックし、<code>ANDROID STUDIO FOR WINDOWS ダウンロード</code>をクリックします。<br><img src=\"as_i_02.png\" alt=\"alt\" title=\"Android Studio download\" width=\"520\"></li>\n<li>ダウンロードしたexeファイルをダブルクリックし、Android Studioのインストーラーを起動します。<br><img src=\"as_i_03.png\" alt=\"alt\" title=\"Android Studio download\" width=\"520\"></li>\n<li>確認ダイアログが表示された場合は<code>はい</code>をクリックします<br><img src=\"as_i_04.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li>インストーラの起動画面が表示されたら<code>Next &gt;</code>をクリックします<br><img src=\"as_i_05.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li>インストールするコンポーネント設定が表示されたら”Android Virtual Device”がチェックされていることを確認し、<code>Next &gt;</code>をクリックします<br><img src=\"as_i_06.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li>Android Studioの保存先を設定します、変更の必要がなければ<code>Next &gt;</code>をクリックりします<br><img src=\"as_i_07.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li><code>Install</code>をクリックします<br><img src=\"as_i_08.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li>インストールの完了を待ちます<br><img src=\"as_i_09.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li>インストールが終わったら<code>Next &gt;</code>をクリックします<br><img src=\"as_i_10.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li><code>Finish</code>をクリックすると、Android Studioが起動します。<br>引き続き、Android Studioの初回セットアップを行います<br><img src=\"as_i_11.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li>Android Studioが起動しAndroid SDK Componentのインストールが開始されます<br><img src=\"as_s_01.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>Welcom画面が表示されたら<code>Next</code>をクリック<br><img src=\"as_s_02.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>Install Type画面では<strong>Standard</strong>が選択されていることを確認し<code>Next</code>をクリックします<br><img src=\"as_s_03.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>Android Studioのテーマ、色合いを好みで選択し、<code>Next</code>をクリックします<br><img src=\"as_s_04.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>確認画面が表示されたら<code>Finish</code>をクリックします<br><img src=\"as_s_05.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>Androidアプリの開発に必要なComponentのダウンロードを待ちます<br><img src=\"as_s_06.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>ダウンロードが終了したら、<code>Finish</code>をクリックします<br><img src=\"as_s_07.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>Android Studioの起動画面が表示されたら完了です<br><img src=\"as_s_08.png\" alt=\"alt\" title=\"Android Studio setup complete\" width=\"450\"></li>\n</ol>\n<p>以上でAndroid Studioのインストール、セットアップ作業は完了です。<br>Androidアプリの開発環境が整いましたので早速開発に入っていきましょう！</p>\n<h1><span id=\"環境構築mac-pc\">環境構築(Mac PC)</span></h1><h2><span id=\"javajdkのインストール\">java(JDK)のインストール</span></h2><h2><span id=\"android-studioのインストール\">Android Studioのインストール</span></h2>","site":{"data":{}},"excerpt":"","more":"<p>Androidアプリの開発を行うための環境構築をおこないます。</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#環境構築windows-pc\">環境構築(Windows PC)</a><ul>\n<li><a href=\"#javajdk\">java(JDK)</a><ul>\n<li><a href=\"#jdkのダウンロード\">JDKのダウンロード</a></li>\n<li><a href=\"#jdkのインストール\">JDKのインストール</a></li>\n<li><a href=\"#jdkのインストール-確認\">JDKのインストール 確認</a></li>\n</ul>\n</li>\n<li><a href=\"#android-studio\">Android Studio</a></li>\n</ul>\n</li>\n<li><a href=\"#環境構築mac-pc\">環境構築(Mac PC)</a><ul>\n<li><a href=\"#javajdkのインストール\">java(JDK)のインストール</a></li>\n<li><a href=\"#android-studioのインストール\">Android Studioのインストール</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n<p>Windows / Mac の各PCごとに手順が違うためそれぞれの環境構築手順を以下に記述します。</p>\n<h1 id=\"環境構築-Windows-PC\"><a href=\"#環境構築-Windows-PC\" class=\"headerlink\" title=\"環境構築(Windows PC)\"></a>環境構築(Windows PC)</h1><p>Android アプリの開発を始めるには最低限２つソフトウェアのインストールと設定を行う必要があります。<br>これ以降にwindows OS環境でのAndroid アプリ開発をおこなく準備作業を記載します。</p>\n<ul>\n<li>java(JDK)</li>\n<li>Android Studio</li>\n</ul>\n<h2 id=\"java-JDK\"><a href=\"#java-JDK\" class=\"headerlink\" title=\"java(JDK)\"></a>java(JDK)</h2><p>まずはAndroid アプリの開発を行うためのプログラミング言語javaを実行できるようにする必要があるため、<br>java(JDK)をインストールします。</p>\n<h3 id=\"JDKのダウンロード\"><a href=\"#JDKのダウンロード\" class=\"headerlink\" title=\"JDKのダウンロード\"></a>JDKのダウンロード</h3><p>インストールするにはまず、java(JDK)をダウンロードする必要があるため、以下のリンクからjava(JDK)をダウンロードします。</p>\n<p><strong>java(JDK)のバージョンとして動作保証がされているjava8系のダウンロードを行います</strong></p>\n<p>下記リンクをクリックしJDKダウンロードページにアクセスします。<br><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"external\">JDK8 ダウンロードページ</a><br>※ 資料作成時の最新版<strong>java 8u152</strong>バージョンのダウンロード手順で記載していきます。</p>\n<p>下図の通り<code>Java SE Development Kit 8u152</code>の項目から<br><code>Accept License Agreement</code>にチェックを入れ、<code>Windows x64</code>のDownload列のリンクをクリックしてexeファイルをダウンロードします。<br><img src=\"j8_dl.png\" alt=\"alt\" title=\"java se download\" width=\"520\"></p>\n<h3 id=\"JDKのインストール\"><a href=\"#JDKのインストール\" class=\"headerlink\" title=\"JDKのインストール\"></a>JDKのインストール</h3><p>ダウンロードしたJDKのインストーラを起動してPCにJDKをインストールします。</p>\n<ol>\n<li>ダウンロードしたexeファイルをダブルクリックしインストーラーを起動します。<br><img src=\"j8_i_01.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"520\"></li>\n<li>確認ダイアログが表示された場合は、<code>はい</code>をクリックします。<br><img src=\"j8_i_02.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\"></li>\n<li>JDKのインストール開始画面が表示されたら<code>次(N) &gt;</code>をクリックし、その後も画面に従いインストールを進めます。<br><img src=\"j8_i_03.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\"></li>\n<li><strong>開発ツール</strong>が選択されていることを確認し、<code>次(N) &gt;</code>をクリックします<br><img src=\"j8_i_04.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\"></li>\n<li>JDKの保存先を設定できます、変更は不要なので<code>次(N) &gt;</code>をクリックします<br><img src=\"j8_i_06.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\"></li>\n<li>インストールが始まります、完了して画面が変わるのを待ちます<br><img src=\"j8_i_07.png\" alt=\"alt\" title=\"java(JDK) install\" width=\"450\"></li>\n<li>インストールの完了画面が表示されたら<code>閉じる(C)</code>をクリックします<br><img src=\"j8_i_08.png\" alt=\"alt\" title=\"java(JDK) install complete\" width=\"450\"></li>\n</ol>\n<p>以上でJDKのインストールが完了です。</p>\n<hr>\n<h3 id=\"JDKのインストール-確認\"><a href=\"#JDKのインストール-確認\" class=\"headerlink\" title=\"JDKのインストール 確認\"></a>JDKのインストール 確認</h3><p>次にコマンドプロンプトを使いJDKが正しくインストールされたことを確認します。</p>\n<ol>\n<li>Windows ホーム画面の左下にある<code>検索欄</code>に<code>cmd</code>と入力し<strong>コマンドプロンプト</strong>をクリックし起動します。<br><img src=\"j8_c_01.png\" alt=\"alt\" title=\"java(JDK) install confirm\" width=\"520\"></li>\n<li>コマンドプロンプトに<code>java -version</code>と入力しエンターキーを押します。<br><img src=\"j8_c_02.png\" alt=\"alt\" title=\"java(JDK) install confirm\" width=\"600\"></li>\n</ol>\n<p>以上でjava(JDK)のインストールの確認ができました</p>\n<hr>\n<h2 id=\"Android-Studio\"><a href=\"#Android-Studio\" class=\"headerlink\" title=\"Android Studio\"></a>Android Studio</h2><p>最後にAndroid Studioの環境構築を行います。<br>Android Studioをインストールするため、exeファイルを下記リンクからダウンロードページにアクセスします。</p>\n<p><a href=\"https://developer.android.com/studio/index.html?hl=ja\" target=\"_blank\" rel=\"external\">Android Studio ダウンロードページ</a><br>※ 資料作成時の最新版は Android Studio 3.0.1</p>\n<ol>\n<li><strong>Android Studio Androidの公式 IDE</strong>下にある<code>Android Studio 3.0.1 FOR WINDOWS...</code>のボタンをクリックしexeファイルをダウンロードします。<br><img src=\"as_i_01.png\" alt=\"alt\" title=\"Android Studio download\" width=\"520\"></li>\n<li>ダウンロードの確認画面が表示されたら<strong>利用規約</strong>を確認の上、チェックをクリックし、<code>ANDROID STUDIO FOR WINDOWS ダウンロード</code>をクリックします。<br><img src=\"as_i_02.png\" alt=\"alt\" title=\"Android Studio download\" width=\"520\"></li>\n<li>ダウンロードしたexeファイルをダブルクリックし、Android Studioのインストーラーを起動します。<br><img src=\"as_i_03.png\" alt=\"alt\" title=\"Android Studio download\" width=\"520\"></li>\n<li>確認ダイアログが表示された場合は<code>はい</code>をクリックします<br><img src=\"as_i_04.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li>インストーラの起動画面が表示されたら<code>Next &gt;</code>をクリックします<br><img src=\"as_i_05.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li>インストールするコンポーネント設定が表示されたら”Android Virtual Device”がチェックされていることを確認し、<code>Next &gt;</code>をクリックします<br><img src=\"as_i_06.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li>Android Studioの保存先を設定します、変更の必要がなければ<code>Next &gt;</code>をクリックりします<br><img src=\"as_i_07.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li><code>Install</code>をクリックします<br><img src=\"as_i_08.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li>インストールの完了を待ちます<br><img src=\"as_i_09.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li>インストールが終わったら<code>Next &gt;</code>をクリックします<br><img src=\"as_i_10.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li><code>Finish</code>をクリックすると、Android Studioが起動します。<br>引き続き、Android Studioの初回セットアップを行います<br><img src=\"as_i_11.png\" alt=\"alt\" title=\"Android Studio install\" width=\"450\"></li>\n<li>Android Studioが起動しAndroid SDK Componentのインストールが開始されます<br><img src=\"as_s_01.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>Welcom画面が表示されたら<code>Next</code>をクリック<br><img src=\"as_s_02.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>Install Type画面では<strong>Standard</strong>が選択されていることを確認し<code>Next</code>をクリックします<br><img src=\"as_s_03.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>Android Studioのテーマ、色合いを好みで選択し、<code>Next</code>をクリックします<br><img src=\"as_s_04.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>確認画面が表示されたら<code>Finish</code>をクリックします<br><img src=\"as_s_05.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>Androidアプリの開発に必要なComponentのダウンロードを待ちます<br><img src=\"as_s_06.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>ダウンロードが終了したら、<code>Finish</code>をクリックします<br><img src=\"as_s_07.png\" alt=\"alt\" title=\"Android Studio setup\" width=\"450\"></li>\n<li>Android Studioの起動画面が表示されたら完了です<br><img src=\"as_s_08.png\" alt=\"alt\" title=\"Android Studio setup complete\" width=\"450\"></li>\n</ol>\n<p>以上でAndroid Studioのインストール、セットアップ作業は完了です。<br>Androidアプリの開発環境が整いましたので早速開発に入っていきましょう！</p>\n<h1 id=\"環境構築-Mac-PC\"><a href=\"#環境構築-Mac-PC\" class=\"headerlink\" title=\"環境構築(Mac PC)\"></a>環境構築(Mac PC)</h1><h2 id=\"java-JDK-のインストール\"><a href=\"#java-JDK-のインストール\" class=\"headerlink\" title=\"java(JDK)のインストール\"></a>java(JDK)のインストール</h2><h2 id=\"Android-Studioのインストール\"><a href=\"#Android-Studioのインストール\" class=\"headerlink\" title=\"Android Studioのインストール\"></a>Android Studioのインストール</h2>"},{"title":"Android OS とは","date":"2017-11-01T15:00:00.000Z","_content":"Android OSの現在のシェアや動向を紹介します。\n\n<!-- toc -->\n\n# Android OSとは\n\n* google社が作ったスマートフォン向け OS(オペレーションシステム)\n* 無料で世界中の人が使えるオープンソースOS\n* 世界で一番普及しているプログラミング言語 「Java」を使って開発する\n* Google I/O 2017にてモダン言語 「Kotlin」を正式採用\n\n## スマートフォン OSのシェア\n\n現在世界で普及しているスマートフォン/タブレット端末に搭載されているOSは\niOSやAndroid OS,Windows Phoneの3つのOSが市場で多くのシェアを持っています。\n2~3年前は Tizen, FireFox OS, ubuntu mobileなどいくつかのモバイルOSの開発が\nありましたが現在では開発を終了してしまっています。\n\n|OS               |開発者       |最新のバージョン|\n|:----------------|:----------:|:------------:|\n|Android          |Google      |8.0           |\n|iOS              |Apple       |11.1          |\n|Windows 10 Mobile|Microsoft   |1607          |\n\n\n### 世界のスマートフォン OS シェア\n世界をマーケットとした場合、Android OSが最も利用されているスマートフォンOSであることがわかります。\n\nNet Market Share参照[※1]\n<img src=\"WorldShare.png\" alt=\"alt\" title=\"Mobile Share in World\" width=\"300\">\n\n|OS               |開発者       |シェア         |\n|:----------------|:----------:|:-------------|\n|Android          |Google      |70.47%        |\n|iOS              |Apple       |28.55%        |\n|Series 40        |NOKIA       |0.32%         |\n|Windows 10 Mobile|Microsoft   |0.22%         |\n\n### 日本のスマートフォン OS シェア\nマーケットを日本に絞った場合でも最近はAndroid OSがiOSのシェアを上回るようになりました。\nこれはAndroid OSを多く扱う格安SIMの認知が広がりと、iOSのデバイスの購入価格の上昇に\n伴ってAndroid端末を購入する利用者が増えたものと考えられます。\n\nKANTAR WORLDPANEL参照[※2]\n<img src=\"JapanShare.png\" alt=\"alt\" title=\"Mobile Share in Japan\" width=\"300\">\n\n|OS               |開発者       |シェア         |\n|:----------------|:----------:|:-------------|\n|Android          |Google      |55.00%        |\n|iOS              |Apple       |44.80%        |\n|Windows 10 Mobile|Microsoft   |0.10%         |\n\n## Android アプリの開発環境\n\nAndroid アプリの開発には **Android Studio**というソフトウェアを使います。\n> Android StudioはJET BRAINS社が開発したフリーのAndroid開発ソフトウェアです。\n> 2015年頃までEclipseというソフトウェアでの開発もサポートしていましたが、現在はサポートを終了しています。\n\nAndroidアプリの開発は主に**java**や**Kotlin**と言うプログラミング言語で開発を行います。\nそれぞれのプログラミング言語の特徴を紹介します。\n\n* java\n\t* Oracle(オラクル)社が開発したプログラミング言語\n\t* どんなOS環境での実行も可能なプログラミング言語\n\t* JVM(Java Virtual Machine)と言う仮想マシン上で動く\n* Kotlin\n\t* JET BRAINS社が \"java\" をベースに開発したプログラミング言語\n\t* javaよりコード量を少なくAndroidアプリを開発できる\n\t* javaの動作環境があれば実行可能\n\n## Android OSプラットフォーム\n\n現在(2017/11)で最も多く利用されている Android OSバージョンは6.0(Marshmallow)になります。\n販売されているAndroidデバイスは各販売元の企業によってカスタマイズされた物となっていることが多く、デバイスのスペックを含めた環境から販売元の企業によってアップデートできるOSを管理されており、最新のOSにアップデートできないことが多いです。\nそのため、多くのユーザにアプリを配信したい場合は最も多く利用されているプラットフォームのコードネームより2つ前のコードネームまでを配信の対象にすると良いと思われます。\n\n現在であれば**6.0(Marshmallow)**から2つ前のコードネームなので***4.4(KitKat)***までをサポート対象に含めることで、全世界のAndoroid OS ユーザの内、90%にアプリを配信することができることになります。\n\nAndroid Developers参照[※3]\n\n|Version    |CodeName    |API  |User     |\n|:----------|:-----------|:----|:--------|\n|6.0        |Marshmallow |23   |30.9%    |\n|5.0~5.1    |Lollipop    |21-22|27.2%    |\n|7.0~7.1    |Nougat      |24-25|20.6%    |\n|4.4        |KitKat      |19   |13.8%    |\n|4.1.x~4.2.x|Jelly Bean  |16-17|5.3%     |\n|4.3        |Jelly Bean  |18   |0.9%     |\n|8.0        |Oreo        |26   |0.3%     |\n\n\n## Android アーキテクチャ\n\nAndroid OSのアーキテクチャはLinux Kernelを基盤に作られています。\n実際の開発に必ず必要になる知識ではありませんので紹介までにとどめさせていただきます。\n\nAndroid Developers参照[※4]\n<img src=\"https://developer.android.com/guide/platform/images/android-stack_2x.png?hl=ja\" alt=\"alt\" title=\"Architecture\" width=\"400\">\n\n[※1]: https://netmarketshare.com/\n[※2]: https://www.kantarworldpanel.com/global/smartphone-os-market-share\n[※3]: https://developer.android.com/about/dashboards/index.html#Platform\n[※4]: https://developer.android.com/guide/platform/index.html?hl=ja#system-apps\n","source":"_posts/android/01-CurrentStatus.md","raw":"---\ntitle: Android OS とは\ndate: 2017-11-02\n---\nAndroid OSの現在のシェアや動向を紹介します。\n\n<!-- toc -->\n\n# Android OSとは\n\n* google社が作ったスマートフォン向け OS(オペレーションシステム)\n* 無料で世界中の人が使えるオープンソースOS\n* 世界で一番普及しているプログラミング言語 「Java」を使って開発する\n* Google I/O 2017にてモダン言語 「Kotlin」を正式採用\n\n## スマートフォン OSのシェア\n\n現在世界で普及しているスマートフォン/タブレット端末に搭載されているOSは\niOSやAndroid OS,Windows Phoneの3つのOSが市場で多くのシェアを持っています。\n2~3年前は Tizen, FireFox OS, ubuntu mobileなどいくつかのモバイルOSの開発が\nありましたが現在では開発を終了してしまっています。\n\n|OS               |開発者       |最新のバージョン|\n|:----------------|:----------:|:------------:|\n|Android          |Google      |8.0           |\n|iOS              |Apple       |11.1          |\n|Windows 10 Mobile|Microsoft   |1607          |\n\n\n### 世界のスマートフォン OS シェア\n世界をマーケットとした場合、Android OSが最も利用されているスマートフォンOSであることがわかります。\n\nNet Market Share参照[※1]\n<img src=\"WorldShare.png\" alt=\"alt\" title=\"Mobile Share in World\" width=\"300\">\n\n|OS               |開発者       |シェア         |\n|:----------------|:----------:|:-------------|\n|Android          |Google      |70.47%        |\n|iOS              |Apple       |28.55%        |\n|Series 40        |NOKIA       |0.32%         |\n|Windows 10 Mobile|Microsoft   |0.22%         |\n\n### 日本のスマートフォン OS シェア\nマーケットを日本に絞った場合でも最近はAndroid OSがiOSのシェアを上回るようになりました。\nこれはAndroid OSを多く扱う格安SIMの認知が広がりと、iOSのデバイスの購入価格の上昇に\n伴ってAndroid端末を購入する利用者が増えたものと考えられます。\n\nKANTAR WORLDPANEL参照[※2]\n<img src=\"JapanShare.png\" alt=\"alt\" title=\"Mobile Share in Japan\" width=\"300\">\n\n|OS               |開発者       |シェア         |\n|:----------------|:----------:|:-------------|\n|Android          |Google      |55.00%        |\n|iOS              |Apple       |44.80%        |\n|Windows 10 Mobile|Microsoft   |0.10%         |\n\n## Android アプリの開発環境\n\nAndroid アプリの開発には **Android Studio**というソフトウェアを使います。\n> Android StudioはJET BRAINS社が開発したフリーのAndroid開発ソフトウェアです。\n> 2015年頃までEclipseというソフトウェアでの開発もサポートしていましたが、現在はサポートを終了しています。\n\nAndroidアプリの開発は主に**java**や**Kotlin**と言うプログラミング言語で開発を行います。\nそれぞれのプログラミング言語の特徴を紹介します。\n\n* java\n\t* Oracle(オラクル)社が開発したプログラミング言語\n\t* どんなOS環境での実行も可能なプログラミング言語\n\t* JVM(Java Virtual Machine)と言う仮想マシン上で動く\n* Kotlin\n\t* JET BRAINS社が \"java\" をベースに開発したプログラミング言語\n\t* javaよりコード量を少なくAndroidアプリを開発できる\n\t* javaの動作環境があれば実行可能\n\n## Android OSプラットフォーム\n\n現在(2017/11)で最も多く利用されている Android OSバージョンは6.0(Marshmallow)になります。\n販売されているAndroidデバイスは各販売元の企業によってカスタマイズされた物となっていることが多く、デバイスのスペックを含めた環境から販売元の企業によってアップデートできるOSを管理されており、最新のOSにアップデートできないことが多いです。\nそのため、多くのユーザにアプリを配信したい場合は最も多く利用されているプラットフォームのコードネームより2つ前のコードネームまでを配信の対象にすると良いと思われます。\n\n現在であれば**6.0(Marshmallow)**から2つ前のコードネームなので***4.4(KitKat)***までをサポート対象に含めることで、全世界のAndoroid OS ユーザの内、90%にアプリを配信することができることになります。\n\nAndroid Developers参照[※3]\n\n|Version    |CodeName    |API  |User     |\n|:----------|:-----------|:----|:--------|\n|6.0        |Marshmallow |23   |30.9%    |\n|5.0~5.1    |Lollipop    |21-22|27.2%    |\n|7.0~7.1    |Nougat      |24-25|20.6%    |\n|4.4        |KitKat      |19   |13.8%    |\n|4.1.x~4.2.x|Jelly Bean  |16-17|5.3%     |\n|4.3        |Jelly Bean  |18   |0.9%     |\n|8.0        |Oreo        |26   |0.3%     |\n\n\n## Android アーキテクチャ\n\nAndroid OSのアーキテクチャはLinux Kernelを基盤に作られています。\n実際の開発に必ず必要になる知識ではありませんので紹介までにとどめさせていただきます。\n\nAndroid Developers参照[※4]\n<img src=\"https://developer.android.com/guide/platform/images/android-stack_2x.png?hl=ja\" alt=\"alt\" title=\"Architecture\" width=\"400\">\n\n[※1]: https://netmarketshare.com/\n[※2]: https://www.kantarworldpanel.com/global/smartphone-os-market-share\n[※3]: https://developer.android.com/about/dashboards/index.html#Platform\n[※4]: https://developer.android.com/guide/platform/index.html?hl=ja#system-apps\n","slug":"01-CurrentStatus","published":1,"updated":"2017-12-14T02:48:40.888Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjczn7sxh0001rc61py1y3xsa","content":"<p>Android OSの現在のシェアや動向を紹介します。</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#android-osとは\">Android OSとは</a><ul>\n<li><a href=\"#スマートフォン-osのシェア\">スマートフォン OSのシェア</a><ul>\n<li><a href=\"#世界のスマートフォン-os-シェア\">世界のスマートフォン OS シェア</a></li>\n<li><a href=\"#日本のスマートフォン-os-シェア\">日本のスマートフォン OS シェア</a></li>\n</ul>\n</li>\n<li><a href=\"#android-アプリの開発環境\">Android アプリの開発環境</a></li>\n<li><a href=\"#android-osプラットフォーム\">Android OSプラットフォーム</a></li>\n<li><a href=\"#android-アーキテクチャ\">Android アーキテクチャ</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n<h1><span id=\"android-osとは\">Android OSとは</span></h1><ul>\n<li>google社が作ったスマートフォン向け OS(オペレーションシステム)</li>\n<li>無料で世界中の人が使えるオープンソースOS</li>\n<li>世界で一番普及しているプログラミング言語 「Java」を使って開発する</li>\n<li>Google I/O 2017にてモダン言語 「Kotlin」を正式採用</li>\n</ul>\n<h2><span id=\"スマートフォン-osのシェア\">スマートフォン OSのシェア</span></h2><p>現在世界で普及しているスマートフォン/タブレット端末に搭載されているOSは<br>iOSやAndroid OS,Windows Phoneの3つのOSが市場で多くのシェアを持っています。<br>2~3年前は Tizen, FireFox OS, ubuntu mobileなどいくつかのモバイルOSの開発が<br>ありましたが現在では開発を終了してしまっています。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">OS</th>\n<th style=\"text-align:center\">開発者</th>\n<th style=\"text-align:center\">最新のバージョン</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Android</td>\n<td style=\"text-align:center\">Google</td>\n<td style=\"text-align:center\">8.0</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">iOS</td>\n<td style=\"text-align:center\">Apple</td>\n<td style=\"text-align:center\">11.1</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Windows 10 Mobile</td>\n<td style=\"text-align:center\">Microsoft</td>\n<td style=\"text-align:center\">1607</td>\n</tr>\n</tbody>\n</table>\n<h3><span id=\"世界のスマートフォン-os-シェア\">世界のスマートフォン OS シェア</span></h3><p>世界をマーケットとした場合、Android OSが最も利用されているスマートフォンOSであることがわかります。</p>\n<p>Net Market Share参照<a href=\"https://netmarketshare.com/\" target=\"_blank\" rel=\"external\">※1</a><br><img src=\"WorldShare.png\" alt=\"alt\" title=\"Mobile Share in World\" width=\"300\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">OS</th>\n<th style=\"text-align:center\">開発者</th>\n<th style=\"text-align:left\">シェア</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Android</td>\n<td style=\"text-align:center\">Google</td>\n<td style=\"text-align:left\">70.47%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">iOS</td>\n<td style=\"text-align:center\">Apple</td>\n<td style=\"text-align:left\">28.55%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Series 40</td>\n<td style=\"text-align:center\">NOKIA</td>\n<td style=\"text-align:left\">0.32%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Windows 10 Mobile</td>\n<td style=\"text-align:center\">Microsoft</td>\n<td style=\"text-align:left\">0.22%</td>\n</tr>\n</tbody>\n</table>\n<h3><span id=\"日本のスマートフォン-os-シェア\">日本のスマートフォン OS シェア</span></h3><p>マーケットを日本に絞った場合でも最近はAndroid OSがiOSのシェアを上回るようになりました。<br>これはAndroid OSを多く扱う格安SIMの認知が広がりと、iOSのデバイスの購入価格の上昇に<br>伴ってAndroid端末を購入する利用者が増えたものと考えられます。</p>\n<p>KANTAR WORLDPANEL参照<a href=\"https://www.kantarworldpanel.com/global/smartphone-os-market-share\" target=\"_blank\" rel=\"external\">※2</a><br><img src=\"JapanShare.png\" alt=\"alt\" title=\"Mobile Share in Japan\" width=\"300\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">OS</th>\n<th style=\"text-align:center\">開発者</th>\n<th style=\"text-align:left\">シェア</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Android</td>\n<td style=\"text-align:center\">Google</td>\n<td style=\"text-align:left\">55.00%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">iOS</td>\n<td style=\"text-align:center\">Apple</td>\n<td style=\"text-align:left\">44.80%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Windows 10 Mobile</td>\n<td style=\"text-align:center\">Microsoft</td>\n<td style=\"text-align:left\">0.10%</td>\n</tr>\n</tbody>\n</table>\n<h2><span id=\"android-アプリの開発環境\">Android アプリの開発環境</span></h2><p>Android アプリの開発には <strong>Android Studio</strong>というソフトウェアを使います。</p>\n<blockquote>\n<p>Android StudioはJET BRAINS社が開発したフリーのAndroid開発ソフトウェアです。<br>2015年頃までEclipseというソフトウェアでの開発もサポートしていましたが、現在はサポートを終了しています。</p>\n</blockquote>\n<p>Androidアプリの開発は主に<strong>java</strong>や<strong>Kotlin</strong>と言うプログラミング言語で開発を行います。<br>それぞれのプログラミング言語の特徴を紹介します。</p>\n<ul>\n<li>java<ul>\n<li>Oracle(オラクル)社が開発したプログラミング言語</li>\n<li>どんなOS環境での実行も可能なプログラミング言語</li>\n<li>JVM(Java Virtual Machine)と言う仮想マシン上で動く</li>\n</ul>\n</li>\n<li>Kotlin<ul>\n<li>JET BRAINS社が “java” をベースに開発したプログラミング言語</li>\n<li>javaよりコード量を少なくAndroidアプリを開発できる</li>\n<li>javaの動作環境があれば実行可能</li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"android-osプラットフォーム\">Android OSプラットフォーム</span></h2><p>現在(2017/11)で最も多く利用されている Android OSバージョンは6.0(Marshmallow)になります。<br>販売されているAndroidデバイスは各販売元の企業によってカスタマイズされた物となっていることが多く、デバイスのスペックを含めた環境から販売元の企業によってアップデートできるOSを管理されており、最新のOSにアップデートできないことが多いです。<br>そのため、多くのユーザにアプリを配信したい場合は最も多く利用されているプラットフォームのコードネームより2つ前のコードネームまでを配信の対象にすると良いと思われます。</p>\n<p>現在であれば<strong>6.0(Marshmallow)</strong>から2つ前のコードネームなので<strong><em>4.4(KitKat)</em></strong>までをサポート対象に含めることで、全世界のAndoroid OS ユーザの内、90%にアプリを配信することができることになります。</p>\n<p>Android Developers参照<a href=\"https://developer.android.com/about/dashboards/index.html#Platform\" target=\"_blank\" rel=\"external\">※3</a></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Version</th>\n<th style=\"text-align:left\">CodeName</th>\n<th style=\"text-align:left\">API</th>\n<th style=\"text-align:left\">User</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">6.0</td>\n<td style=\"text-align:left\">Marshmallow</td>\n<td style=\"text-align:left\">23</td>\n<td style=\"text-align:left\">30.9%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">5.0~5.1</td>\n<td style=\"text-align:left\">Lollipop</td>\n<td style=\"text-align:left\">21-22</td>\n<td style=\"text-align:left\">27.2%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">7.0~7.1</td>\n<td style=\"text-align:left\">Nougat</td>\n<td style=\"text-align:left\">24-25</td>\n<td style=\"text-align:left\">20.6%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">4.4</td>\n<td style=\"text-align:left\">KitKat</td>\n<td style=\"text-align:left\">19</td>\n<td style=\"text-align:left\">13.8%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">4.1.x~4.2.x</td>\n<td style=\"text-align:left\">Jelly Bean</td>\n<td style=\"text-align:left\">16-17</td>\n<td style=\"text-align:left\">5.3%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">4.3</td>\n<td style=\"text-align:left\">Jelly Bean</td>\n<td style=\"text-align:left\">18</td>\n<td style=\"text-align:left\">0.9%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">8.0</td>\n<td style=\"text-align:left\">Oreo</td>\n<td style=\"text-align:left\">26</td>\n<td style=\"text-align:left\">0.3%</td>\n</tr>\n</tbody>\n</table>\n<h2><span id=\"android-アーキテクチャ\">Android アーキテクチャ</span></h2><p>Android OSのアーキテクチャはLinux Kernelを基盤に作られています。<br>実際の開発に必ず必要になる知識ではありませんので紹介までにとどめさせていただきます。</p>\n<p>Android Developers参照<a href=\"https://developer.android.com/guide/platform/index.html?hl=ja#system-apps\" target=\"_blank\" rel=\"external\">※4</a><br><img src=\"https://developer.android.com/guide/platform/images/android-stack_2x.png?hl=ja\" alt=\"alt\" title=\"Architecture\" width=\"400\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Android OSの現在のシェアや動向を紹介します。</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#android-osとは\">Android OSとは</a><ul>\n<li><a href=\"#スマートフォン-osのシェア\">スマートフォン OSのシェア</a><ul>\n<li><a href=\"#世界のスマートフォン-os-シェア\">世界のスマートフォン OS シェア</a></li>\n<li><a href=\"#日本のスマートフォン-os-シェア\">日本のスマートフォン OS シェア</a></li>\n</ul>\n</li>\n<li><a href=\"#android-アプリの開発環境\">Android アプリの開発環境</a></li>\n<li><a href=\"#android-osプラットフォーム\">Android OSプラットフォーム</a></li>\n<li><a href=\"#android-アーキテクチャ\">Android アーキテクチャ</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n<h1 id=\"Android-OSとは\"><a href=\"#Android-OSとは\" class=\"headerlink\" title=\"Android OSとは\"></a>Android OSとは</h1><ul>\n<li>google社が作ったスマートフォン向け OS(オペレーションシステム)</li>\n<li>無料で世界中の人が使えるオープンソースOS</li>\n<li>世界で一番普及しているプログラミング言語 「Java」を使って開発する</li>\n<li>Google I/O 2017にてモダン言語 「Kotlin」を正式採用</li>\n</ul>\n<h2 id=\"スマートフォン-OSのシェア\"><a href=\"#スマートフォン-OSのシェア\" class=\"headerlink\" title=\"スマートフォン OSのシェア\"></a>スマートフォン OSのシェア</h2><p>現在世界で普及しているスマートフォン/タブレット端末に搭載されているOSは<br>iOSやAndroid OS,Windows Phoneの3つのOSが市場で多くのシェアを持っています。<br>2~3年前は Tizen, FireFox OS, ubuntu mobileなどいくつかのモバイルOSの開発が<br>ありましたが現在では開発を終了してしまっています。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">OS</th>\n<th style=\"text-align:center\">開発者</th>\n<th style=\"text-align:center\">最新のバージョン</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Android</td>\n<td style=\"text-align:center\">Google</td>\n<td style=\"text-align:center\">8.0</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">iOS</td>\n<td style=\"text-align:center\">Apple</td>\n<td style=\"text-align:center\">11.1</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Windows 10 Mobile</td>\n<td style=\"text-align:center\">Microsoft</td>\n<td style=\"text-align:center\">1607</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"世界のスマートフォン-OS-シェア\"><a href=\"#世界のスマートフォン-OS-シェア\" class=\"headerlink\" title=\"世界のスマートフォン OS シェア\"></a>世界のスマートフォン OS シェア</h3><p>世界をマーケットとした場合、Android OSが最も利用されているスマートフォンOSであることがわかります。</p>\n<p>Net Market Share参照<a href=\"https://netmarketshare.com/\" target=\"_blank\" rel=\"external\">※1</a><br><img src=\"WorldShare.png\" alt=\"alt\" title=\"Mobile Share in World\" width=\"300\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">OS</th>\n<th style=\"text-align:center\">開発者</th>\n<th style=\"text-align:left\">シェア</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Android</td>\n<td style=\"text-align:center\">Google</td>\n<td style=\"text-align:left\">70.47%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">iOS</td>\n<td style=\"text-align:center\">Apple</td>\n<td style=\"text-align:left\">28.55%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Series 40</td>\n<td style=\"text-align:center\">NOKIA</td>\n<td style=\"text-align:left\">0.32%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Windows 10 Mobile</td>\n<td style=\"text-align:center\">Microsoft</td>\n<td style=\"text-align:left\">0.22%</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"日本のスマートフォン-OS-シェア\"><a href=\"#日本のスマートフォン-OS-シェア\" class=\"headerlink\" title=\"日本のスマートフォン OS シェア\"></a>日本のスマートフォン OS シェア</h3><p>マーケットを日本に絞った場合でも最近はAndroid OSがiOSのシェアを上回るようになりました。<br>これはAndroid OSを多く扱う格安SIMの認知が広がりと、iOSのデバイスの購入価格の上昇に<br>伴ってAndroid端末を購入する利用者が増えたものと考えられます。</p>\n<p>KANTAR WORLDPANEL参照<a href=\"https://www.kantarworldpanel.com/global/smartphone-os-market-share\" target=\"_blank\" rel=\"external\">※2</a><br><img src=\"JapanShare.png\" alt=\"alt\" title=\"Mobile Share in Japan\" width=\"300\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">OS</th>\n<th style=\"text-align:center\">開発者</th>\n<th style=\"text-align:left\">シェア</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Android</td>\n<td style=\"text-align:center\">Google</td>\n<td style=\"text-align:left\">55.00%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">iOS</td>\n<td style=\"text-align:center\">Apple</td>\n<td style=\"text-align:left\">44.80%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Windows 10 Mobile</td>\n<td style=\"text-align:center\">Microsoft</td>\n<td style=\"text-align:left\">0.10%</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Android-アプリの開発環境\"><a href=\"#Android-アプリの開発環境\" class=\"headerlink\" title=\"Android アプリの開発環境\"></a>Android アプリの開発環境</h2><p>Android アプリの開発には <strong>Android Studio</strong>というソフトウェアを使います。</p>\n<blockquote>\n<p>Android StudioはJET BRAINS社が開発したフリーのAndroid開発ソフトウェアです。<br>2015年頃までEclipseというソフトウェアでの開発もサポートしていましたが、現在はサポートを終了しています。</p>\n</blockquote>\n<p>Androidアプリの開発は主に<strong>java</strong>や<strong>Kotlin</strong>と言うプログラミング言語で開発を行います。<br>それぞれのプログラミング言語の特徴を紹介します。</p>\n<ul>\n<li>java<ul>\n<li>Oracle(オラクル)社が開発したプログラミング言語</li>\n<li>どんなOS環境での実行も可能なプログラミング言語</li>\n<li>JVM(Java Virtual Machine)と言う仮想マシン上で動く</li>\n</ul>\n</li>\n<li>Kotlin<ul>\n<li>JET BRAINS社が “java” をベースに開発したプログラミング言語</li>\n<li>javaよりコード量を少なくAndroidアプリを開発できる</li>\n<li>javaの動作環境があれば実行可能</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Android-OSプラットフォーム\"><a href=\"#Android-OSプラットフォーム\" class=\"headerlink\" title=\"Android OSプラットフォーム\"></a>Android OSプラットフォーム</h2><p>現在(2017/11)で最も多く利用されている Android OSバージョンは6.0(Marshmallow)になります。<br>販売されているAndroidデバイスは各販売元の企業によってカスタマイズされた物となっていることが多く、デバイスのスペックを含めた環境から販売元の企業によってアップデートできるOSを管理されており、最新のOSにアップデートできないことが多いです。<br>そのため、多くのユーザにアプリを配信したい場合は最も多く利用されているプラットフォームのコードネームより2つ前のコードネームまでを配信の対象にすると良いと思われます。</p>\n<p>現在であれば<strong>6.0(Marshmallow)</strong>から2つ前のコードネームなので<strong><em>4.4(KitKat)</em></strong>までをサポート対象に含めることで、全世界のAndoroid OS ユーザの内、90%にアプリを配信することができることになります。</p>\n<p>Android Developers参照<a href=\"https://developer.android.com/about/dashboards/index.html#Platform\" target=\"_blank\" rel=\"external\">※3</a></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Version</th>\n<th style=\"text-align:left\">CodeName</th>\n<th style=\"text-align:left\">API</th>\n<th style=\"text-align:left\">User</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">6.0</td>\n<td style=\"text-align:left\">Marshmallow</td>\n<td style=\"text-align:left\">23</td>\n<td style=\"text-align:left\">30.9%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">5.0~5.1</td>\n<td style=\"text-align:left\">Lollipop</td>\n<td style=\"text-align:left\">21-22</td>\n<td style=\"text-align:left\">27.2%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">7.0~7.1</td>\n<td style=\"text-align:left\">Nougat</td>\n<td style=\"text-align:left\">24-25</td>\n<td style=\"text-align:left\">20.6%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">4.4</td>\n<td style=\"text-align:left\">KitKat</td>\n<td style=\"text-align:left\">19</td>\n<td style=\"text-align:left\">13.8%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">4.1.x~4.2.x</td>\n<td style=\"text-align:left\">Jelly Bean</td>\n<td style=\"text-align:left\">16-17</td>\n<td style=\"text-align:left\">5.3%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">4.3</td>\n<td style=\"text-align:left\">Jelly Bean</td>\n<td style=\"text-align:left\">18</td>\n<td style=\"text-align:left\">0.9%</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">8.0</td>\n<td style=\"text-align:left\">Oreo</td>\n<td style=\"text-align:left\">26</td>\n<td style=\"text-align:left\">0.3%</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Android-アーキテクチャ\"><a href=\"#Android-アーキテクチャ\" class=\"headerlink\" title=\"Android アーキテクチャ\"></a>Android アーキテクチャ</h2><p>Android OSのアーキテクチャはLinux Kernelを基盤に作られています。<br>実際の開発に必ず必要になる知識ではありませんので紹介までにとどめさせていただきます。</p>\n<p>Android Developers参照<a href=\"https://developer.android.com/guide/platform/index.html?hl=ja#system-apps\" target=\"_blank\" rel=\"external\">※4</a><br><img src=\"https://developer.android.com/guide/platform/images/android-stack_2x.png?hl=ja\" alt=\"alt\" title=\"Architecture\" width=\"400\"></p>\n"},{"title":"Androidの概念","date":"2017-11-02T15:00:00.000Z","_content":"Androidアプリ開発に必要になる概念を学んでいきます\n\n<!-- toc -->\n\n# ページ内の学習ポイント\nAndroidアプリを構成する要素を解説します。\n当ページではAndroidアプリを開発する際に出てくる要素、概念を解説しますので、詳しい理解はせずともどんなものを指しているかイメージできるように学習します。\n\n# Android開発における４大要素\nAndroid アプリの開発には重要に扱われている4大要素があります。\n各要素を一言で表すと以下４つになります。\n\n１. 画面\n２. アプリ/機能の呼び出し\n３. バックグラウンド実行\n４. 外部からの呼び出し受付\n\nまた上記の要素をAndroidアプリの開発に当てはめると以下名称にて使われます。\n\n* Activity(1.画面)\n* Intent(2.アプリ/機能の呼び出し)\n* Service(3.バックグラウンド実行)\n* Broad Cast Receiver (4.外部からの呼び出し受付)\n\n## Activity\nアプリ開発における画面を指し、ユーザーからの操作の受付、ユーザーへの情報表示のために使用します。\nActivity内にはwidgetまたはviewと呼ばれる要素（ボタンや画像）を配置して機能を追加する。\nまた画面単位の要素としてFragmentが存在し、Activity内に表示させて使うことが推奨されている。\n\n## Intent\nActivity間の呼び出しを行うための仕組み。\n画面遷移やActivity間でのデータのやりとり、他にもメールアプリやブラウザアプリなど、\n外部アプリの呼び出しを行う時に利用します。\n\n## Service\nバックグラウンドで長時間の作業を行うためのコンポーネントです。\n例として、Content Providerや非同期通信によるデータのやりとり、画面を表示しないまま音楽再生をする場合などに利用します。\n\n## Content Provider\n構造化されたデータへのアクセスを管理する仕組み。\nアプリ内のデータベースとのやりとりや端末内の別アプリが管理しているデータへのアクセスを行う場合などに利用します。\n\n# その他の要素\n\n* Fragment\n* View\n\t* ViewGroup\n\t* Widget\n* Life cycle (ライフサイクル)\n\n## Fragment\nコンテンツやWidget,ライフサイクルを持ったView\n子要素を持つことが可能なのでActivityと同じようにViewGroupやWidgetを配置することができる。\nまた、Activityと独立したライフサイクルを持っており、ライフサイクルはActivityに近い形で実装されている。\n\n## View\nウィジェットやViewGroupの総称、こちらにもライフサイクルに近い機能は存在しているが、\nActivityやFragmentとは違ったサイクルが存在する。\n**LifeCycle**項目で紹介します。\n\n### ViewGroup\n子要素を持つことができるView\nLinearLayout,RelativeLayout、最近追加されたものとしてはConstraintLayoutが該当します。\n他にListViewやGridView、RecyclerViewもViewGroupに該当します。\nどのコンポーネントも内部にView要素を持つことができる要素になります。\n\nLinearLayoutやRelativeLayoutは画面内の配置を容易にしてくれる機能を持っていたり、\nListViewなどは一覧データを並べて表示する機能があります。\n\n### Widget\n子要素を持つことができないView、これをViewと呼ぶことが多い気がします\nButtonやTextView、CheckBoxなどがWidgetと呼ばれる要素になります。\nコンポーネント自体がユーザインターフェースの役割をこなすことができるViewになります\n\n## LifeCycle\nAndroidの画面要素にはLife cycleと言う概念を含んでおり、\nActivity / Fragment View要素にはそれぞれインスタンス化前、表示前、非表示前、破棄前など要素ごとに表示やアプリ内での状態が切り替わったタイミングで強制的に処理される\n\n各クラスのライフサイクルに関して\nActivityのライフサイクル[※1]\n<img src=\"https://developer.android.com/images/activity_lifecycle.png?hl=ja\" alt=\"alt\" title=\"activity life cycle\" width=\"350\">\n\nFragmentのライフサイクル[※2]\n<img src=\"https://developer.android.com/images/fragment_lifecycle.png?hl=ja\" alt=\"alt\" title=\"fragment life cycle\" width=\"300\">\n\nViewのライフサイクル[※3]\n<img src=\"viewinlifecycle.png\" alt=\"alt\" title=\"view life cycle\" width=\"450\">\n\n[※1]: https://developer.android.com/guide/components/activities.html?hl=ja\n[※2]: https://developer.android.com/guide/components/fragments.html?hl=ja\n[※3]: https://developer.android.com/reference/android/view/View.html#pubmethods","source":"_posts/android/02-AndroidConcept.md","raw":"---\ntitle: Androidの概念\ndate: 2017-11-03\n---\nAndroidアプリ開発に必要になる概念を学んでいきます\n\n<!-- toc -->\n\n# ページ内の学習ポイント\nAndroidアプリを構成する要素を解説します。\n当ページではAndroidアプリを開発する際に出てくる要素、概念を解説しますので、詳しい理解はせずともどんなものを指しているかイメージできるように学習します。\n\n# Android開発における４大要素\nAndroid アプリの開発には重要に扱われている4大要素があります。\n各要素を一言で表すと以下４つになります。\n\n１. 画面\n２. アプリ/機能の呼び出し\n３. バックグラウンド実行\n４. 外部からの呼び出し受付\n\nまた上記の要素をAndroidアプリの開発に当てはめると以下名称にて使われます。\n\n* Activity(1.画面)\n* Intent(2.アプリ/機能の呼び出し)\n* Service(3.バックグラウンド実行)\n* Broad Cast Receiver (4.外部からの呼び出し受付)\n\n## Activity\nアプリ開発における画面を指し、ユーザーからの操作の受付、ユーザーへの情報表示のために使用します。\nActivity内にはwidgetまたはviewと呼ばれる要素（ボタンや画像）を配置して機能を追加する。\nまた画面単位の要素としてFragmentが存在し、Activity内に表示させて使うことが推奨されている。\n\n## Intent\nActivity間の呼び出しを行うための仕組み。\n画面遷移やActivity間でのデータのやりとり、他にもメールアプリやブラウザアプリなど、\n外部アプリの呼び出しを行う時に利用します。\n\n## Service\nバックグラウンドで長時間の作業を行うためのコンポーネントです。\n例として、Content Providerや非同期通信によるデータのやりとり、画面を表示しないまま音楽再生をする場合などに利用します。\n\n## Content Provider\n構造化されたデータへのアクセスを管理する仕組み。\nアプリ内のデータベースとのやりとりや端末内の別アプリが管理しているデータへのアクセスを行う場合などに利用します。\n\n# その他の要素\n\n* Fragment\n* View\n\t* ViewGroup\n\t* Widget\n* Life cycle (ライフサイクル)\n\n## Fragment\nコンテンツやWidget,ライフサイクルを持ったView\n子要素を持つことが可能なのでActivityと同じようにViewGroupやWidgetを配置することができる。\nまた、Activityと独立したライフサイクルを持っており、ライフサイクルはActivityに近い形で実装されている。\n\n## View\nウィジェットやViewGroupの総称、こちらにもライフサイクルに近い機能は存在しているが、\nActivityやFragmentとは違ったサイクルが存在する。\n**LifeCycle**項目で紹介します。\n\n### ViewGroup\n子要素を持つことができるView\nLinearLayout,RelativeLayout、最近追加されたものとしてはConstraintLayoutが該当します。\n他にListViewやGridView、RecyclerViewもViewGroupに該当します。\nどのコンポーネントも内部にView要素を持つことができる要素になります。\n\nLinearLayoutやRelativeLayoutは画面内の配置を容易にしてくれる機能を持っていたり、\nListViewなどは一覧データを並べて表示する機能があります。\n\n### Widget\n子要素を持つことができないView、これをViewと呼ぶことが多い気がします\nButtonやTextView、CheckBoxなどがWidgetと呼ばれる要素になります。\nコンポーネント自体がユーザインターフェースの役割をこなすことができるViewになります\n\n## LifeCycle\nAndroidの画面要素にはLife cycleと言う概念を含んでおり、\nActivity / Fragment View要素にはそれぞれインスタンス化前、表示前、非表示前、破棄前など要素ごとに表示やアプリ内での状態が切り替わったタイミングで強制的に処理される\n\n各クラスのライフサイクルに関して\nActivityのライフサイクル[※1]\n<img src=\"https://developer.android.com/images/activity_lifecycle.png?hl=ja\" alt=\"alt\" title=\"activity life cycle\" width=\"350\">\n\nFragmentのライフサイクル[※2]\n<img src=\"https://developer.android.com/images/fragment_lifecycle.png?hl=ja\" alt=\"alt\" title=\"fragment life cycle\" width=\"300\">\n\nViewのライフサイクル[※3]\n<img src=\"viewinlifecycle.png\" alt=\"alt\" title=\"view life cycle\" width=\"450\">\n\n[※1]: https://developer.android.com/guide/components/activities.html?hl=ja\n[※2]: https://developer.android.com/guide/components/fragments.html?hl=ja\n[※3]: https://developer.android.com/reference/android/view/View.html#pubmethods","slug":"02-AndroidConcept","published":1,"updated":"2018-01-27T05:22:45.764Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjczn7sxk0002rc614mx7nowi","content":"<p>Androidアプリ開発に必要になる概念を学んでいきます</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#ページ内の学習ポイント\">ページ内の学習ポイント</a></li>\n<li><a href=\"#android開発における4大要素\">Android開発における４大要素</a><ul>\n<li><a href=\"#activity\">Activity</a></li>\n<li><a href=\"#intent\">Intent</a></li>\n<li><a href=\"#service\">Service</a></li>\n<li><a href=\"#content-provider\">Content Provider</a></li>\n</ul>\n</li>\n<li><a href=\"#その他の要素\">その他の要素</a><ul>\n<li><a href=\"#fragment\">Fragment</a></li>\n<li><a href=\"#view\">View</a><ul>\n<li><a href=\"#viewgroup\">ViewGroup</a></li>\n<li><a href=\"#widget\">Widget</a></li>\n</ul>\n</li>\n<li><a href=\"#lifecycle\">LifeCycle</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n<h1><span id=\"ページ内の学習ポイント\">ページ内の学習ポイント</span></h1><p>Androidアプリを構成する要素を解説します。<br>当ページではAndroidアプリを開発する際に出てくる要素、概念を解説しますので、詳しい理解はせずともどんなものを指しているかイメージできるように学習します。</p>\n<h1><span id=\"android開発における4大要素\">Android開発における４大要素</span></h1><p>Android アプリの開発には重要に扱われている4大要素があります。<br>各要素を一言で表すと以下４つになります。</p>\n<p>１. 画面<br>２. アプリ/機能の呼び出し<br>３. バックグラウンド実行<br>４. 外部からの呼び出し受付</p>\n<p>また上記の要素をAndroidアプリの開発に当てはめると以下名称にて使われます。</p>\n<ul>\n<li>Activity(1.画面)</li>\n<li>Intent(2.アプリ/機能の呼び出し)</li>\n<li>Service(3.バックグラウンド実行)</li>\n<li>Broad Cast Receiver (4.外部からの呼び出し受付)</li>\n</ul>\n<h2><span id=\"activity\">Activity</span></h2><p>アプリ開発における画面を指し、ユーザーからの操作の受付、ユーザーへの情報表示のために使用します。<br>Activity内にはwidgetまたはviewと呼ばれる要素（ボタンや画像）を配置して機能を追加する。<br>また画面単位の要素としてFragmentが存在し、Activity内に表示させて使うことが推奨されている。</p>\n<h2><span id=\"intent\">Intent</span></h2><p>Activity間の呼び出しを行うための仕組み。<br>画面遷移やActivity間でのデータのやりとり、他にもメールアプリやブラウザアプリなど、<br>外部アプリの呼び出しを行う時に利用します。</p>\n<h2><span id=\"service\">Service</span></h2><p>バックグラウンドで長時間の作業を行うためのコンポーネントです。<br>例として、Content Providerや非同期通信によるデータのやりとり、画面を表示しないまま音楽再生をする場合などに利用します。</p>\n<h2><span id=\"content-provider\">Content Provider</span></h2><p>構造化されたデータへのアクセスを管理する仕組み。<br>アプリ内のデータベースとのやりとりや端末内の別アプリが管理しているデータへのアクセスを行う場合などに利用します。</p>\n<h1><span id=\"その他の要素\">その他の要素</span></h1><ul>\n<li>Fragment</li>\n<li>View<ul>\n<li>ViewGroup</li>\n<li>Widget</li>\n</ul>\n</li>\n<li>Life cycle (ライフサイクル)</li>\n</ul>\n<h2><span id=\"fragment\">Fragment</span></h2><p>コンテンツやWidget,ライフサイクルを持ったView<br>子要素を持つことが可能なのでActivityと同じようにViewGroupやWidgetを配置することができる。<br>また、Activityと独立したライフサイクルを持っており、ライフサイクルはActivityに近い形で実装されている。</p>\n<h2><span id=\"view\">View</span></h2><p>ウィジェットやViewGroupの総称、こちらにもライフサイクルに近い機能は存在しているが、<br>ActivityやFragmentとは違ったサイクルが存在する。<br><strong>LifeCycle</strong>項目で紹介します。</p>\n<h3><span id=\"viewgroup\">ViewGroup</span></h3><p>子要素を持つことができるView<br>LinearLayout,RelativeLayout、最近追加されたものとしてはConstraintLayoutが該当します。<br>他にListViewやGridView、RecyclerViewもViewGroupに該当します。<br>どのコンポーネントも内部にView要素を持つことができる要素になります。</p>\n<p>LinearLayoutやRelativeLayoutは画面内の配置を容易にしてくれる機能を持っていたり、<br>ListViewなどは一覧データを並べて表示する機能があります。</p>\n<h3><span id=\"widget\">Widget</span></h3><p>子要素を持つことができないView、これをViewと呼ぶことが多い気がします<br>ButtonやTextView、CheckBoxなどがWidgetと呼ばれる要素になります。<br>コンポーネント自体がユーザインターフェースの役割をこなすことができるViewになります</p>\n<h2><span id=\"lifecycle\">LifeCycle</span></h2><p>Androidの画面要素にはLife cycleと言う概念を含んでおり、<br>Activity / Fragment View要素にはそれぞれインスタンス化前、表示前、非表示前、破棄前など要素ごとに表示やアプリ内での状態が切り替わったタイミングで強制的に処理される</p>\n<p>各クラスのライフサイクルに関して<br>Activityのライフサイクル<a href=\"https://developer.android.com/guide/components/activities.html?hl=ja\" target=\"_blank\" rel=\"external\">※1</a><br><img src=\"https://developer.android.com/images/activity_lifecycle.png?hl=ja\" alt=\"alt\" title=\"activity life cycle\" width=\"350\"></p>\n<p>Fragmentのライフサイクル<a href=\"https://developer.android.com/guide/components/fragments.html?hl=ja\" target=\"_blank\" rel=\"external\">※2</a><br><img src=\"https://developer.android.com/images/fragment_lifecycle.png?hl=ja\" alt=\"alt\" title=\"fragment life cycle\" width=\"300\"></p>\n<p>Viewのライフサイクル<a href=\"https://developer.android.com/reference/android/view/View.html#pubmethods\" target=\"_blank\" rel=\"external\">※3</a><br><img src=\"viewinlifecycle.png\" alt=\"alt\" title=\"view life cycle\" width=\"450\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Androidアプリ開発に必要になる概念を学んでいきます</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#ページ内の学習ポイント\">ページ内の学習ポイント</a></li>\n<li><a href=\"#android開発における4大要素\">Android開発における４大要素</a><ul>\n<li><a href=\"#activity\">Activity</a></li>\n<li><a href=\"#intent\">Intent</a></li>\n<li><a href=\"#service\">Service</a></li>\n<li><a href=\"#content-provider\">Content Provider</a></li>\n</ul>\n</li>\n<li><a href=\"#その他の要素\">その他の要素</a><ul>\n<li><a href=\"#fragment\">Fragment</a></li>\n<li><a href=\"#view\">View</a><ul>\n<li><a href=\"#viewgroup\">ViewGroup</a></li>\n<li><a href=\"#widget\">Widget</a></li>\n</ul>\n</li>\n<li><a href=\"#lifecycle\">LifeCycle</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n<h1 id=\"ページ内の学習ポイント\"><a href=\"#ページ内の学習ポイント\" class=\"headerlink\" title=\"ページ内の学習ポイント\"></a>ページ内の学習ポイント</h1><p>Androidアプリを構成する要素を解説します。<br>当ページではAndroidアプリを開発する際に出てくる要素、概念を解説しますので、詳しい理解はせずともどんなものを指しているかイメージできるように学習します。</p>\n<h1 id=\"Android開発における４大要素\"><a href=\"#Android開発における４大要素\" class=\"headerlink\" title=\"Android開発における４大要素\"></a>Android開発における４大要素</h1><p>Android アプリの開発には重要に扱われている4大要素があります。<br>各要素を一言で表すと以下４つになります。</p>\n<p>１. 画面<br>２. アプリ/機能の呼び出し<br>３. バックグラウンド実行<br>４. 外部からの呼び出し受付</p>\n<p>また上記の要素をAndroidアプリの開発に当てはめると以下名称にて使われます。</p>\n<ul>\n<li>Activity(1.画面)</li>\n<li>Intent(2.アプリ/機能の呼び出し)</li>\n<li>Service(3.バックグラウンド実行)</li>\n<li>Broad Cast Receiver (4.外部からの呼び出し受付)</li>\n</ul>\n<h2 id=\"Activity\"><a href=\"#Activity\" class=\"headerlink\" title=\"Activity\"></a>Activity</h2><p>アプリ開発における画面を指し、ユーザーからの操作の受付、ユーザーへの情報表示のために使用します。<br>Activity内にはwidgetまたはviewと呼ばれる要素（ボタンや画像）を配置して機能を追加する。<br>また画面単位の要素としてFragmentが存在し、Activity内に表示させて使うことが推奨されている。</p>\n<h2 id=\"Intent\"><a href=\"#Intent\" class=\"headerlink\" title=\"Intent\"></a>Intent</h2><p>Activity間の呼び出しを行うための仕組み。<br>画面遷移やActivity間でのデータのやりとり、他にもメールアプリやブラウザアプリなど、<br>外部アプリの呼び出しを行う時に利用します。</p>\n<h2 id=\"Service\"><a href=\"#Service\" class=\"headerlink\" title=\"Service\"></a>Service</h2><p>バックグラウンドで長時間の作業を行うためのコンポーネントです。<br>例として、Content Providerや非同期通信によるデータのやりとり、画面を表示しないまま音楽再生をする場合などに利用します。</p>\n<h2 id=\"Content-Provider\"><a href=\"#Content-Provider\" class=\"headerlink\" title=\"Content Provider\"></a>Content Provider</h2><p>構造化されたデータへのアクセスを管理する仕組み。<br>アプリ内のデータベースとのやりとりや端末内の別アプリが管理しているデータへのアクセスを行う場合などに利用します。</p>\n<h1 id=\"その他の要素\"><a href=\"#その他の要素\" class=\"headerlink\" title=\"その他の要素\"></a>その他の要素</h1><ul>\n<li>Fragment</li>\n<li>View<ul>\n<li>ViewGroup</li>\n<li>Widget</li>\n</ul>\n</li>\n<li>Life cycle (ライフサイクル)</li>\n</ul>\n<h2 id=\"Fragment\"><a href=\"#Fragment\" class=\"headerlink\" title=\"Fragment\"></a>Fragment</h2><p>コンテンツやWidget,ライフサイクルを持ったView<br>子要素を持つことが可能なのでActivityと同じようにViewGroupやWidgetを配置することができる。<br>また、Activityと独立したライフサイクルを持っており、ライフサイクルはActivityに近い形で実装されている。</p>\n<h2 id=\"View\"><a href=\"#View\" class=\"headerlink\" title=\"View\"></a>View</h2><p>ウィジェットやViewGroupの総称、こちらにもライフサイクルに近い機能は存在しているが、<br>ActivityやFragmentとは違ったサイクルが存在する。<br><strong>LifeCycle</strong>項目で紹介します。</p>\n<h3 id=\"ViewGroup\"><a href=\"#ViewGroup\" class=\"headerlink\" title=\"ViewGroup\"></a>ViewGroup</h3><p>子要素を持つことができるView<br>LinearLayout,RelativeLayout、最近追加されたものとしてはConstraintLayoutが該当します。<br>他にListViewやGridView、RecyclerViewもViewGroupに該当します。<br>どのコンポーネントも内部にView要素を持つことができる要素になります。</p>\n<p>LinearLayoutやRelativeLayoutは画面内の配置を容易にしてくれる機能を持っていたり、<br>ListViewなどは一覧データを並べて表示する機能があります。</p>\n<h3 id=\"Widget\"><a href=\"#Widget\" class=\"headerlink\" title=\"Widget\"></a>Widget</h3><p>子要素を持つことができないView、これをViewと呼ぶことが多い気がします<br>ButtonやTextView、CheckBoxなどがWidgetと呼ばれる要素になります。<br>コンポーネント自体がユーザインターフェースの役割をこなすことができるViewになります</p>\n<h2 id=\"LifeCycle\"><a href=\"#LifeCycle\" class=\"headerlink\" title=\"LifeCycle\"></a>LifeCycle</h2><p>Androidの画面要素にはLife cycleと言う概念を含んでおり、<br>Activity / Fragment View要素にはそれぞれインスタンス化前、表示前、非表示前、破棄前など要素ごとに表示やアプリ内での状態が切り替わったタイミングで強制的に処理される</p>\n<p>各クラスのライフサイクルに関して<br>Activityのライフサイクル<a href=\"https://developer.android.com/guide/components/activities.html?hl=ja\" target=\"_blank\" rel=\"external\">※1</a><br><img src=\"https://developer.android.com/images/activity_lifecycle.png?hl=ja\" alt=\"alt\" title=\"activity life cycle\" width=\"350\"></p>\n<p>Fragmentのライフサイクル<a href=\"https://developer.android.com/guide/components/fragments.html?hl=ja\" target=\"_blank\" rel=\"external\">※2</a><br><img src=\"https://developer.android.com/images/fragment_lifecycle.png?hl=ja\" alt=\"alt\" title=\"fragment life cycle\" width=\"300\"></p>\n<p>Viewのライフサイクル<a href=\"https://developer.android.com/reference/android/view/View.html#pubmethods\" target=\"_blank\" rel=\"external\">※3</a><br><img src=\"viewinlifecycle.png\" alt=\"alt\" title=\"view life cycle\" width=\"450\"></p>\n"},{"title":"Androidアプリ開発を始める","date":"2017-11-03T15:00:00.000Z","_content":"講座で解説のために作成するアプリの紹介とプロジェクトの作成\n\n<!-- toc -->\n\n# 当ページ内の学習ポイント\n蔵書検索アプリの開発を始めるにあたり、\nAndroidアプリのプロジェクト作成について基本的な手順を学習します。\nまた、当記事全体を通して完成するアプリのイメージを把握していきます、\n\n# 蔵書検索アプリ\n今回の講座でAndroid アプリ開発を学ぶ上で１つのアプリを開発します。\n機能として以下\n\n* 蔵書名から部分一致、一致する蔵書の検索機能\n* 蔵書名から検索した結果を一覧で画面表示する機能\n* 蔵書検索した履歴管理機能\n\n検索機能に利用するサービス\n[Google Books API](https://developers.google.com/books/)\n\nネットワーク通信処理に利用するライブラリ\n[okHttp](http://square.github.io/okhttp/)\n\n検索履歴を保存するアプリ内データベースに利用するライブラリ\n[Realm](https://realm.io/jp/)\n\n## ライブラリとは\n便利な機能を纏め、アプリ開発を簡単にしてくれるプログラム。\n* okHttp：インターネット通信を行うプログラムを簡略化する機能を持ったライブラリ\n* Realm：データベースの作成から操作を簡略化する機能を持ったライブラリ\n\n# 新しいプロジェクトを作る\n\n1.Windows ホーム画面の左下にある```検索欄```に```Android```と入力し**Android Studio**をクリックし起動します。\n<img src=\"sad01.png\" alt=\"alt\" title=\"SetUp\" width=\"600\">\n2.```Start a new Android Studio project```をクリック\n<img src=\"sad02.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n3.新規プロジェクト作成時にはアプリ名などを入力します\n以下の表の通りに項目を設定して```Next```をクリックします。\n\n|項目名                 |説明                |入力内容        |\n|:---------------------|:-----------------:|:------------:|\n|Application name      |アプリ名             |BookDiscovery |\n|Company domain        |全世界の独自ドメイン   |example.com   |\n|Project location      |プロジェクトの保存先   |任意設定        |\n|include C++ support   |C++ライブラリ取込み   |チェックを外す   |\n|include Kotlin support|Kotlinライブラリ取込み|チェックを外す   |\n\n**Company domain**は講義の説明で作成するアプリはリリースしませんので独自ドメインをお持ちでなければ初期値のままで問題ありません。\n今回の講義ではC++での実装はありませんのでチェックを外しておきます。\nまた、Kotlinは後半で利用方法を紹介しますので一旦チェックを外しておいてください。\n<img src=\"sad03.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n4.今回作成するAndroidアプリでサポート対象とするOSバージョンの下限設定を行います\n**Phone and Tablet**のみチェックをつけ、```API 23: Android 6.0 (Marshmallow)```を選択したら、```Next```をクリックします\n<img src=\"sad04.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n5.**Empty Activity**を選択し```Next```をクリックします\n<img src=\"sad05.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n6.初期画面となるActivity設定を行います\n以下の表の通りに項目を設定して```Next```をクリックします\n\n|項目名                             |説明                |入力内容       |\n|:---------------------------------|:-----------------:|:------------:|\n|Activity Name                     |画面名              |MainActivity  |\n|Generate Layout File              |デザインファイル作成有無|チェックを入れる|\n|Layout Name                       |デザインファイル名    |activity_main |\n|Backwards Compatibility(AppCompat)|下方互換性の有無      |チェックを入れる |\n\n<img src=\"sad06.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n7.「6.」で設定した内容でAndroidアプリの開発のデフォルト環境を構築が実行されます\nインストールが終了し**done**の文字が表示されたら```Finish```をクリックします。\n<img src=\"sad07.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n8.構築が終了すると開発画面に遷移します\n**Messages**エリアにエラーとリンクが表示されている場合はリンクをクリックします\n<img src=\"sad08.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n9.不足しているComponentのインストールを行います\n**android-sdk-license**が選択された状態で**Accept**にチェックをいれ```Next```をクリックします\n<img src=\"sad09.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n10.Componentのインストール状況が表示されるので終了を待ちます\n<img src=\"sad10.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n11.インストールが終わったら```Finish```をクリックします\n<img src=\"sad11.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n12.Android Studioの開発画面に戻りエラーが消えていたらセットアップ完了です\n<img src=\"sad12.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n","source":"_posts/android/03-StartAndroidDevelopment.md","raw":"---\ntitle: Androidアプリ開発を始める\ndate: 2017-11-04\n---\n講座で解説のために作成するアプリの紹介とプロジェクトの作成\n\n<!-- toc -->\n\n# 当ページ内の学習ポイント\n蔵書検索アプリの開発を始めるにあたり、\nAndroidアプリのプロジェクト作成について基本的な手順を学習します。\nまた、当記事全体を通して完成するアプリのイメージを把握していきます、\n\n# 蔵書検索アプリ\n今回の講座でAndroid アプリ開発を学ぶ上で１つのアプリを開発します。\n機能として以下\n\n* 蔵書名から部分一致、一致する蔵書の検索機能\n* 蔵書名から検索した結果を一覧で画面表示する機能\n* 蔵書検索した履歴管理機能\n\n検索機能に利用するサービス\n[Google Books API](https://developers.google.com/books/)\n\nネットワーク通信処理に利用するライブラリ\n[okHttp](http://square.github.io/okhttp/)\n\n検索履歴を保存するアプリ内データベースに利用するライブラリ\n[Realm](https://realm.io/jp/)\n\n## ライブラリとは\n便利な機能を纏め、アプリ開発を簡単にしてくれるプログラム。\n* okHttp：インターネット通信を行うプログラムを簡略化する機能を持ったライブラリ\n* Realm：データベースの作成から操作を簡略化する機能を持ったライブラリ\n\n# 新しいプロジェクトを作る\n\n1.Windows ホーム画面の左下にある```検索欄```に```Android```と入力し**Android Studio**をクリックし起動します。\n<img src=\"sad01.png\" alt=\"alt\" title=\"SetUp\" width=\"600\">\n2.```Start a new Android Studio project```をクリック\n<img src=\"sad02.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n3.新規プロジェクト作成時にはアプリ名などを入力します\n以下の表の通りに項目を設定して```Next```をクリックします。\n\n|項目名                 |説明                |入力内容        |\n|:---------------------|:-----------------:|:------------:|\n|Application name      |アプリ名             |BookDiscovery |\n|Company domain        |全世界の独自ドメイン   |example.com   |\n|Project location      |プロジェクトの保存先   |任意設定        |\n|include C++ support   |C++ライブラリ取込み   |チェックを外す   |\n|include Kotlin support|Kotlinライブラリ取込み|チェックを外す   |\n\n**Company domain**は講義の説明で作成するアプリはリリースしませんので独自ドメインをお持ちでなければ初期値のままで問題ありません。\n今回の講義ではC++での実装はありませんのでチェックを外しておきます。\nまた、Kotlinは後半で利用方法を紹介しますので一旦チェックを外しておいてください。\n<img src=\"sad03.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n4.今回作成するAndroidアプリでサポート対象とするOSバージョンの下限設定を行います\n**Phone and Tablet**のみチェックをつけ、```API 23: Android 6.0 (Marshmallow)```を選択したら、```Next```をクリックします\n<img src=\"sad04.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n5.**Empty Activity**を選択し```Next```をクリックします\n<img src=\"sad05.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n6.初期画面となるActivity設定を行います\n以下の表の通りに項目を設定して```Next```をクリックします\n\n|項目名                             |説明                |入力内容       |\n|:---------------------------------|:-----------------:|:------------:|\n|Activity Name                     |画面名              |MainActivity  |\n|Generate Layout File              |デザインファイル作成有無|チェックを入れる|\n|Layout Name                       |デザインファイル名    |activity_main |\n|Backwards Compatibility(AppCompat)|下方互換性の有無      |チェックを入れる |\n\n<img src=\"sad06.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n7.「6.」で設定した内容でAndroidアプリの開発のデフォルト環境を構築が実行されます\nインストールが終了し**done**の文字が表示されたら```Finish```をクリックします。\n<img src=\"sad07.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n8.構築が終了すると開発画面に遷移します\n**Messages**エリアにエラーとリンクが表示されている場合はリンクをクリックします\n<img src=\"sad08.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n9.不足しているComponentのインストールを行います\n**android-sdk-license**が選択された状態で**Accept**にチェックをいれ```Next```をクリックします\n<img src=\"sad09.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n10.Componentのインストール状況が表示されるので終了を待ちます\n<img src=\"sad10.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n11.インストールが終わったら```Finish```をクリックします\n<img src=\"sad11.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n12.Android Studioの開発画面に戻りエラーが消えていたらセットアップ完了です\n<img src=\"sad12.png\" alt=\"alt\" title=\"SetUp\" width=\"450\">\n","slug":"03-StartAndroidDevelopment","published":1,"updated":"2018-01-27T05:23:31.609Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjczn7sxq0003rc61uuybhown","content":"<p>講座で解説のために作成するアプリの紹介とプロジェクトの作成</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#当ページ内の学習ポイント\">当ページ内の学習ポイント</a></li>\n<li><a href=\"#蔵書検索アプリ\">蔵書検索アプリ</a><ul>\n<li><a href=\"#ライブラリとは\">ライブラリとは</a></li>\n</ul>\n</li>\n<li><a href=\"#新しいプロジェクトを作る\">新しいプロジェクトを作る</a></li>\n</ul>\n<!-- tocstop -->\n<h1><span id=\"当ページ内の学習ポイント\">当ページ内の学習ポイント</span></h1><p>蔵書検索アプリの開発を始めるにあたり、<br>Androidアプリのプロジェクト作成について基本的な手順を学習します。<br>また、当記事全体を通して完成するアプリのイメージを把握していきます、</p>\n<h1><span id=\"蔵書検索アプリ\">蔵書検索アプリ</span></h1><p>今回の講座でAndroid アプリ開発を学ぶ上で１つのアプリを開発します。<br>機能として以下</p>\n<ul>\n<li>蔵書名から部分一致、一致する蔵書の検索機能</li>\n<li>蔵書名から検索した結果を一覧で画面表示する機能</li>\n<li>蔵書検索した履歴管理機能</li>\n</ul>\n<p>検索機能に利用するサービス<br><a href=\"https://developers.google.com/books/\" target=\"_blank\" rel=\"external\">Google Books API</a></p>\n<p>ネットワーク通信処理に利用するライブラリ<br><a href=\"http://square.github.io/okhttp/\" target=\"_blank\" rel=\"external\">okHttp</a></p>\n<p>検索履歴を保存するアプリ内データベースに利用するライブラリ<br><a href=\"https://realm.io/jp/\" target=\"_blank\" rel=\"external\">Realm</a></p>\n<h2><span id=\"ライブラリとは\">ライブラリとは</span></h2><p>便利な機能を纏め、アプリ開発を簡単にしてくれるプログラム。</p>\n<ul>\n<li>okHttp：インターネット通信を行うプログラムを簡略化する機能を持ったライブラリ</li>\n<li>Realm：データベースの作成から操作を簡略化する機能を持ったライブラリ</li>\n</ul>\n<h1><span id=\"新しいプロジェクトを作る\">新しいプロジェクトを作る</span></h1><p>1.Windows ホーム画面の左下にある<code>検索欄</code>に<code>Android</code>と入力し<strong>Android Studio</strong>をクリックし起動します。<br><img src=\"sad01.png\" alt=\"alt\" title=\"SetUp\" width=\"600\"><br>2.<code>Start a new Android Studio project</code>をクリック<br><img src=\"sad02.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>3.新規プロジェクト作成時にはアプリ名などを入力します<br>以下の表の通りに項目を設定して<code>Next</code>をクリックします。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">項目名</th>\n<th style=\"text-align:center\">説明</th>\n<th style=\"text-align:center\">入力内容</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Application name</td>\n<td style=\"text-align:center\">アプリ名</td>\n<td style=\"text-align:center\">BookDiscovery</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Company domain</td>\n<td style=\"text-align:center\">全世界の独自ドメイン</td>\n<td style=\"text-align:center\">example.com</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Project location</td>\n<td style=\"text-align:center\">プロジェクトの保存先</td>\n<td style=\"text-align:center\">任意設定</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">include C++ support</td>\n<td style=\"text-align:center\">C++ライブラリ取込み</td>\n<td style=\"text-align:center\">チェックを外す</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">include Kotlin support</td>\n<td style=\"text-align:center\">Kotlinライブラリ取込み</td>\n<td style=\"text-align:center\">チェックを外す</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Company domain</strong>は講義の説明で作成するアプリはリリースしませんので独自ドメインをお持ちでなければ初期値のままで問題ありません。<br>今回の講義ではC++での実装はありませんのでチェックを外しておきます。<br>また、Kotlinは後半で利用方法を紹介しますので一旦チェックを外しておいてください。<br><img src=\"sad03.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>4.今回作成するAndroidアプリでサポート対象とするOSバージョンの下限設定を行います<br><strong>Phone and Tablet</strong>のみチェックをつけ、<code>API 23: Android 6.0 (Marshmallow)</code>を選択したら、<code>Next</code>をクリックします<br><img src=\"sad04.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>5.<strong>Empty Activity</strong>を選択し<code>Next</code>をクリックします<br><img src=\"sad05.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>6.初期画面となるActivity設定を行います<br>以下の表の通りに項目を設定して<code>Next</code>をクリックします</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">項目名</th>\n<th style=\"text-align:center\">説明</th>\n<th style=\"text-align:center\">入力内容</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Activity Name</td>\n<td style=\"text-align:center\">画面名</td>\n<td style=\"text-align:center\">MainActivity</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Generate Layout File</td>\n<td style=\"text-align:center\">デザインファイル作成有無</td>\n<td style=\"text-align:center\">チェックを入れる</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Layout Name</td>\n<td style=\"text-align:center\">デザインファイル名</td>\n<td style=\"text-align:center\">activity_main</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Backwards Compatibility(AppCompat)</td>\n<td style=\"text-align:center\">下方互換性の有無</td>\n<td style=\"text-align:center\">チェックを入れる</td>\n</tr>\n</tbody>\n</table>\n<p><img src=\"sad06.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>7.「6.」で設定した内容でAndroidアプリの開発のデフォルト環境を構築が実行されます<br>インストールが終了し<strong>done</strong>の文字が表示されたら<code>Finish</code>をクリックします。<br><img src=\"sad07.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>8.構築が終了すると開発画面に遷移します<br><strong>Messages</strong>エリアにエラーとリンクが表示されている場合はリンクをクリックします<br><img src=\"sad08.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>9.不足しているComponentのインストールを行います<br><strong>android-sdk-license</strong>が選択された状態で<strong>Accept</strong>にチェックをいれ<code>Next</code>をクリックします<br><img src=\"sad09.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>10.Componentのインストール状況が表示されるので終了を待ちます<br><img src=\"sad10.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>11.インストールが終わったら<code>Finish</code>をクリックします<br><img src=\"sad11.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>12.Android Studioの開発画面に戻りエラーが消えていたらセットアップ完了です<br><img src=\"sad12.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p>講座で解説のために作成するアプリの紹介とプロジェクトの作成</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#当ページ内の学習ポイント\">当ページ内の学習ポイント</a></li>\n<li><a href=\"#蔵書検索アプリ\">蔵書検索アプリ</a><ul>\n<li><a href=\"#ライブラリとは\">ライブラリとは</a></li>\n</ul>\n</li>\n<li><a href=\"#新しいプロジェクトを作る\">新しいプロジェクトを作る</a></li>\n</ul>\n<!-- tocstop -->\n<h1 id=\"当ページ内の学習ポイント\"><a href=\"#当ページ内の学習ポイント\" class=\"headerlink\" title=\"当ページ内の学習ポイント\"></a>当ページ内の学習ポイント</h1><p>蔵書検索アプリの開発を始めるにあたり、<br>Androidアプリのプロジェクト作成について基本的な手順を学習します。<br>また、当記事全体を通して完成するアプリのイメージを把握していきます、</p>\n<h1 id=\"蔵書検索アプリ\"><a href=\"#蔵書検索アプリ\" class=\"headerlink\" title=\"蔵書検索アプリ\"></a>蔵書検索アプリ</h1><p>今回の講座でAndroid アプリ開発を学ぶ上で１つのアプリを開発します。<br>機能として以下</p>\n<ul>\n<li>蔵書名から部分一致、一致する蔵書の検索機能</li>\n<li>蔵書名から検索した結果を一覧で画面表示する機能</li>\n<li>蔵書検索した履歴管理機能</li>\n</ul>\n<p>検索機能に利用するサービス<br><a href=\"https://developers.google.com/books/\" target=\"_blank\" rel=\"external\">Google Books API</a></p>\n<p>ネットワーク通信処理に利用するライブラリ<br><a href=\"http://square.github.io/okhttp/\" target=\"_blank\" rel=\"external\">okHttp</a></p>\n<p>検索履歴を保存するアプリ内データベースに利用するライブラリ<br><a href=\"https://realm.io/jp/\" target=\"_blank\" rel=\"external\">Realm</a></p>\n<h2 id=\"ライブラリとは\"><a href=\"#ライブラリとは\" class=\"headerlink\" title=\"ライブラリとは\"></a>ライブラリとは</h2><p>便利な機能を纏め、アプリ開発を簡単にしてくれるプログラム。</p>\n<ul>\n<li>okHttp：インターネット通信を行うプログラムを簡略化する機能を持ったライブラリ</li>\n<li>Realm：データベースの作成から操作を簡略化する機能を持ったライブラリ</li>\n</ul>\n<h1 id=\"新しいプロジェクトを作る\"><a href=\"#新しいプロジェクトを作る\" class=\"headerlink\" title=\"新しいプロジェクトを作る\"></a>新しいプロジェクトを作る</h1><p>1.Windows ホーム画面の左下にある<code>検索欄</code>に<code>Android</code>と入力し<strong>Android Studio</strong>をクリックし起動します。<br><img src=\"sad01.png\" alt=\"alt\" title=\"SetUp\" width=\"600\"><br>2.<code>Start a new Android Studio project</code>をクリック<br><img src=\"sad02.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>3.新規プロジェクト作成時にはアプリ名などを入力します<br>以下の表の通りに項目を設定して<code>Next</code>をクリックします。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">項目名</th>\n<th style=\"text-align:center\">説明</th>\n<th style=\"text-align:center\">入力内容</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Application name</td>\n<td style=\"text-align:center\">アプリ名</td>\n<td style=\"text-align:center\">BookDiscovery</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Company domain</td>\n<td style=\"text-align:center\">全世界の独自ドメイン</td>\n<td style=\"text-align:center\">example.com</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Project location</td>\n<td style=\"text-align:center\">プロジェクトの保存先</td>\n<td style=\"text-align:center\">任意設定</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">include C++ support</td>\n<td style=\"text-align:center\">C++ライブラリ取込み</td>\n<td style=\"text-align:center\">チェックを外す</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">include Kotlin support</td>\n<td style=\"text-align:center\">Kotlinライブラリ取込み</td>\n<td style=\"text-align:center\">チェックを外す</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Company domain</strong>は講義の説明で作成するアプリはリリースしませんので独自ドメインをお持ちでなければ初期値のままで問題ありません。<br>今回の講義ではC++での実装はありませんのでチェックを外しておきます。<br>また、Kotlinは後半で利用方法を紹介しますので一旦チェックを外しておいてください。<br><img src=\"sad03.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>4.今回作成するAndroidアプリでサポート対象とするOSバージョンの下限設定を行います<br><strong>Phone and Tablet</strong>のみチェックをつけ、<code>API 23: Android 6.0 (Marshmallow)</code>を選択したら、<code>Next</code>をクリックします<br><img src=\"sad04.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>5.<strong>Empty Activity</strong>を選択し<code>Next</code>をクリックします<br><img src=\"sad05.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>6.初期画面となるActivity設定を行います<br>以下の表の通りに項目を設定して<code>Next</code>をクリックします</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">項目名</th>\n<th style=\"text-align:center\">説明</th>\n<th style=\"text-align:center\">入力内容</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Activity Name</td>\n<td style=\"text-align:center\">画面名</td>\n<td style=\"text-align:center\">MainActivity</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Generate Layout File</td>\n<td style=\"text-align:center\">デザインファイル作成有無</td>\n<td style=\"text-align:center\">チェックを入れる</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Layout Name</td>\n<td style=\"text-align:center\">デザインファイル名</td>\n<td style=\"text-align:center\">activity_main</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Backwards Compatibility(AppCompat)</td>\n<td style=\"text-align:center\">下方互換性の有無</td>\n<td style=\"text-align:center\">チェックを入れる</td>\n</tr>\n</tbody>\n</table>\n<p><img src=\"sad06.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>7.「6.」で設定した内容でAndroidアプリの開発のデフォルト環境を構築が実行されます<br>インストールが終了し<strong>done</strong>の文字が表示されたら<code>Finish</code>をクリックします。<br><img src=\"sad07.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>8.構築が終了すると開発画面に遷移します<br><strong>Messages</strong>エリアにエラーとリンクが表示されている場合はリンクをクリックします<br><img src=\"sad08.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>9.不足しているComponentのインストールを行います<br><strong>android-sdk-license</strong>が選択された状態で<strong>Accept</strong>にチェックをいれ<code>Next</code>をクリックします<br><img src=\"sad09.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>10.Componentのインストール状況が表示されるので終了を待ちます<br><img src=\"sad10.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>11.インストールが終わったら<code>Finish</code>をクリックします<br><img src=\"sad11.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"><br>12.Android Studioの開発画面に戻りエラーが消えていたらセットアップ完了です<br><img src=\"sad12.png\" alt=\"alt\" title=\"SetUp\" width=\"450\"></p>\n"},{"title":"検索画面レイアウト作成","date":"2017-11-04T15:00:00.000Z","_content":"Layout Editor / ConstraintLayoutを使用したレイアウト実装と動作確認\n\n<!-- toc -->\n\n[Androidアプリ開発を始める](/AndroidCourse/android/03-StartAndroidDevelopment)から引き続きの学習ページです。\n# ページ内の学習ポイント\n* Layout Editor\n* Widget / View などのコンポーネント\n* エミュレータの起動、確認方法\n\n蔵書検索アプリ起動時に表示される検索画面のレイアウト構成を作りながら、\nLayout Editorや画面を構成する要素について学習します。\nまた、作成したレイアウトをエミュレータという仮想デバイスを使い表示確認を通して使い方を学習します。\n\n# Layout Editor / ConstraintLayout\nAndroidアプリに表示する画面のレイアウト構成を作るためにはLayout EditorというAndroid Studioの機能を使います。\n\nAndroidアプリのプロジェクト開始時に生成されたレイアウトxmlファイルにウィジェット(Widget)やビュー(View)を配置し、ウィジェットごとに制約を設定して以下画像のように表示位置を決めていきます。\n{% img /android/04-MakeLayoutDesign/CompleteScreen.png 500 CompleteScreen %}\n\n## Layout Editor\nAndroid Studio 2.2で追加されたレイアウト構成の機能、以前までも類似する機能はあったが使いにくく、xmlファイルを直接修正することが多かったのですが、改善されたとこで視覚的にWidgetやViewを配置しやすくなった。\n特にConstrainsLayoutと合わせて使うことで画面のレイアウト作成でxmlファイルを直接修正する必要が無くなってきたことで初学者の学習コストやハードルも下がってきました。\n\nLayout Editor内、各領域の名称は以下の通りです。\n<img src=\"https://developer.android.com/studio/images/write/layout-editor-callouts_2-2_2x.png?hl=ja\" alt=\"alt\" title=\"Layout Editor\" width=\"550\">\n\n|No.  |領域名                 |説明                                             |\n|:---:|:---------------------|:-----------------------------------------------|\n|①   |Palette               |レイアウトに配置できるウィジェットとレイアウトリストを表示されています |\n|②   |Component Tree        |レイアウトのビュー階層を表示/移動することができます、Viewの重なりもここで調整します |\n|③   |ツールバー              |レイアウトの外観設定やプロパティを編集するためのボタンが表示されています |\n|④   |デザイン エディタ        |実際の見た目が確認できる<font color=\"red\">デザインビュー</font>と制約を確認できる<font color=\"red\">ブループリントビュー</font>が表示されまる |\n|⑤   |Properties             |現在選択されているビューの詳細な情報が表示されます |\n\n## ConstraintLayout\nAndroid 2.3(Gingerbread)以上を対象に開発を行う場合に利用することが可能なコンポーネントです。\nconstraint(制約)をWidgetやViewに設定することで画面内での配置を決めることができます。\n\nまた、従来からあるの\"Linear Layout\"や\"Relative Layout\"コンポーネントに比べネスト構造を減らした実装を行うことができるようになりxmlファイルを確認する場合でも簡単になりました。\n\n## 検索画面のレイアウト作成\nアプリ起動時に表示される検索画面のレイアウトを作成を始めます、\nAndroidアプリで画面レイアウトを構成するのは、`xml`という形式のファイルになります。\n`activity_main.xml`というファイルを開き修正していきます。\n> app -> res -> layout -> activity_main.xml\n\n<img src=\"le0.png\" alt=\"alt\" title=\"create layout\" width=\"500\">\n以下の画像のようにLayout Editorが表示されたら、サンプルの為で始めから表示されている**\"Hello World\"**をクリックして```delete```キーを押して削除します\n<img src=\"le1.png\" alt=\"alt\" title=\"create layout\" width=\"500\">\nこれで画面上に何もなくなりスッキリしました。\n\nでは新しくウィジェットなどを配置する前に今回開発する蔵書検索アプリの起動時画面を見直してみましょう。\n{% img /android/04-MakeLayoutDesign/CompleteScreen.png 500 CompleteScreen %}\n完成した画面を見ると以下のウィジェットが配置されています。\n* 文字入力できるウィジェットが一つ\n* ボタンとしてクリックができるウィジェットが２つ\n\n全部で３つのウィジェットを使いレイアウトが構成されていることがわかりました。\n\nまずはアプリで文字入力を行うために`EditText`というウィジェットからデザインビューに配置していきます。\nAndroid開発で用意されているウィジェットやビューはLayout Editor内の<font color=\"red\">Paletteエリア</font>に全て表示されています。\n\nでは`EditText`を配置するために<font color=\"red\">Paletteエリア</font>から**Plain Text**をクリックしたまま引っ張ってデザインビューでクリックを離します。\n{% img /android/04-MakeLayoutDesign/le2.png 500 create layout %}\n続いてウィジェットやビューをデザインビューに乗せたら表示させたい位置に配置するために、\"editText\"の各変に制約を設定していきます、\n\"editText\"は画面中央より少し左上に表示したいので、まずは画面左隅と隣合うように制約をつけます。\n\n\"editText\"左枠に表示されている **◯**をクリックしたまま画面の左端まで引っ張って放します。\n{% img /android/04-MakeLayoutDesign/le3.png 500 create layout %}\n\"editText\"が以下の画面のように画面左隅に近づきます。\n{% img /android/04-MakeLayoutDesign/le4.png 500 create layout %}\n上記の手順で画面左端と\"editText\"の左辺を隣接する\"制約\"が設定されました。\n続けて上下と右辺も同じように各画面端と隣接する制約を設定してみてください。\n{% img /android/04-MakeLayoutDesign/le5.png 500 create layout %}\n上下左右の全てに制約を付けると\"editText\"は画面の真ん中に表示さされます。\n{% img /android/04-MakeLayoutDesign/le6.png 500 create layout %}\n\"editText\"は中央より少し左上に配置したいので制約の縦横\"バイアス\"細かい位置調整します\nバイアス設定のツマミを動かすと対象の方向で位置を動かすことができます\n{% img /android/04-MakeLayoutDesign/le7.png 500 create layout %}\n\n|バイアス方向|設定値|\n|:---------|:----|\n|垂直バイアス|40   |\n|水平バイアス|25   |\n\nボタンを２つ配置していきます、<font color=\"red\">Paletteエリア</font>から`Button`をクリックしたまま引っ張りデザインビュー上で放します\n{% img /android/04-MakeLayoutDesign/le8.png 500 create layout %}\n\"蔵書検索\"ボタンを配置のため制約を設定していきます\n{% img /android/04-MakeLayoutDesign/le9.png 500 create layout %}\n\n|Buttonの辺|隣り合わせる箇所  |\n|:---------|:-------------|\n|上辺       |画面上端       |\n|左辺       |\"editText\"右端 |\n|下辺       |画面下端       |\n|右辺       |画面右端       |\n\n先ほどの\"editText\"と同じ高さに調整するため、バイアスを調整します\n{% img /android/04-MakeLayoutDesign/le10.png 500 create layout %}\n\n|バイアス方向|設定値|\n|:---------|:----|\n|垂直バイアス|40   |\n|水平バイアス|50   |\n\n**Button**に表示される文言を変更するために、右の<font color=\"red\">Attributesエリア</font>から\"text\"項目を探し、**\"蔵書検索\"**と入力します\n{% img /android/04-MakeLayoutDesign/le11.png 500 create layout %}\n\n残りの\"閲覧履歴\"ボタンを画面の通り制約を使って配置してみましょう\n<font color=\"red\">ヒント１：ウィジェットの辺同士に制約をつけることもできます</font>\n{% img /android/04-MakeLayoutDesign/le12.png 500 create layout %}\n\nこれで検索画面のレイアウトが完成しましたのでエミュレータにて表示確認をしてみましょう。\n\n## 表示確認\nレイアウトやプログラムを修正したら動かして確認してみたくなりますね、\n今回はAndroid Studioに内臓されているエミュレータ（仮想デバイス）を使って表示確認をしてみます。\n\nエミュレータや実機でアプリを実行するためには下記画面の`Run`ボタンをクリックします\n{% img /android/04-MakeLayoutDesign/runemurate01.png 500 Run Project %}\n\n\"Select Deployment Target\"と書かれたダイアログが表示されますが、ここには接続されている実機やエミュレータなど、Androidアプリを実行するデバイスを選ぶことができます。\n\nUSBで接続されたAndroidデバイスや既にエミュレータをインストールされているPCでない場合は以下のように何も表示されないと思います。\n{% img /android/04-MakeLayoutDesign/runemurate02.png 500 Run Project %}\n今回はエミュレータを新規作成して使用しますので、`Create New Virtual Device`をクリックして新しいエミュレータを作成します。\n作成するエミュレータを選びますので<font color=\"red\">**Pixel**</font>を選択して`Next`をクリックします\n{% img /android/04-MakeLayoutDesign/runemurate03.png 500 Run Project %}\nエミュレータにインストールするAndorid OSのバージョンを選択します。\n<font color=\"red\">**Marshmallow**</font>を選択して`Next`をクリックします\n{% img /android/04-MakeLayoutDesign/runemurate04.png 500 Run Project %}\nエミュレータの名前や設定変更画面では変更は行わずに`Finish`をクリックします\n{% img /android/04-MakeLayoutDesign/runemurate05.png 500 Run Project %}\nエミュレータの作成が終わると、実行するデバイスの選択画面に戻ります\n今回は作成したエミュレータの名前が表示されるので、<font color=\"red\">**Pixel API 23**</font>を選択して`OK`をクリックします\n{% img /android/04-MakeLayoutDesign/runemurate06.png 500 Run Project %}\nAndroidのエミュレータが起動し\n{% img /android/04-MakeLayoutDesign/runemurate07.png 300 Run Project %}\nエミュレータの画面に作成したレイアウトが表示されれば成功です！\n{% img /android/04-MakeLayoutDesign/runemurate08.png 250 Run Project %}\n\nこれでAndroidアプリのレイアウト作成とエミュレータでの実行方法と表示確認は完了です。\n次のページでは作成したレイアウトのボタンやEditTextがクリックや文字入力された時のプログラムを実装していきます。\n[ボタンイベントの実装](/AndroidCourse/android/05-ButtonAction)","source":"_posts/android/04-MakeLayoutDesign.md","raw":"---\ntitle: 検索画面レイアウト作成\ndate: 2017-11-05\n---\nLayout Editor / ConstraintLayoutを使用したレイアウト実装と動作確認\n\n<!-- toc -->\n\n[Androidアプリ開発を始める](/AndroidCourse/android/03-StartAndroidDevelopment)から引き続きの学習ページです。\n# ページ内の学習ポイント\n* Layout Editor\n* Widget / View などのコンポーネント\n* エミュレータの起動、確認方法\n\n蔵書検索アプリ起動時に表示される検索画面のレイアウト構成を作りながら、\nLayout Editorや画面を構成する要素について学習します。\nまた、作成したレイアウトをエミュレータという仮想デバイスを使い表示確認を通して使い方を学習します。\n\n# Layout Editor / ConstraintLayout\nAndroidアプリに表示する画面のレイアウト構成を作るためにはLayout EditorというAndroid Studioの機能を使います。\n\nAndroidアプリのプロジェクト開始時に生成されたレイアウトxmlファイルにウィジェット(Widget)やビュー(View)を配置し、ウィジェットごとに制約を設定して以下画像のように表示位置を決めていきます。\n{% img /android/04-MakeLayoutDesign/CompleteScreen.png 500 CompleteScreen %}\n\n## Layout Editor\nAndroid Studio 2.2で追加されたレイアウト構成の機能、以前までも類似する機能はあったが使いにくく、xmlファイルを直接修正することが多かったのですが、改善されたとこで視覚的にWidgetやViewを配置しやすくなった。\n特にConstrainsLayoutと合わせて使うことで画面のレイアウト作成でxmlファイルを直接修正する必要が無くなってきたことで初学者の学習コストやハードルも下がってきました。\n\nLayout Editor内、各領域の名称は以下の通りです。\n<img src=\"https://developer.android.com/studio/images/write/layout-editor-callouts_2-2_2x.png?hl=ja\" alt=\"alt\" title=\"Layout Editor\" width=\"550\">\n\n|No.  |領域名                 |説明                                             |\n|:---:|:---------------------|:-----------------------------------------------|\n|①   |Palette               |レイアウトに配置できるウィジェットとレイアウトリストを表示されています |\n|②   |Component Tree        |レイアウトのビュー階層を表示/移動することができます、Viewの重なりもここで調整します |\n|③   |ツールバー              |レイアウトの外観設定やプロパティを編集するためのボタンが表示されています |\n|④   |デザイン エディタ        |実際の見た目が確認できる<font color=\"red\">デザインビュー</font>と制約を確認できる<font color=\"red\">ブループリントビュー</font>が表示されまる |\n|⑤   |Properties             |現在選択されているビューの詳細な情報が表示されます |\n\n## ConstraintLayout\nAndroid 2.3(Gingerbread)以上を対象に開発を行う場合に利用することが可能なコンポーネントです。\nconstraint(制約)をWidgetやViewに設定することで画面内での配置を決めることができます。\n\nまた、従来からあるの\"Linear Layout\"や\"Relative Layout\"コンポーネントに比べネスト構造を減らした実装を行うことができるようになりxmlファイルを確認する場合でも簡単になりました。\n\n## 検索画面のレイアウト作成\nアプリ起動時に表示される検索画面のレイアウトを作成を始めます、\nAndroidアプリで画面レイアウトを構成するのは、`xml`という形式のファイルになります。\n`activity_main.xml`というファイルを開き修正していきます。\n> app -> res -> layout -> activity_main.xml\n\n<img src=\"le0.png\" alt=\"alt\" title=\"create layout\" width=\"500\">\n以下の画像のようにLayout Editorが表示されたら、サンプルの為で始めから表示されている**\"Hello World\"**をクリックして```delete```キーを押して削除します\n<img src=\"le1.png\" alt=\"alt\" title=\"create layout\" width=\"500\">\nこれで画面上に何もなくなりスッキリしました。\n\nでは新しくウィジェットなどを配置する前に今回開発する蔵書検索アプリの起動時画面を見直してみましょう。\n{% img /android/04-MakeLayoutDesign/CompleteScreen.png 500 CompleteScreen %}\n完成した画面を見ると以下のウィジェットが配置されています。\n* 文字入力できるウィジェットが一つ\n* ボタンとしてクリックができるウィジェットが２つ\n\n全部で３つのウィジェットを使いレイアウトが構成されていることがわかりました。\n\nまずはアプリで文字入力を行うために`EditText`というウィジェットからデザインビューに配置していきます。\nAndroid開発で用意されているウィジェットやビューはLayout Editor内の<font color=\"red\">Paletteエリア</font>に全て表示されています。\n\nでは`EditText`を配置するために<font color=\"red\">Paletteエリア</font>から**Plain Text**をクリックしたまま引っ張ってデザインビューでクリックを離します。\n{% img /android/04-MakeLayoutDesign/le2.png 500 create layout %}\n続いてウィジェットやビューをデザインビューに乗せたら表示させたい位置に配置するために、\"editText\"の各変に制約を設定していきます、\n\"editText\"は画面中央より少し左上に表示したいので、まずは画面左隅と隣合うように制約をつけます。\n\n\"editText\"左枠に表示されている **◯**をクリックしたまま画面の左端まで引っ張って放します。\n{% img /android/04-MakeLayoutDesign/le3.png 500 create layout %}\n\"editText\"が以下の画面のように画面左隅に近づきます。\n{% img /android/04-MakeLayoutDesign/le4.png 500 create layout %}\n上記の手順で画面左端と\"editText\"の左辺を隣接する\"制約\"が設定されました。\n続けて上下と右辺も同じように各画面端と隣接する制約を設定してみてください。\n{% img /android/04-MakeLayoutDesign/le5.png 500 create layout %}\n上下左右の全てに制約を付けると\"editText\"は画面の真ん中に表示さされます。\n{% img /android/04-MakeLayoutDesign/le6.png 500 create layout %}\n\"editText\"は中央より少し左上に配置したいので制約の縦横\"バイアス\"細かい位置調整します\nバイアス設定のツマミを動かすと対象の方向で位置を動かすことができます\n{% img /android/04-MakeLayoutDesign/le7.png 500 create layout %}\n\n|バイアス方向|設定値|\n|:---------|:----|\n|垂直バイアス|40   |\n|水平バイアス|25   |\n\nボタンを２つ配置していきます、<font color=\"red\">Paletteエリア</font>から`Button`をクリックしたまま引っ張りデザインビュー上で放します\n{% img /android/04-MakeLayoutDesign/le8.png 500 create layout %}\n\"蔵書検索\"ボタンを配置のため制約を設定していきます\n{% img /android/04-MakeLayoutDesign/le9.png 500 create layout %}\n\n|Buttonの辺|隣り合わせる箇所  |\n|:---------|:-------------|\n|上辺       |画面上端       |\n|左辺       |\"editText\"右端 |\n|下辺       |画面下端       |\n|右辺       |画面右端       |\n\n先ほどの\"editText\"と同じ高さに調整するため、バイアスを調整します\n{% img /android/04-MakeLayoutDesign/le10.png 500 create layout %}\n\n|バイアス方向|設定値|\n|:---------|:----|\n|垂直バイアス|40   |\n|水平バイアス|50   |\n\n**Button**に表示される文言を変更するために、右の<font color=\"red\">Attributesエリア</font>から\"text\"項目を探し、**\"蔵書検索\"**と入力します\n{% img /android/04-MakeLayoutDesign/le11.png 500 create layout %}\n\n残りの\"閲覧履歴\"ボタンを画面の通り制約を使って配置してみましょう\n<font color=\"red\">ヒント１：ウィジェットの辺同士に制約をつけることもできます</font>\n{% img /android/04-MakeLayoutDesign/le12.png 500 create layout %}\n\nこれで検索画面のレイアウトが完成しましたのでエミュレータにて表示確認をしてみましょう。\n\n## 表示確認\nレイアウトやプログラムを修正したら動かして確認してみたくなりますね、\n今回はAndroid Studioに内臓されているエミュレータ（仮想デバイス）を使って表示確認をしてみます。\n\nエミュレータや実機でアプリを実行するためには下記画面の`Run`ボタンをクリックします\n{% img /android/04-MakeLayoutDesign/runemurate01.png 500 Run Project %}\n\n\"Select Deployment Target\"と書かれたダイアログが表示されますが、ここには接続されている実機やエミュレータなど、Androidアプリを実行するデバイスを選ぶことができます。\n\nUSBで接続されたAndroidデバイスや既にエミュレータをインストールされているPCでない場合は以下のように何も表示されないと思います。\n{% img /android/04-MakeLayoutDesign/runemurate02.png 500 Run Project %}\n今回はエミュレータを新規作成して使用しますので、`Create New Virtual Device`をクリックして新しいエミュレータを作成します。\n作成するエミュレータを選びますので<font color=\"red\">**Pixel**</font>を選択して`Next`をクリックします\n{% img /android/04-MakeLayoutDesign/runemurate03.png 500 Run Project %}\nエミュレータにインストールするAndorid OSのバージョンを選択します。\n<font color=\"red\">**Marshmallow**</font>を選択して`Next`をクリックします\n{% img /android/04-MakeLayoutDesign/runemurate04.png 500 Run Project %}\nエミュレータの名前や設定変更画面では変更は行わずに`Finish`をクリックします\n{% img /android/04-MakeLayoutDesign/runemurate05.png 500 Run Project %}\nエミュレータの作成が終わると、実行するデバイスの選択画面に戻ります\n今回は作成したエミュレータの名前が表示されるので、<font color=\"red\">**Pixel API 23**</font>を選択して`OK`をクリックします\n{% img /android/04-MakeLayoutDesign/runemurate06.png 500 Run Project %}\nAndroidのエミュレータが起動し\n{% img /android/04-MakeLayoutDesign/runemurate07.png 300 Run Project %}\nエミュレータの画面に作成したレイアウトが表示されれば成功です！\n{% img /android/04-MakeLayoutDesign/runemurate08.png 250 Run Project %}\n\nこれでAndroidアプリのレイアウト作成とエミュレータでの実行方法と表示確認は完了です。\n次のページでは作成したレイアウトのボタンやEditTextがクリックや文字入力された時のプログラムを実装していきます。\n[ボタンイベントの実装](/AndroidCourse/android/05-ButtonAction)","slug":"04-MakeLayoutDesign","published":1,"updated":"2018-01-27T09:13:03.806Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjczn7sxz0004rc61xq5qbwap","content":"<p>Layout Editor / ConstraintLayoutを使用したレイアウト実装と動作確認</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#ページ内の学習ポイント\">ページ内の学習ポイント</a></li>\n<li><a href=\"#layout-editor-constraintlayout\">Layout Editor / ConstraintLayout</a><ul>\n<li><a href=\"#layout-editor\">Layout Editor</a></li>\n<li><a href=\"#constraintlayout\">ConstraintLayout</a></li>\n<li><a href=\"#検索画面のレイアウト作成\">検索画面のレイアウト作成</a></li>\n<li><a href=\"#表示確認\">表示確認</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n<p><a href=\"/AndroidCourse/android/03-StartAndroidDevelopment\">Androidアプリ開発を始める</a>から引き続きの学習ページです。</p>\n<h1><span id=\"ページ内の学習ポイント\">ページ内の学習ポイント</span></h1><ul>\n<li>Layout Editor</li>\n<li>Widget / View などのコンポーネント</li>\n<li>エミュレータの起動、確認方法</li>\n</ul>\n<p>蔵書検索アプリ起動時に表示される検索画面のレイアウト構成を作りながら、<br>Layout Editorや画面を構成する要素について学習します。<br>また、作成したレイアウトをエミュレータという仮想デバイスを使い表示確認を通して使い方を学習します。</p>\n<h1><span id=\"layout-editor-constraintlayout\">Layout Editor / ConstraintLayout</span></h1><p>Androidアプリに表示する画面のレイアウト構成を作るためにはLayout EditorというAndroid Studioの機能を使います。</p>\n<p>Androidアプリのプロジェクト開始時に生成されたレイアウトxmlファイルにウィジェット(Widget)やビュー(View)を配置し、ウィジェットごとに制約を設定して以下画像のように表示位置を決めていきます。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/CompleteScreen.png\" width=\"500\" title=\"CompleteScreen\"></p>\n<h2><span id=\"layout-editor\">Layout Editor</span></h2><p>Android Studio 2.2で追加されたレイアウト構成の機能、以前までも類似する機能はあったが使いにくく、xmlファイルを直接修正することが多かったのですが、改善されたとこで視覚的にWidgetやViewを配置しやすくなった。<br>特にConstrainsLayoutと合わせて使うことで画面のレイアウト作成でxmlファイルを直接修正する必要が無くなってきたことで初学者の学習コストやハードルも下がってきました。</p>\n<p>Layout Editor内、各領域の名称は以下の通りです。<br><img src=\"https://developer.android.com/studio/images/write/layout-editor-callouts_2-2_2x.png?hl=ja\" alt=\"alt\" title=\"Layout Editor\" width=\"550\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">No.</th>\n<th style=\"text-align:left\">領域名</th>\n<th style=\"text-align:left\">説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">①</td>\n<td style=\"text-align:left\">Palette</td>\n<td style=\"text-align:left\">レイアウトに配置できるウィジェットとレイアウトリストを表示されています</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">②</td>\n<td style=\"text-align:left\">Component Tree</td>\n<td style=\"text-align:left\">レイアウトのビュー階層を表示/移動することができます、Viewの重なりもここで調整します</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">③</td>\n<td style=\"text-align:left\">ツールバー</td>\n<td style=\"text-align:left\">レイアウトの外観設定やプロパティを編集するためのボタンが表示されています</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">④</td>\n<td style=\"text-align:left\">デザイン エディタ</td>\n<td style=\"text-align:left\">実際の見た目が確認できる<font color=\"red\">デザインビュー</font>と制約を確認できる<font color=\"red\">ブループリントビュー</font>が表示されまる</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⑤</td>\n<td style=\"text-align:left\">Properties</td>\n<td style=\"text-align:left\">現在選択されているビューの詳細な情報が表示されます</td>\n</tr>\n</tbody>\n</table>\n<h2><span id=\"constraintlayout\">ConstraintLayout</span></h2><p>Android 2.3(Gingerbread)以上を対象に開発を行う場合に利用することが可能なコンポーネントです。<br>constraint(制約)をWidgetやViewに設定することで画面内での配置を決めることができます。</p>\n<p>また、従来からあるの”Linear Layout”や”Relative Layout”コンポーネントに比べネスト構造を減らした実装を行うことができるようになりxmlファイルを確認する場合でも簡単になりました。</p>\n<h2><span id=\"検索画面のレイアウト作成\">検索画面のレイアウト作成</span></h2><p>アプリ起動時に表示される検索画面のレイアウトを作成を始めます、<br>Androidアプリで画面レイアウトを構成するのは、<code>xml</code>という形式のファイルになります。<br><code>activity_main.xml</code>というファイルを開き修正していきます。</p>\n<blockquote>\n<p>app -&gt; res -&gt; layout -&gt; activity_main.xml</p>\n</blockquote>\n<p><img src=\"le0.png\" alt=\"alt\" title=\"create layout\" width=\"500\"><br>以下の画像のようにLayout Editorが表示されたら、サンプルの為で始めから表示されている<strong>“Hello World”</strong>をクリックして<code>delete</code>キーを押して削除します<br><img src=\"le1.png\" alt=\"alt\" title=\"create layout\" width=\"500\"><br>これで画面上に何もなくなりスッキリしました。</p>\n<p>では新しくウィジェットなどを配置する前に今回開発する蔵書検索アプリの起動時画面を見直してみましょう。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/CompleteScreen.png\" width=\"500\" title=\"CompleteScreen\"><br>完成した画面を見ると以下のウィジェットが配置されています。</p>\n<ul>\n<li>文字入力できるウィジェットが一つ</li>\n<li>ボタンとしてクリックができるウィジェットが２つ</li>\n</ul>\n<p>全部で３つのウィジェットを使いレイアウトが構成されていることがわかりました。</p>\n<p>まずはアプリで文字入力を行うために<code>EditText</code>というウィジェットからデザインビューに配置していきます。<br>Android開発で用意されているウィジェットやビューはLayout Editor内の<font color=\"red\">Paletteエリア</font>に全て表示されています。</p>\n<p>では<code>EditText</code>を配置するために<font color=\"red\">Paletteエリア</font>から<strong>Plain Text</strong>をクリックしたまま引っ張ってデザインビューでクリックを離します。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le2.png\" width=\"500\" title=\"create layout\"><br>続いてウィジェットやビューをデザインビューに乗せたら表示させたい位置に配置するために、”editText”の各変に制約を設定していきます、<br>“editText”は画面中央より少し左上に表示したいので、まずは画面左隅と隣合うように制約をつけます。</p>\n<p>“editText”左枠に表示されている <strong>◯</strong>をクリックしたまま画面の左端まで引っ張って放します。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le3.png\" width=\"500\" title=\"create layout\"><br>“editText”が以下の画面のように画面左隅に近づきます。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le4.png\" width=\"500\" title=\"create layout\"><br>上記の手順で画面左端と”editText”の左辺を隣接する”制約”が設定されました。<br>続けて上下と右辺も同じように各画面端と隣接する制約を設定してみてください。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le5.png\" width=\"500\" title=\"create layout\"><br>上下左右の全てに制約を付けると”editText”は画面の真ん中に表示さされます。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le6.png\" width=\"500\" title=\"create layout\"><br>“editText”は中央より少し左上に配置したいので制約の縦横”バイアス”細かい位置調整します<br>バイアス設定のツマミを動かすと対象の方向で位置を動かすことができます<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le7.png\" width=\"500\" title=\"create layout\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">バイアス方向</th>\n<th style=\"text-align:left\">設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">垂直バイアス</td>\n<td style=\"text-align:left\">40</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">水平バイアス</td>\n<td style=\"text-align:left\">25</td>\n</tr>\n</tbody>\n</table>\n<p>ボタンを２つ配置していきます、<font color=\"red\">Paletteエリア</font>から<code>Button</code>をクリックしたまま引っ張りデザインビュー上で放します<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le8.png\" width=\"500\" title=\"create layout\"><br>“蔵書検索”ボタンを配置のため制約を設定していきます<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le9.png\" width=\"500\" title=\"create layout\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Buttonの辺</th>\n<th style=\"text-align:left\">隣り合わせる箇所</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">上辺</td>\n<td style=\"text-align:left\">画面上端</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">左辺</td>\n<td style=\"text-align:left\">“editText”右端</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">下辺</td>\n<td style=\"text-align:left\">画面下端</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">右辺</td>\n<td style=\"text-align:left\">画面右端</td>\n</tr>\n</tbody>\n</table>\n<p>先ほどの”editText”と同じ高さに調整するため、バイアスを調整します<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le10.png\" width=\"500\" title=\"create layout\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">バイアス方向</th>\n<th style=\"text-align:left\">設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">垂直バイアス</td>\n<td style=\"text-align:left\">40</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">水平バイアス</td>\n<td style=\"text-align:left\">50</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Button</strong>に表示される文言を変更するために、右の<font color=\"red\">Attributesエリア</font>から”text”項目を探し、<strong>“蔵書検索”</strong>と入力します<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le11.png\" width=\"500\" title=\"create layout\"></p>\n<p>残りの”閲覧履歴”ボタンを画面の通り制約を使って配置してみましょう</p>\n<p><font color=\"red\">ヒント１：ウィジェットの辺同士に制約をつけることもできます</font><br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le12.png\" width=\"500\" title=\"create layout\"></p>\n<p>これで検索画面のレイアウトが完成しましたのでエミュレータにて表示確認をしてみましょう。</p>\n<h2><span id=\"表示確認\">表示確認</span></h2><p>レイアウトやプログラムを修正したら動かして確認してみたくなりますね、<br>今回はAndroid Studioに内臓されているエミュレータ（仮想デバイス）を使って表示確認をしてみます。</p>\n<p>エミュレータや実機でアプリを実行するためには下記画面の<code>Run</code>ボタンをクリックします<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate01.png\" width=\"500\" title=\"Run Project\"></p>\n<p>“Select Deployment Target”と書かれたダイアログが表示されますが、ここには接続されている実機やエミュレータなど、Androidアプリを実行するデバイスを選ぶことができます。</p>\n<p>USBで接続されたAndroidデバイスや既にエミュレータをインストールされているPCでない場合は以下のように何も表示されないと思います。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate02.png\" width=\"500\" title=\"Run Project\"><br>今回はエミュレータを新規作成して使用しますので、<code>Create New Virtual Device</code>をクリックして新しいエミュレータを作成します。<br>作成するエミュレータを選びますので<font color=\"red\"><strong>Pixel</strong></font>を選択して<code>Next</code>をクリックします<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate03.png\" width=\"500\" title=\"Run Project\"><br>エミュレータにインストールするAndorid OSのバージョンを選択します。</p>\n<p><font color=\"red\"><strong>Marshmallow</strong></font>を選択して<code>Next</code>をクリックします<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate04.png\" width=\"500\" title=\"Run Project\"><br>エミュレータの名前や設定変更画面では変更は行わずに<code>Finish</code>をクリックします<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate05.png\" width=\"500\" title=\"Run Project\"><br>エミュレータの作成が終わると、実行するデバイスの選択画面に戻ります<br>今回は作成したエミュレータの名前が表示されるので、<font color=\"red\"><strong>Pixel API 23</strong></font>を選択して<code>OK</code>をクリックします<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate06.png\" width=\"500\" title=\"Run Project\"><br>Androidのエミュレータが起動し<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate07.png\" width=\"300\" title=\"Run Project\"><br>エミュレータの画面に作成したレイアウトが表示されれば成功です！<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate08.png\" width=\"250\" title=\"Run Project\"></p>\n<p>これでAndroidアプリのレイアウト作成とエミュレータでの実行方法と表示確認は完了です。<br>次のページでは作成したレイアウトのボタンやEditTextがクリックや文字入力された時のプログラムを実装していきます。<br><a href=\"/AndroidCourse/android/05-ButtonAction\">ボタンイベントの実装</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Layout Editor / ConstraintLayoutを使用したレイアウト実装と動作確認</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#ページ内の学習ポイント\">ページ内の学習ポイント</a></li>\n<li><a href=\"#layout-editor-constraintlayout\">Layout Editor / ConstraintLayout</a><ul>\n<li><a href=\"#layout-editor\">Layout Editor</a></li>\n<li><a href=\"#constraintlayout\">ConstraintLayout</a></li>\n<li><a href=\"#検索画面のレイアウト作成\">検索画面のレイアウト作成</a></li>\n<li><a href=\"#表示確認\">表示確認</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n<p><a href=\"/AndroidCourse/android/03-StartAndroidDevelopment\">Androidアプリ開発を始める</a>から引き続きの学習ページです。</p>\n<h1 id=\"ページ内の学習ポイント\"><a href=\"#ページ内の学習ポイント\" class=\"headerlink\" title=\"ページ内の学習ポイント\"></a>ページ内の学習ポイント</h1><ul>\n<li>Layout Editor</li>\n<li>Widget / View などのコンポーネント</li>\n<li>エミュレータの起動、確認方法</li>\n</ul>\n<p>蔵書検索アプリ起動時に表示される検索画面のレイアウト構成を作りながら、<br>Layout Editorや画面を構成する要素について学習します。<br>また、作成したレイアウトをエミュレータという仮想デバイスを使い表示確認を通して使い方を学習します。</p>\n<h1 id=\"Layout-Editor-ConstraintLayout\"><a href=\"#Layout-Editor-ConstraintLayout\" class=\"headerlink\" title=\"Layout Editor / ConstraintLayout\"></a>Layout Editor / ConstraintLayout</h1><p>Androidアプリに表示する画面のレイアウト構成を作るためにはLayout EditorというAndroid Studioの機能を使います。</p>\n<p>Androidアプリのプロジェクト開始時に生成されたレイアウトxmlファイルにウィジェット(Widget)やビュー(View)を配置し、ウィジェットごとに制約を設定して以下画像のように表示位置を決めていきます。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/CompleteScreen.png\" width=\"500\" title=\"CompleteScreen\"></p>\n<h2 id=\"Layout-Editor\"><a href=\"#Layout-Editor\" class=\"headerlink\" title=\"Layout Editor\"></a>Layout Editor</h2><p>Android Studio 2.2で追加されたレイアウト構成の機能、以前までも類似する機能はあったが使いにくく、xmlファイルを直接修正することが多かったのですが、改善されたとこで視覚的にWidgetやViewを配置しやすくなった。<br>特にConstrainsLayoutと合わせて使うことで画面のレイアウト作成でxmlファイルを直接修正する必要が無くなってきたことで初学者の学習コストやハードルも下がってきました。</p>\n<p>Layout Editor内、各領域の名称は以下の通りです。<br><img src=\"https://developer.android.com/studio/images/write/layout-editor-callouts_2-2_2x.png?hl=ja\" alt=\"alt\" title=\"Layout Editor\" width=\"550\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">No.</th>\n<th style=\"text-align:left\">領域名</th>\n<th style=\"text-align:left\">説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">①</td>\n<td style=\"text-align:left\">Palette</td>\n<td style=\"text-align:left\">レイアウトに配置できるウィジェットとレイアウトリストを表示されています</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">②</td>\n<td style=\"text-align:left\">Component Tree</td>\n<td style=\"text-align:left\">レイアウトのビュー階層を表示/移動することができます、Viewの重なりもここで調整します</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">③</td>\n<td style=\"text-align:left\">ツールバー</td>\n<td style=\"text-align:left\">レイアウトの外観設定やプロパティを編集するためのボタンが表示されています</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">④</td>\n<td style=\"text-align:left\">デザイン エディタ</td>\n<td style=\"text-align:left\">実際の見た目が確認できる<font color=\"red\">デザインビュー</font>と制約を確認できる<font color=\"red\">ブループリントビュー</font>が表示されまる</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⑤</td>\n<td style=\"text-align:left\">Properties</td>\n<td style=\"text-align:left\">現在選択されているビューの詳細な情報が表示されます</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"ConstraintLayout\"><a href=\"#ConstraintLayout\" class=\"headerlink\" title=\"ConstraintLayout\"></a>ConstraintLayout</h2><p>Android 2.3(Gingerbread)以上を対象に開発を行う場合に利用することが可能なコンポーネントです。<br>constraint(制約)をWidgetやViewに設定することで画面内での配置を決めることができます。</p>\n<p>また、従来からあるの”Linear Layout”や”Relative Layout”コンポーネントに比べネスト構造を減らした実装を行うことができるようになりxmlファイルを確認する場合でも簡単になりました。</p>\n<h2 id=\"検索画面のレイアウト作成\"><a href=\"#検索画面のレイアウト作成\" class=\"headerlink\" title=\"検索画面のレイアウト作成\"></a>検索画面のレイアウト作成</h2><p>アプリ起動時に表示される検索画面のレイアウトを作成を始めます、<br>Androidアプリで画面レイアウトを構成するのは、<code>xml</code>という形式のファイルになります。<br><code>activity_main.xml</code>というファイルを開き修正していきます。</p>\n<blockquote>\n<p>app -&gt; res -&gt; layout -&gt; activity_main.xml</p>\n</blockquote>\n<p><img src=\"le0.png\" alt=\"alt\" title=\"create layout\" width=\"500\"><br>以下の画像のようにLayout Editorが表示されたら、サンプルの為で始めから表示されている<strong>“Hello World”</strong>をクリックして<code>delete</code>キーを押して削除します<br><img src=\"le1.png\" alt=\"alt\" title=\"create layout\" width=\"500\"><br>これで画面上に何もなくなりスッキリしました。</p>\n<p>では新しくウィジェットなどを配置する前に今回開発する蔵書検索アプリの起動時画面を見直してみましょう。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/CompleteScreen.png\" width=\"500\" title=\"CompleteScreen\"><br>完成した画面を見ると以下のウィジェットが配置されています。</p>\n<ul>\n<li>文字入力できるウィジェットが一つ</li>\n<li>ボタンとしてクリックができるウィジェットが２つ</li>\n</ul>\n<p>全部で３つのウィジェットを使いレイアウトが構成されていることがわかりました。</p>\n<p>まずはアプリで文字入力を行うために<code>EditText</code>というウィジェットからデザインビューに配置していきます。<br>Android開発で用意されているウィジェットやビューはLayout Editor内の<font color=\"red\">Paletteエリア</font>に全て表示されています。</p>\n<p>では<code>EditText</code>を配置するために<font color=\"red\">Paletteエリア</font>から<strong>Plain Text</strong>をクリックしたまま引っ張ってデザインビューでクリックを離します。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le2.png\" width=\"500\" title=\"create layout\"><br>続いてウィジェットやビューをデザインビューに乗せたら表示させたい位置に配置するために、”editText”の各変に制約を設定していきます、<br>“editText”は画面中央より少し左上に表示したいので、まずは画面左隅と隣合うように制約をつけます。</p>\n<p>“editText”左枠に表示されている <strong>◯</strong>をクリックしたまま画面の左端まで引っ張って放します。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le3.png\" width=\"500\" title=\"create layout\"><br>“editText”が以下の画面のように画面左隅に近づきます。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le4.png\" width=\"500\" title=\"create layout\"><br>上記の手順で画面左端と”editText”の左辺を隣接する”制約”が設定されました。<br>続けて上下と右辺も同じように各画面端と隣接する制約を設定してみてください。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le5.png\" width=\"500\" title=\"create layout\"><br>上下左右の全てに制約を付けると”editText”は画面の真ん中に表示さされます。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le6.png\" width=\"500\" title=\"create layout\"><br>“editText”は中央より少し左上に配置したいので制約の縦横”バイアス”細かい位置調整します<br>バイアス設定のツマミを動かすと対象の方向で位置を動かすことができます<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le7.png\" width=\"500\" title=\"create layout\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">バイアス方向</th>\n<th style=\"text-align:left\">設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">垂直バイアス</td>\n<td style=\"text-align:left\">40</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">水平バイアス</td>\n<td style=\"text-align:left\">25</td>\n</tr>\n</tbody>\n</table>\n<p>ボタンを２つ配置していきます、<font color=\"red\">Paletteエリア</font>から<code>Button</code>をクリックしたまま引っ張りデザインビュー上で放します<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le8.png\" width=\"500\" title=\"create layout\"><br>“蔵書検索”ボタンを配置のため制約を設定していきます<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le9.png\" width=\"500\" title=\"create layout\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Buttonの辺</th>\n<th style=\"text-align:left\">隣り合わせる箇所</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">上辺</td>\n<td style=\"text-align:left\">画面上端</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">左辺</td>\n<td style=\"text-align:left\">“editText”右端</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">下辺</td>\n<td style=\"text-align:left\">画面下端</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">右辺</td>\n<td style=\"text-align:left\">画面右端</td>\n</tr>\n</tbody>\n</table>\n<p>先ほどの”editText”と同じ高さに調整するため、バイアスを調整します<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le10.png\" width=\"500\" title=\"create layout\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">バイアス方向</th>\n<th style=\"text-align:left\">設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">垂直バイアス</td>\n<td style=\"text-align:left\">40</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">水平バイアス</td>\n<td style=\"text-align:left\">50</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Button</strong>に表示される文言を変更するために、右の<font color=\"red\">Attributesエリア</font>から”text”項目を探し、<strong>“蔵書検索”</strong>と入力します<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le11.png\" width=\"500\" title=\"create layout\"></p>\n<p>残りの”閲覧履歴”ボタンを画面の通り制約を使って配置してみましょう</p>\n<p><font color=\"red\">ヒント１：ウィジェットの辺同士に制約をつけることもできます</font><br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/le12.png\" width=\"500\" title=\"create layout\"></p>\n<p>これで検索画面のレイアウトが完成しましたのでエミュレータにて表示確認をしてみましょう。</p>\n<h2 id=\"表示確認\"><a href=\"#表示確認\" class=\"headerlink\" title=\"表示確認\"></a>表示確認</h2><p>レイアウトやプログラムを修正したら動かして確認してみたくなりますね、<br>今回はAndroid Studioに内臓されているエミュレータ（仮想デバイス）を使って表示確認をしてみます。</p>\n<p>エミュレータや実機でアプリを実行するためには下記画面の<code>Run</code>ボタンをクリックします<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate01.png\" width=\"500\" title=\"Run Project\"></p>\n<p>“Select Deployment Target”と書かれたダイアログが表示されますが、ここには接続されている実機やエミュレータなど、Androidアプリを実行するデバイスを選ぶことができます。</p>\n<p>USBで接続されたAndroidデバイスや既にエミュレータをインストールされているPCでない場合は以下のように何も表示されないと思います。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate02.png\" width=\"500\" title=\"Run Project\"><br>今回はエミュレータを新規作成して使用しますので、<code>Create New Virtual Device</code>をクリックして新しいエミュレータを作成します。<br>作成するエミュレータを選びますので<font color=\"red\"><strong>Pixel</strong></font>を選択して<code>Next</code>をクリックします<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate03.png\" width=\"500\" title=\"Run Project\"><br>エミュレータにインストールするAndorid OSのバージョンを選択します。</p>\n<p><font color=\"red\"><strong>Marshmallow</strong></font>を選択して<code>Next</code>をクリックします<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate04.png\" width=\"500\" title=\"Run Project\"><br>エミュレータの名前や設定変更画面では変更は行わずに<code>Finish</code>をクリックします<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate05.png\" width=\"500\" title=\"Run Project\"><br>エミュレータの作成が終わると、実行するデバイスの選択画面に戻ります<br>今回は作成したエミュレータの名前が表示されるので、<font color=\"red\"><strong>Pixel API 23</strong></font>を選択して<code>OK</code>をクリックします<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate06.png\" width=\"500\" title=\"Run Project\"><br>Androidのエミュレータが起動し<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate07.png\" width=\"300\" title=\"Run Project\"><br>エミュレータの画面に作成したレイアウトが表示されれば成功です！<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/runemurate08.png\" width=\"250\" title=\"Run Project\"></p>\n<p>これでAndroidアプリのレイアウト作成とエミュレータでの実行方法と表示確認は完了です。<br>次のページでは作成したレイアウトのボタンやEditTextがクリックや文字入力された時のプログラムを実装していきます。<br><a href=\"/AndroidCourse/android/05-ButtonAction\">ボタンイベントの実装</a></p>\n"},{"title":"ボタンイベントの実装","date":"2017-11-05T15:00:00.000Z","_content":"アプリの基本イベントとなるボタンが押された時の処理を学習し、蔵書検索ボタンの機能を作り始めます。\n合わせてコンソールログを表示、Toast(トースト)の機能を試します\n\n<!-- toc -->\n\n[検索画面レイアウト作成](/AndroidCourse/android/04-MakeLayoutDesign)からの引き続きの学習ページです。\n# ページ内の学習ポイント\n* レイアウトファイルとjavaファイル間のウィジェットの関連付け\n* ボタンクリックイベントの実装方法\n* クラス、変数\n* メソッド\n\nレイアウト作成した画面に配置したボタンがクリックされた時に実行したい命令を作りながらレイアウトファイルとjavaファイルでの関連付けやプログラミングにおける重要な変数、メソッドを学習します。\n\n# 検索画面の機能を考える\nこのページからはプログラムの実装していきますが、前のページで作成したレイアウトにはどんな操作が発生するか考えるため、もう一度完成したレイアウトを見てみます。\n{% img /android/04-MakeLayoutDesign/CompleteScreen.png 500 CompleteScreen %}\n大まかに以下ような操作をユーザが行い、ウィジェットによっては機能として動くプログラムを実装する必要がありそうです。\n1. 検索する蔵書名、またはその一部を入力する操作\n1. 蔵書検索ボタンをクリック\n    * 入力された蔵書名、またはその一部から蔵書の検索結果を表示する画面に遷移する機能\n1. 閲覧履歴をクリック\n    * 過去に検索結果から閲覧した蔵書のリストを表示する画面に遷移する機能\n\n当ページではアプリを作る上での基礎になる\"ボタンをクリックした時に画面を遷移する\"の前にボタンをクリックした時にログ表示、Toastを表示するところまでを解説していきます。\n\n# javaプログラムとxmlレイアウトの関連付け\n普段何気なく使っているアプリのボタンをクリックした時、アプリではプログラムが実行され別の画面を表示したり、計算や文字の置き換えなどの命令を実行して画面の表示内容を更新するなど見えないところで色々な命令が動いています。\n\nボタンをクリックした時のプログラムや画面の表示内容更新などは**java**ファイルに実装していきます。\n\"検索画面レイアウト作成\"ページでレイアウト作成したのは`activity_main.xml`というファイルでしたが、このレイアウトファイルは「MainActivity.java」のプログラムによって画面に表示されています。\n\nでは**MainActivity.java**ファイルを開きプログラムを実装していきます。\n{% img /android/05-ButtonAction/setid04.png 500 rerationcode %}\n\n前の記事[レイアウト作成](/AndroidCourse/android/04-MakeLayoutDesign)の内容で作成したxmlレイアウトですが、\n実は\"MainActivity.java\"の中ですでに関連付けのプログラムが実装されています。\nそれが以下のコード内矢印に囲まれてる`setContentView()`という命令でMainActivity.javaが表示され`setContentView()`の命令を実行する際に \"()\" 内で指定したレイアウトxmlファイルと関連付けを行い、内部で画面に表示するという命令を実行してくれています。\n```java MainActivity.java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        //↓↓↓↓↓↓↓↓↓↓↓↓レイアウト読み込み↓↓↓↓↓↓↓↓↓↓↓↓\n        setContentView(R.layout.activity_main);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n    }\n}\n```\n\n`setContentView()`の様に必ず書かないといけないけど説明が難しいコードを<font color=\"red\">***おまじない***</font>と紹介されることがありますが、実装されていないとアプリが異常終了してしまったり、今回の場合では画面が真っ白な画面が表示されるだけになってしまうので<font color=\"red\">***おまじない***</font>と紹介されたところは*よくわからないけど書かないとよくないことが起こる*と頭の片隅に置いておいてください。\n\n次にButtonをクリックしたときに検索などの処理を行うにはMainActivity.javaなど**javaファイルでクリックされた時のプログラムを書く**必要があります。\n`setContentView()`を実行したことでMainActivity.javaから\"activity_main.xml\"のボタンなどウィジェットやビューを参照できる状態になっています、\nあとはボタンやエディットテキストなどを各ウィジェットやビューにユニークな名称(他と被らない情報)があればjavaファイルでも判別して使えそうです。\n\n\"activity_main.xml”内のButtonやEditTextなどにはユニークな名称を設定する項目として**ID**という項目があるので、**activity_main.xml**を開きます。\n{% img /android/05-ButtonAction/rerationcode01.png 500 rerationcode %}\n\n\"蔵書検索\"ボタンをクリックしAttributesエリアから**\"ID\"**項目を以下のように修正します\n{% img /android/05-ButtonAction/setid01.png 500 rerationcode %}\n\n> button -> BookSearchBtn\n\n合わせて他のウィジェットの**\"ID\"**項目も変更していきます。\n※もし変更前IDが一致していなくても、Noと場所の照らし合わせを正として修正してください\n{% img /android/05-ButtonAction/setid03.png 500 rerationcode %}\n\n|No.  |変更前のID |変更後ID         |\n|:---:|:---------|:--------------|\n|①   |button    |BookSearchBtn  |\n|②   |editText  |BookSearchEdit |\n|③   |button2   |HistoryBtn     |\n\nIDを変更するとComponent Treeの表示にも変更が反映されます\nこれで画面のボタンなどに\"ID\"項目を設定することができました、ここからがjavaプログラムの実装です、MainActivity.javaからウィジェットやビューと関連付けの方法を紹介していきます。\n\nButtonやEditTextなどのウィジェットをjavaプログラムで操作できる様にするにはいくつかの方法がありますが、一番よく使う方法として<font color=\"red\">`findViewById()`</font>を使う方法で実装していきます。\n\"setContentView\" で関連付けたレイアウトxml内のウィジェットやビューに設定した\"ID\"を`findViewById`の後ろの \"()\"内に 指定することでjavaプログラムで”ボタンをクリックした時\"の命令を登録したり、\"ボタンに表示する文言などを表示後に変更する\"ことができる様になります。\n\n## コード記述時の便利機能\nこれからコード記述する中でIDの入力中に小さいリスト表示がされると思いますので十字キーの上下を押して選択し、`Enter`キーを押せばプログラムに反映されるので試してみてください。\n{% img /android/05-ButtonAction/setid05.png 650 rerationcode %}\n\n上記の便利機能を踏まえて`findViewById`メソッドと \"activity_main.xml\"で設定した**ID**を使ってButtonウィジェットの関連付けを行います。\n```java MainActivity.java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n    // レイアウトxmlと関連付けるWidget\n    Button bookSearchBtn;\n    //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n    }\n}\n```\n最初に実装したコードですので追加した２行にどんな意味合いがあるのかみていきましょう\n{% img /android/05-ButtonAction/setid06.png 600 rerationcode %}\n\n|No.  |各No.のコードの説明                                     |\n|:---:|:----------------------------------------------------|\n|①   |activity_main.xml内のウィジェットと関連づける型            |\n|②   |MainActivity.javaで使う時のユニークな名前                 |\n|③   |①〜②で宣言したウィジェットに情報を登録する時の記述方法       |\n|④   |④のIDを使いactivity_main.xml内のウィジェット/ビューを取得するプログラム |\n|⑤   |activity_main.xml内から取得するウィジェット/ビューのユニークID |\n\nこれで\"蔵書検索\"ボタンをxmlレイアウトとMainActivity.javaのプログラムで関連付けることができました。\n\nxmlファイル内のウィジェットなどとjavaファイルの関連付けは非常に多く利用するコードですので利用方法を理解しておきましょう。\n* ①〜⑤の工程はプログラムで表示するデータを動的に一時的に記憶したり、表示したりする上で大事なクラス（変数）の宣言から初期化）を行なっています。\n* ①〜②で追加したコードを<font color=\"blue\">クラスの宣言</font>と言い、WidgetやView、その他のクラスをjavaプログラムで使うためにわかりやすい名前をつけて準備をしています。\n* 本来ボタンオブジェクトは\"ボタンの色\"、\"ボタンに表示する文字\"など情報を持っていますが、①〜②の工程だけでは名前が準備されただけで`bookSearchBtn`は全く情報を持っていません。\n* `bookSearchBtn `に情報を登録するには<font color=\"blue\">**オブジェクト化（インスタンス化とも呼ばれます）**</font>という工程が必要になります、\nその工程が③〜⑤に該当しオブジェクト化を行なっており、この工程後に`bookSearchBtn`がもつ\"ボタンの色\"、\"ボタンに表示する文字\"などの情報を\n参照したり変更したりすることが可能になります。\n\n# ボタンクリックアクションの実装\n\"蔵書検索\"ボタンのクリックした時にクリックされたことを開発者に確認させるためログを出力するプログラムを作っていきます。\nプログラムが上手く動かない時などどこまでプログラムが実行されたかを確認したり、実行中のデータを確認する時にも利用できるので試してみます。\n```java MainActivity.java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    // レイアウトxmlと関連付けるWidget\n    Button bookSearchBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // 蔵書検索ボタンが押された時の処理を実装\n        View.OnClickListener bookSearchEvent = new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // コンソールログにボタンが押されたことを出力(表示)\n                Log.d(\"BookSearchBtn\", \"onClick: BookSearch Button\");\n            }\n        };\n        // 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録\n        bookSearchBtn.setOnClickListener(bookSearchEvent);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n    }\n}\n```\n\n上記コードの実装が完了したら動作確認をします、`Run`アイコンをクリックしてエミュレータを起動します。\nアプリ画面が表示されたら**蔵書検索**ボタンをクリックしてみてください。\n\nAndroid Studioの左下<font color=\"red\">Logcat</font>タブをクリックし、赤枠のログが出力されていることを確認してみましょう。\n{% img /android/05-ButtonAction/setid07.png 650 rerationcode %}\n実装したコードで表示されるログですが、出力するためには以下のような形式で実装する必要があります。\nログを表示するプログラムのとして以下のテンプレートを覚えておきましょう。\n```\nLog.d(\"tag name\", \"message\");\n```\n\nボタンを押した時にログを表示する命令を実行するプログラムを実装ました、ここまでの全体の工程をおさらいします。\n{% img /android/05-ButtonAction/DesignCode.png 450 DesignCode %}\n文字の色分けなどは以下の通りです\n* <font color=\"blue\">青文字</font>の「ボタン押下時に検索を行う」が大きな課題\n* <font color=\"red\">赤文字</font>、黒文字で書かれたところがエンジニアの気づくべき手順\n* また<font color=\"red\">赤文字</font>の「画面にボタンを表示する必要がある」「ボタンが押された時にプログラムを実行する必要がある」の２つは編集が必要なファイルごとの課題\n* <font color=\"gray\">灰色の四角</font>に囲われている内容がエンジニアがコードを記述する必要のある箇所\n\nここまでに聞きなれない単語がいくつか出てきました、アプリ開発に限らずプログラムを\n行なっていく上で<font color=\"blue\">**とても重要**</font>な概念ですので詳しく解説します。\n## クラス、変数\nプログラムで使用するデータを一時的に記憶しておいたり、計算や画面に表示するデータとして使用するために使用する概念になります。\n変数を解説/理解する上で色々なたとえがあるのですが、以下Wikipediaの内容が一番理解しやすかったので一部引用させてもらいました。\n\n{% blockquote 変数(プログラミング) https://ja.wikipedia.org/wiki/%E5%A4%89%E6%95%B0_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0) wikipedia %}\nデータを一定期間記憶し必要なときに利用できるようにするために、データに固有の名前を与えたものである。 一人一人の人間が異なる名前によって区別されるように、一つ一つの変数も名前によって区別される。\n変数が表しているデータをその変数の値（あたい）という。\n{% endblockquote %}\n\n一部文中省いているところはありますが、上記の様にデータを一定期間記憶、使用することができる固有（ユニーク）な名称をつけたものになります。\n変数につけた固有名称を変数名と呼びます。\n\n変数に記憶しておけるデータの種類が決まっており、種類のことを***型***と呼びます。\n型は一度決めてしまうと後から変更することはできません。\n型の種類は以下の通りです、Stringは厳密には型ではありませんが、頻繁に使用するので一緒に記載しておきます。\n\n|型名    |記憶できるデータ       |データの範囲                                   |\n|:------|:-------------------:|:--------------------------------------------|\n|byte   |符号つき8ビット整数型   |-128 ～ 127                                  |\n|short  |符号つき16ビット整数型  |-32768 ～ 32767                              |\n|int    |符号つき32ビット整数型  |-2147483648 ～ 2147483647                    |\n|long   |符号つき64ビット整数型  |-9223372036854775808 ～ 9223372036854775807  |\n|float  |32ビット浮動小数点数型  |1.4E-45 〜 3.4028235E38                      |\n|double |64ビット浮動小数点数型  |4.9E-324 〜　1.7976931348623157E308           |\n|boolean|論理型                |true(真)、false(偽)                           |\n|char   |符号なし１６ビット文字型 |Unicode文字１文字 : ¥0000 〜 ¥FFFF / 0 〜 65535|\n|String |文字列クラス           |複数の文字を扱うことができる                     |\n\nクラス、変数を利用するための操作として**宣言**、**代入**、**参照**の３つがあります。\n* 宣言\n    * 一定期間記憶しておくデータの型、変数名を明確に記述することを宣言と呼びます、宣言を行わないと変数は参照できません\n* 代入\n    * 宣言した変数に一定期間記憶しておくデータを登録/更新すること\n    * 宣言された変数に最初にデータを登録(格納)することを*初期化*と言います\n    * 宣言されたクラスに最初にデータを*オブジェクト化(インスタンス化)*と言います\n* 参照\n    * 宣言され、初期化された変数のデータを利用することを指します\n    * 数値であれば計算に利用したり、文字列であれば画面に表示する際に**参照**することが多いです\n\n次に変数とクラスはプログラミング上の利用方法が似ているためここでは一緒に紹介しますが、変数とクラスでは記憶しておけるデータの量が違います。\nそれぞれの特徴としては\n変数：**変数は１つだけデータを記憶しておくことができる**\nクラス：**クラスは複数の変数を複数記憶することができ、次に紹介するメソッドも複数持つことができる**\nという違いがあります。\n\nクラスは内部に変数を持っていることも多く、今回使用している`Button`クラスは内部でボタンに表示する文字列や表示する座標位置など\n様々な情報を持っており、その情報を参照するためのメソッドが用意されています。\n\n### ウィジェットとクラス\nウィジェットもクラスに該当します、違いはというとAndroid SDKが準備した画面表示の要素の有無となります。\nウィジェット = クラスであり、Android SDKに準備されているレイアウトxmlファイルに表示できる要素を持っているものと区別しましょう。\n\n## メソッド\n複数の命令を組み合わせた処理の一まとまりをjavaでは**メソッド**と呼びます。\nまた**メソッド**にも名称をつけて管理しており、*メソッド名*と呼びます。\n\nすでに上記までにメソッドは出てきており、\n`onCreate()`や`setContentView()`、`findViewById()`がメソッドに該当します。\n\nメソッドも変数に類似している箇所があり、利用するための操作として**宣言**、**実装部**、**参照**の３つがあります。\n* 宣言\n    * *戻り値*の型、メソッド名を明確に記述することを宣言と呼びます、宣言を行わないと参照できません\n    * メソッドの実装部で命令を進めるために基準となるデータが必要な場合があり、データをメソッドに渡すことができます、この機能を*引数(引数)*と呼びます\n* 実装部\n    * メソッドが行う複数の命令を全て記述されている箇所\n* 参照\n    * メソッドを利用すること、メソッドの実装部にバグがなければ戻り値を受け取ることができる\n\nメソッドの利用において難しいポイントは*戻り値*と*引数*になる場合が多いです。\nメソッド宣言は形式が決まっているため、見合わせるとどこに何が明記されているかわかりやすくなります。\n```\n    戻り値の型 メソッド名 (引数の型 引数名) {\n       メソッドの実装部 \n    }\n```\n*戻り値の前に\"protected\",\"public\"などのアクセス修飾子と呼ばれるコードが書かれていることが多いですが、アクセス修飾子は後の講義で解説します。*\n\n`onCreate()`メソッドを例にすると\n```\n    protected void onCreate(Bundle savedInstanceState) {\n        メソッドの実装部\n    }\n```\n\"void\" = 戻り値の型\n\"onCreate\" = メソッド名\n\"Bundle\" = 引数の型\n”savedInstanceState” = 引数名\nということになります。\n上記で**void**という新しい型が出てきましたが、戻り値がないことを明示するコードになります。\nvoid型の変数は存在しないのでメソッドの宣言時以外ではあまり見かけないコードです。\n\nそして宣言箇所で\"引数の型\"、\"引数名\"が記載されていないメソッドは引数が無いメソッドということになります。\n\n続いてメソッドを参照している箇所は`setContetView()`を例にします。\n```\n    setContetView(R.layout.activity_main.xml)\n```\n\nメソッド名の後の \"()\" 内に引数を設定します、”setContentView\"メソッドは参照時に画面表示するレイアウトxmlの情報を引数に記述することで、引数に記述したレイアウトを画面表示する命令を実行しています。\n\n# ボタンクリックアクションでトースト表示機能\n先程までのコードを拡張してToast表示機能を実装していきます。\nEditTextに入力された文字を画面に表示するプログラムに作り変えていきます。\n```java  MainActivity.java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    // レイアウトxmlと関連付けるWidget\n    Button bookSearchBtn;\n    //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n    EditText bookSearchEditor;\n    //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // 蔵書検索する文字を入力するEditTextをjavaプログラムで操作できるように名前をつける\n        bookSearchEditor = findViewById(R.id.BookSearchEdit);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n        // 蔵書検索ボタンが押された時の処理を実装\n        View.OnClickListener bookSearchEvent = new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // コンソールログにボタンが押されたことを出力(表示)\n                Log.d(\"BookSearchBtn\", \"onClick: BookSearch Button\");\n                //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n                // 入力された文字をToast(トースト)に表示\n                Toast.makeText(getBaseContext()\n                        , \"入力された文字は [\" + bookSearchEditor.getText().toString() + \"]です。\"\n                        , Toast.LENGTH_LONG).show();\n                //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n            }\n        };\n        // 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録\n        bookSearchBtn.setOnClickListener(bookSearchEvent);\n    }\n}\n```\nコードの修正が終わったら`Run`アイコンをクリックしてエミュレータにアプリをインストールし直します。\nコードを修正した場合、エミュレータや実機にインストールし直さないとレイアウトやプログラムの修正は反映されないので気をつけましょう。\n\nEditTextに文字を入力してから**蔵書検索**ボタンをクリックしてみます。\n前回のログ確認と違い、以下の画面のように文字が表示されたでしょうか？\n{% img /android/05-ButtonAction/setid08.png 300 rerationcode %}\n\nこの画面上に現れる機能がToastです、一方的にユーザに情報を伝える時などに利用します、\nToastは一定時間で自動的に非表示になりますので、Toast用の確認ボタンなどは存在しません。\n\n# 色々なボタンイベントの実装\nボタンが押した時のプログラム実装解説は以上になります。\nしかしボタンイベントを実装方法に絞ってもボタンが押された時のプログラムの記述方法がいくつもあります。\nその例をいくつか紹介します。\n\nここでは色々な新しい単語も紹介しますが、単語に関しては実際に利用する時に詳しく解説します。\n\n## パターン１\nボタンが押された時のプログラムをボタンに登録しながら実装するパターンです\nボタンが押された時のプログラムが短いものなど多く使われるパターンです\n\n```java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    Button bookSearchBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        bookSearchBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // ボタンをクリックした時の命令\n            }\n        });\n    }\n}\n```\n\n\n## パターン２\n`bookSearchBtn`の宣言場所が違う実装方法\nパターン２は`bookSearchBtn`インスタンスの宣言スコープが違う実装方法です\n\n```java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Button bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        bookSearchBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // ボタンをクリックした時の命令\n            }\n        });\n    }\n}\n```\n\n## パターン３\n当ページで紹介したプログラムとボタンイベントのプログラムのスコープを`MainActivityクラス`全体で使えるようにした実装方法です\n当ページで紹介したパターンと違い`MainActivityクラス`全体で使うことができます\n\n```java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    Button bookSearchBtn;\n\n    View.OnClickListener bookSearchEvent = new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            // ボタンをクリックした時の命令\n        }\n    };\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        bookSearchBtn.setOnClickListener(bookSearchEvent);\n    }\n}\n```\n\n## パターン４\n`View.OnClickLister`インターフェースをMainActivityクラスに付与した実装方法\nパターン４はボタンが押された時の実装をMainActivityクラスに委譲した実装方法です\n\n```java\n...\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    Button bookSearchBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        bookSearchBtn.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n        // ボタンをクリックした時の命令\n    }\n}\n```\n\n## パターン５\n新しくボタンクリックイベントのインナークラス(外部クラス)を作成する実装方法\nこの方法はリスト表示されている時などに使うことが多いです\n\n```java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    Button bookSearchBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        bookSearchBtn.setOnClickListener(new ButtonClick());\n    }\n    \n    class ButtonClick implements View.OnClickListener {\n        @Override\n        public void onClick(View view) {\n            // ボタンをクリックした時の命令\n        }\n    }\n}\n```\n\n他にもボタンが押された時のプログラムの書き方はありますが、上記の4パターンが使われていることが多いです。\nボタンに限ったプログラムの書き方だけでもこれだけのパターンがあり、ボタンが押されたイベント以外にも同じファイルにプログラムが\n記述されると最初はプログラムを見るのが嫌になってしまうこともあるかもしれません。\n\nですが、<font color=\"red\">**プログラムを細かく見る（読む）**</font>ことで名前のつけ方に共通点を見つけたり単語を検索しながら考え、失敗を繰り返しながら試すことで\nプログラムを深く理解することができるようになります。\n\n以上でボタンが押された時のプログラム実装ができました、次の[検索結果画面への遷移実装](/AndroidCourse/android/06-TransitionScreen)ではリスト表示レイアウト及び、画面遷移処理に関して実装していきます。\n","source":"_posts/android/05-ButtonAction.md","raw":"---\ntitle: ボタンイベントの実装\ndate: 2017-11-06\n---\nアプリの基本イベントとなるボタンが押された時の処理を学習し、蔵書検索ボタンの機能を作り始めます。\n合わせてコンソールログを表示、Toast(トースト)の機能を試します\n\n<!-- toc -->\n\n[検索画面レイアウト作成](/AndroidCourse/android/04-MakeLayoutDesign)からの引き続きの学習ページです。\n# ページ内の学習ポイント\n* レイアウトファイルとjavaファイル間のウィジェットの関連付け\n* ボタンクリックイベントの実装方法\n* クラス、変数\n* メソッド\n\nレイアウト作成した画面に配置したボタンがクリックされた時に実行したい命令を作りながらレイアウトファイルとjavaファイルでの関連付けやプログラミングにおける重要な変数、メソッドを学習します。\n\n# 検索画面の機能を考える\nこのページからはプログラムの実装していきますが、前のページで作成したレイアウトにはどんな操作が発生するか考えるため、もう一度完成したレイアウトを見てみます。\n{% img /android/04-MakeLayoutDesign/CompleteScreen.png 500 CompleteScreen %}\n大まかに以下ような操作をユーザが行い、ウィジェットによっては機能として動くプログラムを実装する必要がありそうです。\n1. 検索する蔵書名、またはその一部を入力する操作\n1. 蔵書検索ボタンをクリック\n    * 入力された蔵書名、またはその一部から蔵書の検索結果を表示する画面に遷移する機能\n1. 閲覧履歴をクリック\n    * 過去に検索結果から閲覧した蔵書のリストを表示する画面に遷移する機能\n\n当ページではアプリを作る上での基礎になる\"ボタンをクリックした時に画面を遷移する\"の前にボタンをクリックした時にログ表示、Toastを表示するところまでを解説していきます。\n\n# javaプログラムとxmlレイアウトの関連付け\n普段何気なく使っているアプリのボタンをクリックした時、アプリではプログラムが実行され別の画面を表示したり、計算や文字の置き換えなどの命令を実行して画面の表示内容を更新するなど見えないところで色々な命令が動いています。\n\nボタンをクリックした時のプログラムや画面の表示内容更新などは**java**ファイルに実装していきます。\n\"検索画面レイアウト作成\"ページでレイアウト作成したのは`activity_main.xml`というファイルでしたが、このレイアウトファイルは「MainActivity.java」のプログラムによって画面に表示されています。\n\nでは**MainActivity.java**ファイルを開きプログラムを実装していきます。\n{% img /android/05-ButtonAction/setid04.png 500 rerationcode %}\n\n前の記事[レイアウト作成](/AndroidCourse/android/04-MakeLayoutDesign)の内容で作成したxmlレイアウトですが、\n実は\"MainActivity.java\"の中ですでに関連付けのプログラムが実装されています。\nそれが以下のコード内矢印に囲まれてる`setContentView()`という命令でMainActivity.javaが表示され`setContentView()`の命令を実行する際に \"()\" 内で指定したレイアウトxmlファイルと関連付けを行い、内部で画面に表示するという命令を実行してくれています。\n```java MainActivity.java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        //↓↓↓↓↓↓↓↓↓↓↓↓レイアウト読み込み↓↓↓↓↓↓↓↓↓↓↓↓\n        setContentView(R.layout.activity_main);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n    }\n}\n```\n\n`setContentView()`の様に必ず書かないといけないけど説明が難しいコードを<font color=\"red\">***おまじない***</font>と紹介されることがありますが、実装されていないとアプリが異常終了してしまったり、今回の場合では画面が真っ白な画面が表示されるだけになってしまうので<font color=\"red\">***おまじない***</font>と紹介されたところは*よくわからないけど書かないとよくないことが起こる*と頭の片隅に置いておいてください。\n\n次にButtonをクリックしたときに検索などの処理を行うにはMainActivity.javaなど**javaファイルでクリックされた時のプログラムを書く**必要があります。\n`setContentView()`を実行したことでMainActivity.javaから\"activity_main.xml\"のボタンなどウィジェットやビューを参照できる状態になっています、\nあとはボタンやエディットテキストなどを各ウィジェットやビューにユニークな名称(他と被らない情報)があればjavaファイルでも判別して使えそうです。\n\n\"activity_main.xml”内のButtonやEditTextなどにはユニークな名称を設定する項目として**ID**という項目があるので、**activity_main.xml**を開きます。\n{% img /android/05-ButtonAction/rerationcode01.png 500 rerationcode %}\n\n\"蔵書検索\"ボタンをクリックしAttributesエリアから**\"ID\"**項目を以下のように修正します\n{% img /android/05-ButtonAction/setid01.png 500 rerationcode %}\n\n> button -> BookSearchBtn\n\n合わせて他のウィジェットの**\"ID\"**項目も変更していきます。\n※もし変更前IDが一致していなくても、Noと場所の照らし合わせを正として修正してください\n{% img /android/05-ButtonAction/setid03.png 500 rerationcode %}\n\n|No.  |変更前のID |変更後ID         |\n|:---:|:---------|:--------------|\n|①   |button    |BookSearchBtn  |\n|②   |editText  |BookSearchEdit |\n|③   |button2   |HistoryBtn     |\n\nIDを変更するとComponent Treeの表示にも変更が反映されます\nこれで画面のボタンなどに\"ID\"項目を設定することができました、ここからがjavaプログラムの実装です、MainActivity.javaからウィジェットやビューと関連付けの方法を紹介していきます。\n\nButtonやEditTextなどのウィジェットをjavaプログラムで操作できる様にするにはいくつかの方法がありますが、一番よく使う方法として<font color=\"red\">`findViewById()`</font>を使う方法で実装していきます。\n\"setContentView\" で関連付けたレイアウトxml内のウィジェットやビューに設定した\"ID\"を`findViewById`の後ろの \"()\"内に 指定することでjavaプログラムで”ボタンをクリックした時\"の命令を登録したり、\"ボタンに表示する文言などを表示後に変更する\"ことができる様になります。\n\n## コード記述時の便利機能\nこれからコード記述する中でIDの入力中に小さいリスト表示がされると思いますので十字キーの上下を押して選択し、`Enter`キーを押せばプログラムに反映されるので試してみてください。\n{% img /android/05-ButtonAction/setid05.png 650 rerationcode %}\n\n上記の便利機能を踏まえて`findViewById`メソッドと \"activity_main.xml\"で設定した**ID**を使ってButtonウィジェットの関連付けを行います。\n```java MainActivity.java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n    // レイアウトxmlと関連付けるWidget\n    Button bookSearchBtn;\n    //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n    }\n}\n```\n最初に実装したコードですので追加した２行にどんな意味合いがあるのかみていきましょう\n{% img /android/05-ButtonAction/setid06.png 600 rerationcode %}\n\n|No.  |各No.のコードの説明                                     |\n|:---:|:----------------------------------------------------|\n|①   |activity_main.xml内のウィジェットと関連づける型            |\n|②   |MainActivity.javaで使う時のユニークな名前                 |\n|③   |①〜②で宣言したウィジェットに情報を登録する時の記述方法       |\n|④   |④のIDを使いactivity_main.xml内のウィジェット/ビューを取得するプログラム |\n|⑤   |activity_main.xml内から取得するウィジェット/ビューのユニークID |\n\nこれで\"蔵書検索\"ボタンをxmlレイアウトとMainActivity.javaのプログラムで関連付けることができました。\n\nxmlファイル内のウィジェットなどとjavaファイルの関連付けは非常に多く利用するコードですので利用方法を理解しておきましょう。\n* ①〜⑤の工程はプログラムで表示するデータを動的に一時的に記憶したり、表示したりする上で大事なクラス（変数）の宣言から初期化）を行なっています。\n* ①〜②で追加したコードを<font color=\"blue\">クラスの宣言</font>と言い、WidgetやView、その他のクラスをjavaプログラムで使うためにわかりやすい名前をつけて準備をしています。\n* 本来ボタンオブジェクトは\"ボタンの色\"、\"ボタンに表示する文字\"など情報を持っていますが、①〜②の工程だけでは名前が準備されただけで`bookSearchBtn`は全く情報を持っていません。\n* `bookSearchBtn `に情報を登録するには<font color=\"blue\">**オブジェクト化（インスタンス化とも呼ばれます）**</font>という工程が必要になります、\nその工程が③〜⑤に該当しオブジェクト化を行なっており、この工程後に`bookSearchBtn`がもつ\"ボタンの色\"、\"ボタンに表示する文字\"などの情報を\n参照したり変更したりすることが可能になります。\n\n# ボタンクリックアクションの実装\n\"蔵書検索\"ボタンのクリックした時にクリックされたことを開発者に確認させるためログを出力するプログラムを作っていきます。\nプログラムが上手く動かない時などどこまでプログラムが実行されたかを確認したり、実行中のデータを確認する時にも利用できるので試してみます。\n```java MainActivity.java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    // レイアウトxmlと関連付けるWidget\n    Button bookSearchBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // 蔵書検索ボタンが押された時の処理を実装\n        View.OnClickListener bookSearchEvent = new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // コンソールログにボタンが押されたことを出力(表示)\n                Log.d(\"BookSearchBtn\", \"onClick: BookSearch Button\");\n            }\n        };\n        // 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録\n        bookSearchBtn.setOnClickListener(bookSearchEvent);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n    }\n}\n```\n\n上記コードの実装が完了したら動作確認をします、`Run`アイコンをクリックしてエミュレータを起動します。\nアプリ画面が表示されたら**蔵書検索**ボタンをクリックしてみてください。\n\nAndroid Studioの左下<font color=\"red\">Logcat</font>タブをクリックし、赤枠のログが出力されていることを確認してみましょう。\n{% img /android/05-ButtonAction/setid07.png 650 rerationcode %}\n実装したコードで表示されるログですが、出力するためには以下のような形式で実装する必要があります。\nログを表示するプログラムのとして以下のテンプレートを覚えておきましょう。\n```\nLog.d(\"tag name\", \"message\");\n```\n\nボタンを押した時にログを表示する命令を実行するプログラムを実装ました、ここまでの全体の工程をおさらいします。\n{% img /android/05-ButtonAction/DesignCode.png 450 DesignCode %}\n文字の色分けなどは以下の通りです\n* <font color=\"blue\">青文字</font>の「ボタン押下時に検索を行う」が大きな課題\n* <font color=\"red\">赤文字</font>、黒文字で書かれたところがエンジニアの気づくべき手順\n* また<font color=\"red\">赤文字</font>の「画面にボタンを表示する必要がある」「ボタンが押された時にプログラムを実行する必要がある」の２つは編集が必要なファイルごとの課題\n* <font color=\"gray\">灰色の四角</font>に囲われている内容がエンジニアがコードを記述する必要のある箇所\n\nここまでに聞きなれない単語がいくつか出てきました、アプリ開発に限らずプログラムを\n行なっていく上で<font color=\"blue\">**とても重要**</font>な概念ですので詳しく解説します。\n## クラス、変数\nプログラムで使用するデータを一時的に記憶しておいたり、計算や画面に表示するデータとして使用するために使用する概念になります。\n変数を解説/理解する上で色々なたとえがあるのですが、以下Wikipediaの内容が一番理解しやすかったので一部引用させてもらいました。\n\n{% blockquote 変数(プログラミング) https://ja.wikipedia.org/wiki/%E5%A4%89%E6%95%B0_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0) wikipedia %}\nデータを一定期間記憶し必要なときに利用できるようにするために、データに固有の名前を与えたものである。 一人一人の人間が異なる名前によって区別されるように、一つ一つの変数も名前によって区別される。\n変数が表しているデータをその変数の値（あたい）という。\n{% endblockquote %}\n\n一部文中省いているところはありますが、上記の様にデータを一定期間記憶、使用することができる固有（ユニーク）な名称をつけたものになります。\n変数につけた固有名称を変数名と呼びます。\n\n変数に記憶しておけるデータの種類が決まっており、種類のことを***型***と呼びます。\n型は一度決めてしまうと後から変更することはできません。\n型の種類は以下の通りです、Stringは厳密には型ではありませんが、頻繁に使用するので一緒に記載しておきます。\n\n|型名    |記憶できるデータ       |データの範囲                                   |\n|:------|:-------------------:|:--------------------------------------------|\n|byte   |符号つき8ビット整数型   |-128 ～ 127                                  |\n|short  |符号つき16ビット整数型  |-32768 ～ 32767                              |\n|int    |符号つき32ビット整数型  |-2147483648 ～ 2147483647                    |\n|long   |符号つき64ビット整数型  |-9223372036854775808 ～ 9223372036854775807  |\n|float  |32ビット浮動小数点数型  |1.4E-45 〜 3.4028235E38                      |\n|double |64ビット浮動小数点数型  |4.9E-324 〜　1.7976931348623157E308           |\n|boolean|論理型                |true(真)、false(偽)                           |\n|char   |符号なし１６ビット文字型 |Unicode文字１文字 : ¥0000 〜 ¥FFFF / 0 〜 65535|\n|String |文字列クラス           |複数の文字を扱うことができる                     |\n\nクラス、変数を利用するための操作として**宣言**、**代入**、**参照**の３つがあります。\n* 宣言\n    * 一定期間記憶しておくデータの型、変数名を明確に記述することを宣言と呼びます、宣言を行わないと変数は参照できません\n* 代入\n    * 宣言した変数に一定期間記憶しておくデータを登録/更新すること\n    * 宣言された変数に最初にデータを登録(格納)することを*初期化*と言います\n    * 宣言されたクラスに最初にデータを*オブジェクト化(インスタンス化)*と言います\n* 参照\n    * 宣言され、初期化された変数のデータを利用することを指します\n    * 数値であれば計算に利用したり、文字列であれば画面に表示する際に**参照**することが多いです\n\n次に変数とクラスはプログラミング上の利用方法が似ているためここでは一緒に紹介しますが、変数とクラスでは記憶しておけるデータの量が違います。\nそれぞれの特徴としては\n変数：**変数は１つだけデータを記憶しておくことができる**\nクラス：**クラスは複数の変数を複数記憶することができ、次に紹介するメソッドも複数持つことができる**\nという違いがあります。\n\nクラスは内部に変数を持っていることも多く、今回使用している`Button`クラスは内部でボタンに表示する文字列や表示する座標位置など\n様々な情報を持っており、その情報を参照するためのメソッドが用意されています。\n\n### ウィジェットとクラス\nウィジェットもクラスに該当します、違いはというとAndroid SDKが準備した画面表示の要素の有無となります。\nウィジェット = クラスであり、Android SDKに準備されているレイアウトxmlファイルに表示できる要素を持っているものと区別しましょう。\n\n## メソッド\n複数の命令を組み合わせた処理の一まとまりをjavaでは**メソッド**と呼びます。\nまた**メソッド**にも名称をつけて管理しており、*メソッド名*と呼びます。\n\nすでに上記までにメソッドは出てきており、\n`onCreate()`や`setContentView()`、`findViewById()`がメソッドに該当します。\n\nメソッドも変数に類似している箇所があり、利用するための操作として**宣言**、**実装部**、**参照**の３つがあります。\n* 宣言\n    * *戻り値*の型、メソッド名を明確に記述することを宣言と呼びます、宣言を行わないと参照できません\n    * メソッドの実装部で命令を進めるために基準となるデータが必要な場合があり、データをメソッドに渡すことができます、この機能を*引数(引数)*と呼びます\n* 実装部\n    * メソッドが行う複数の命令を全て記述されている箇所\n* 参照\n    * メソッドを利用すること、メソッドの実装部にバグがなければ戻り値を受け取ることができる\n\nメソッドの利用において難しいポイントは*戻り値*と*引数*になる場合が多いです。\nメソッド宣言は形式が決まっているため、見合わせるとどこに何が明記されているかわかりやすくなります。\n```\n    戻り値の型 メソッド名 (引数の型 引数名) {\n       メソッドの実装部 \n    }\n```\n*戻り値の前に\"protected\",\"public\"などのアクセス修飾子と呼ばれるコードが書かれていることが多いですが、アクセス修飾子は後の講義で解説します。*\n\n`onCreate()`メソッドを例にすると\n```\n    protected void onCreate(Bundle savedInstanceState) {\n        メソッドの実装部\n    }\n```\n\"void\" = 戻り値の型\n\"onCreate\" = メソッド名\n\"Bundle\" = 引数の型\n”savedInstanceState” = 引数名\nということになります。\n上記で**void**という新しい型が出てきましたが、戻り値がないことを明示するコードになります。\nvoid型の変数は存在しないのでメソッドの宣言時以外ではあまり見かけないコードです。\n\nそして宣言箇所で\"引数の型\"、\"引数名\"が記載されていないメソッドは引数が無いメソッドということになります。\n\n続いてメソッドを参照している箇所は`setContetView()`を例にします。\n```\n    setContetView(R.layout.activity_main.xml)\n```\n\nメソッド名の後の \"()\" 内に引数を設定します、”setContentView\"メソッドは参照時に画面表示するレイアウトxmlの情報を引数に記述することで、引数に記述したレイアウトを画面表示する命令を実行しています。\n\n# ボタンクリックアクションでトースト表示機能\n先程までのコードを拡張してToast表示機能を実装していきます。\nEditTextに入力された文字を画面に表示するプログラムに作り変えていきます。\n```java  MainActivity.java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    // レイアウトxmlと関連付けるWidget\n    Button bookSearchBtn;\n    //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n    EditText bookSearchEditor;\n    //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // 蔵書検索する文字を入力するEditTextをjavaプログラムで操作できるように名前をつける\n        bookSearchEditor = findViewById(R.id.BookSearchEdit);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n        // 蔵書検索ボタンが押された時の処理を実装\n        View.OnClickListener bookSearchEvent = new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // コンソールログにボタンが押されたことを出力(表示)\n                Log.d(\"BookSearchBtn\", \"onClick: BookSearch Button\");\n                //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n                // 入力された文字をToast(トースト)に表示\n                Toast.makeText(getBaseContext()\n                        , \"入力された文字は [\" + bookSearchEditor.getText().toString() + \"]です。\"\n                        , Toast.LENGTH_LONG).show();\n                //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n            }\n        };\n        // 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録\n        bookSearchBtn.setOnClickListener(bookSearchEvent);\n    }\n}\n```\nコードの修正が終わったら`Run`アイコンをクリックしてエミュレータにアプリをインストールし直します。\nコードを修正した場合、エミュレータや実機にインストールし直さないとレイアウトやプログラムの修正は反映されないので気をつけましょう。\n\nEditTextに文字を入力してから**蔵書検索**ボタンをクリックしてみます。\n前回のログ確認と違い、以下の画面のように文字が表示されたでしょうか？\n{% img /android/05-ButtonAction/setid08.png 300 rerationcode %}\n\nこの画面上に現れる機能がToastです、一方的にユーザに情報を伝える時などに利用します、\nToastは一定時間で自動的に非表示になりますので、Toast用の確認ボタンなどは存在しません。\n\n# 色々なボタンイベントの実装\nボタンが押した時のプログラム実装解説は以上になります。\nしかしボタンイベントを実装方法に絞ってもボタンが押された時のプログラムの記述方法がいくつもあります。\nその例をいくつか紹介します。\n\nここでは色々な新しい単語も紹介しますが、単語に関しては実際に利用する時に詳しく解説します。\n\n## パターン１\nボタンが押された時のプログラムをボタンに登録しながら実装するパターンです\nボタンが押された時のプログラムが短いものなど多く使われるパターンです\n\n```java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    Button bookSearchBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        bookSearchBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // ボタンをクリックした時の命令\n            }\n        });\n    }\n}\n```\n\n\n## パターン２\n`bookSearchBtn`の宣言場所が違う実装方法\nパターン２は`bookSearchBtn`インスタンスの宣言スコープが違う実装方法です\n\n```java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Button bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        bookSearchBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // ボタンをクリックした時の命令\n            }\n        });\n    }\n}\n```\n\n## パターン３\n当ページで紹介したプログラムとボタンイベントのプログラムのスコープを`MainActivityクラス`全体で使えるようにした実装方法です\n当ページで紹介したパターンと違い`MainActivityクラス`全体で使うことができます\n\n```java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    Button bookSearchBtn;\n\n    View.OnClickListener bookSearchEvent = new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            // ボタンをクリックした時の命令\n        }\n    };\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        bookSearchBtn.setOnClickListener(bookSearchEvent);\n    }\n}\n```\n\n## パターン４\n`View.OnClickLister`インターフェースをMainActivityクラスに付与した実装方法\nパターン４はボタンが押された時の実装をMainActivityクラスに委譲した実装方法です\n\n```java\n...\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    Button bookSearchBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        bookSearchBtn.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n        // ボタンをクリックした時の命令\n    }\n}\n```\n\n## パターン５\n新しくボタンクリックイベントのインナークラス(外部クラス)を作成する実装方法\nこの方法はリスト表示されている時などに使うことが多いです\n\n```java\n...\npublic class MainActivity extends AppCompatActivity {\n\n    Button bookSearchBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        bookSearchBtn.setOnClickListener(new ButtonClick());\n    }\n    \n    class ButtonClick implements View.OnClickListener {\n        @Override\n        public void onClick(View view) {\n            // ボタンをクリックした時の命令\n        }\n    }\n}\n```\n\n他にもボタンが押された時のプログラムの書き方はありますが、上記の4パターンが使われていることが多いです。\nボタンに限ったプログラムの書き方だけでもこれだけのパターンがあり、ボタンが押されたイベント以外にも同じファイルにプログラムが\n記述されると最初はプログラムを見るのが嫌になってしまうこともあるかもしれません。\n\nですが、<font color=\"red\">**プログラムを細かく見る（読む）**</font>ことで名前のつけ方に共通点を見つけたり単語を検索しながら考え、失敗を繰り返しながら試すことで\nプログラムを深く理解することができるようになります。\n\n以上でボタンが押された時のプログラム実装ができました、次の[検索結果画面への遷移実装](/AndroidCourse/android/06-TransitionScreen)ではリスト表示レイアウト及び、画面遷移処理に関して実装していきます。\n","slug":"05-ButtonAction","published":1,"updated":"2018-01-28T07:05:58.795Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjczn7sy40005rc61m18unrhm","content":"<p>アプリの基本イベントとなるボタンが押された時の処理を学習し、蔵書検索ボタンの機能を作り始めます。<br>合わせてコンソールログを表示、Toast(トースト)の機能を試します</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#ページ内の学習ポイント\">ページ内の学習ポイント</a></li>\n<li><a href=\"#検索画面の機能を考える\">検索画面の機能を考える</a></li>\n<li><a href=\"#javaプログラムとxmlレイアウトの関連付け\">javaプログラムとxmlレイアウトの関連付け</a><ul>\n<li><a href=\"#コード記述時の便利機能\">コード記述時の便利機能</a></li>\n</ul>\n</li>\n<li><a href=\"#ボタンクリックアクションの実装\">ボタンクリックアクションの実装</a><ul>\n<li><a href=\"#クラス-変数\">クラス、変数</a><ul>\n<li><a href=\"#ウィジェットとクラス\">ウィジェットとクラス</a></li>\n</ul>\n</li>\n<li><a href=\"#メソッド\">メソッド</a></li>\n</ul>\n</li>\n<li><a href=\"#ボタンクリックアクションでトースト表示機能\">ボタンクリックアクションでトースト表示機能</a></li>\n<li><a href=\"#色々なボタンイベントの実装\">色々なボタンイベントの実装</a><ul>\n<li><a href=\"#パターン1\">パターン１</a></li>\n<li><a href=\"#パターン2\">パターン２</a></li>\n<li><a href=\"#パターン3\">パターン３</a></li>\n<li><a href=\"#パターン4\">パターン４</a></li>\n<li><a href=\"#パターン5\">パターン５</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n<p><a href=\"/AndroidCourse/android/04-MakeLayoutDesign\">検索画面レイアウト作成</a>からの引き続きの学習ページです。</p>\n<h1><span id=\"ページ内の学習ポイント\">ページ内の学習ポイント</span></h1><ul>\n<li>レイアウトファイルとjavaファイル間のウィジェットの関連付け</li>\n<li>ボタンクリックイベントの実装方法</li>\n<li>クラス、変数</li>\n<li>メソッド</li>\n</ul>\n<p>レイアウト作成した画面に配置したボタンがクリックされた時に実行したい命令を作りながらレイアウトファイルとjavaファイルでの関連付けやプログラミングにおける重要な変数、メソッドを学習します。</p>\n<h1><span id=\"検索画面の機能を考える\">検索画面の機能を考える</span></h1><p>このページからはプログラムの実装していきますが、前のページで作成したレイアウトにはどんな操作が発生するか考えるため、もう一度完成したレイアウトを見てみます。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/CompleteScreen.png\" width=\"500\" title=\"CompleteScreen\"><br>大まかに以下ような操作をユーザが行い、ウィジェットによっては機能として動くプログラムを実装する必要がありそうです。</p>\n<ol>\n<li>検索する蔵書名、またはその一部を入力する操作</li>\n<li>蔵書検索ボタンをクリック<ul>\n<li>入力された蔵書名、またはその一部から蔵書の検索結果を表示する画面に遷移する機能</li>\n</ul>\n</li>\n<li>閲覧履歴をクリック<ul>\n<li>過去に検索結果から閲覧した蔵書のリストを表示する画面に遷移する機能</li>\n</ul>\n</li>\n</ol>\n<p>当ページではアプリを作る上での基礎になる”ボタンをクリックした時に画面を遷移する”の前にボタンをクリックした時にログ表示、Toastを表示するところまでを解説していきます。</p>\n<h1><span id=\"javaプログラムとxmlレイアウトの関連付け\">javaプログラムとxmlレイアウトの関連付け</span></h1><p>普段何気なく使っているアプリのボタンをクリックした時、アプリではプログラムが実行され別の画面を表示したり、計算や文字の置き換えなどの命令を実行して画面の表示内容を更新するなど見えないところで色々な命令が動いています。</p>\n<p>ボタンをクリックした時のプログラムや画面の表示内容更新などは<strong>java</strong>ファイルに実装していきます。<br>“検索画面レイアウト作成”ページでレイアウト作成したのは<code>activity_main.xml</code>というファイルでしたが、このレイアウトファイルは「MainActivity.java」のプログラムによって画面に表示されています。</p>\n<p>では<strong>MainActivity.java</strong>ファイルを開きプログラムを実装していきます。<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid04.png\" width=\"500\" title=\"rerationcode\"></p>\n<p>前の記事<a href=\"/AndroidCourse/android/04-MakeLayoutDesign\">レイアウト作成</a>の内容で作成したxmlレイアウトですが、<br>実は”MainActivity.java”の中ですでに関連付けのプログラムが実装されています。<br>それが以下のコード内矢印に囲まれてる<code>setContentView()</code>という命令でMainActivity.javaが表示され<code>setContentView()</code>の命令を実行する際に “()” 内で指定したレイアウトxmlファイルと関連付けを行い、内部で画面に表示するという命令を実行してくれています。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓レイアウト読み込み↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\">        <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>setContentView()</code>の様に必ず書かないといけないけど説明が難しいコードを<font color=\"red\"><strong><em>おまじない</em></strong></font>と紹介されることがありますが、実装されていないとアプリが異常終了してしまったり、今回の場合では画面が真っ白な画面が表示されるだけになってしまうので<font color=\"red\"><strong><em>おまじない</em></strong></font>と紹介されたところは<em>よくわからないけど書かないとよくないことが起こる</em>と頭の片隅に置いておいてください。</p>\n<p>次にButtonをクリックしたときに検索などの処理を行うにはMainActivity.javaなど<strong>javaファイルでクリックされた時のプログラムを書く</strong>必要があります。<br><code>setContentView()</code>を実行したことでMainActivity.javaから”activity_main.xml”のボタンなどウィジェットやビューを参照できる状態になっています、<br>あとはボタンやエディットテキストなどを各ウィジェットやビューにユニークな名称(他と被らない情報)があればjavaファイルでも判別して使えそうです。</p>\n<p>“activity_main.xml”内のButtonやEditTextなどにはユニークな名称を設定する項目として<strong>ID</strong>という項目があるので、<strong>activity_main.xml</strong>を開きます。<br><img src=\"/AndroidCourse/android/05-ButtonAction/rerationcode01.png\" width=\"500\" title=\"rerationcode\"></p>\n<p>“蔵書検索”ボタンをクリックしAttributesエリアから<strong>“ID”</strong>項目を以下のように修正します<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid01.png\" width=\"500\" title=\"rerationcode\"></p>\n<blockquote>\n<p>button -&gt; BookSearchBtn</p>\n</blockquote>\n<p>合わせて他のウィジェットの<strong>“ID”</strong>項目も変更していきます。<br>※もし変更前IDが一致していなくても、Noと場所の照らし合わせを正として修正してください<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid03.png\" width=\"500\" title=\"rerationcode\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">No.</th>\n<th style=\"text-align:left\">変更前のID</th>\n<th style=\"text-align:left\">変更後ID</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">①</td>\n<td style=\"text-align:left\">button</td>\n<td style=\"text-align:left\">BookSearchBtn</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">②</td>\n<td style=\"text-align:left\">editText</td>\n<td style=\"text-align:left\">BookSearchEdit</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">③</td>\n<td style=\"text-align:left\">button2</td>\n<td style=\"text-align:left\">HistoryBtn</td>\n</tr>\n</tbody>\n</table>\n<p>IDを変更するとComponent Treeの表示にも変更が反映されます<br>これで画面のボタンなどに”ID”項目を設定することができました、ここからがjavaプログラムの実装です、MainActivity.javaからウィジェットやビューと関連付けの方法を紹介していきます。</p>\n<p>ButtonやEditTextなどのウィジェットをjavaプログラムで操作できる様にするにはいくつかの方法がありますが、一番よく使う方法として<font color=\"red\"><code>findViewById()</code></font>を使う方法で実装していきます。<br>“setContentView” で関連付けたレイアウトxml内のウィジェットやビューに設定した”ID”を<code>findViewById</code>の後ろの “()”内に 指定することでjavaプログラムで”ボタンをクリックした時”の命令を登録したり、”ボタンに表示する文言などを表示後に変更する”ことができる様になります。</p>\n<h2><span id=\"コード記述時の便利機能\">コード記述時の便利機能</span></h2><p>これからコード記述する中でIDの入力中に小さいリスト表示がされると思いますので十字キーの上下を押して選択し、<code>Enter</code>キーを押せばプログラムに反映されるので試してみてください。<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid05.png\" width=\"650\" title=\"rerationcode\"></p>\n<p>上記の便利機能を踏まえて<code>findViewById</code>メソッドと “activity_main.xml”で設定した<strong>ID</strong>を使ってButtonウィジェットの関連付けを行います。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">    <span class=\"comment\">// レイアウトxmlと関連付けるWidget</span></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\">    <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\">        <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>最初に実装したコードですので追加した２行にどんな意味合いがあるのかみていきましょう<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid06.png\" width=\"600\" title=\"rerationcode\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">No.</th>\n<th style=\"text-align:left\">各No.のコードの説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">①</td>\n<td style=\"text-align:left\">activity_main.xml内のウィジェットと関連づける型</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">②</td>\n<td style=\"text-align:left\">MainActivity.javaで使う時のユニークな名前</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">③</td>\n<td style=\"text-align:left\">①〜②で宣言したウィジェットに情報を登録する時の記述方法</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">④</td>\n<td style=\"text-align:left\">④のIDを使いactivity_main.xml内のウィジェット/ビューを取得するプログラム</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⑤</td>\n<td style=\"text-align:left\">activity_main.xml内から取得するウィジェット/ビューのユニークID</td>\n</tr>\n</tbody>\n</table>\n<p>これで”蔵書検索”ボタンをxmlレイアウトとMainActivity.javaのプログラムで関連付けることができました。</p>\n<p>xmlファイル内のウィジェットなどとjavaファイルの関連付けは非常に多く利用するコードですので利用方法を理解しておきましょう。</p>\n<ul>\n<li>①〜⑤の工程はプログラムで表示するデータを動的に一時的に記憶したり、表示したりする上で大事なクラス（変数）の宣言から初期化）を行なっています。</li>\n<li>①〜②で追加したコードを<font color=\"blue\">クラスの宣言</font>と言い、WidgetやView、その他のクラスをjavaプログラムで使うためにわかりやすい名前をつけて準備をしています。</li>\n<li>本来ボタンオブジェクトは”ボタンの色”、”ボタンに表示する文字”など情報を持っていますが、①〜②の工程だけでは名前が準備されただけで<code>bookSearchBtn</code>は全く情報を持っていません。</li>\n<li><code>bookSearchBtn</code>に情報を登録するには<font color=\"blue\"><strong>オブジェクト化（インスタンス化とも呼ばれます）</strong></font>という工程が必要になります、<br>その工程が③〜⑤に該当しオブジェクト化を行なっており、この工程後に<code>bookSearchBtn</code>がもつ”ボタンの色”、”ボタンに表示する文字”などの情報を<br>参照したり変更したりすることが可能になります。</li>\n</ul>\n<h1><span id=\"ボタンクリックアクションの実装\">ボタンクリックアクションの実装</span></h1><p>“蔵書検索”ボタンのクリックした時にクリックされたことを開発者に確認させるためログを出力するプログラムを作っていきます。<br>プログラムが上手く動かない時などどこまでプログラムが実行されたかを確認したり、実行中のデータを確認する時にも利用できるので試してみます。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// レイアウトxmlと関連付けるWidget</span></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンが押された時の処理を実装</span></span><br><span class=\"line\">        View.OnClickListener bookSearchEvent = <span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">// コンソールログにボタンが押されたことを出力(表示)</span></span><br><span class=\"line\">                Log.d(<span class=\"string\">\"BookSearchBtn\"</span>, <span class=\"string\">\"onClick: BookSearch Button\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録</span></span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(bookSearchEvent);</span><br><span class=\"line\">        <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>上記コードの実装が完了したら動作確認をします、<code>Run</code>アイコンをクリックしてエミュレータを起動します。<br>アプリ画面が表示されたら<strong>蔵書検索</strong>ボタンをクリックしてみてください。</p>\n<p>Android Studioの左下<font color=\"red\">Logcat</font>タブをクリックし、赤枠のログが出力されていることを確認してみましょう。<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid07.png\" width=\"650\" title=\"rerationcode\"><br>実装したコードで表示されるログですが、出力するためには以下のような形式で実装する必要があります。<br>ログを表示するプログラムのとして以下のテンプレートを覚えておきましょう。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Log.d(&quot;tag name&quot;, &quot;message&quot;);</span><br></pre></td></tr></table></figure></p>\n<p>ボタンを押した時にログを表示する命令を実行するプログラムを実装ました、ここまでの全体の工程をおさらいします。<br><img src=\"/AndroidCourse/android/05-ButtonAction/DesignCode.png\" width=\"450\" title=\"DesignCode\"><br>文字の色分けなどは以下の通りです</p>\n<ul>\n<li><font color=\"blue\">青文字</font>の「ボタン押下時に検索を行う」が大きな課題</li>\n<li><font color=\"red\">赤文字</font>、黒文字で書かれたところがエンジニアの気づくべき手順</li>\n<li>また<font color=\"red\">赤文字</font>の「画面にボタンを表示する必要がある」「ボタンが押された時にプログラムを実行する必要がある」の２つは編集が必要なファイルごとの課題</li>\n<li><font color=\"gray\">灰色の四角</font>に囲われている内容がエンジニアがコードを記述する必要のある箇所</li>\n</ul>\n<p>ここまでに聞きなれない単語がいくつか出てきました、アプリ開発に限らずプログラムを<br>行なっていく上で<font color=\"blue\"><strong>とても重要</strong></font>な概念ですので詳しく解説します。</p>\n<h2><span id=\"クラス-変数\">クラス、変数</span></h2><p>プログラムで使用するデータを一時的に記憶しておいたり、計算や画面に表示するデータとして使用するために使用する概念になります。<br>変数を解説/理解する上で色々なたとえがあるのですが、以下Wikipediaの内容が一番理解しやすかったので一部引用させてもらいました。</p>\n<blockquote><p>データを一定期間記憶し必要なときに利用できるようにするために、データに固有の名前を与えたものである。 一人一人の人間が異なる名前によって区別されるように、一つ一つの変数も名前によって区別される。<br>変数が表しているデータをその変数の値（あたい）という。</p>\n<footer><strong>変数(プログラミング)</strong><cite><a href=\"https://ja.wikipedia.org/wiki/%E5%A4%89%E6%95%B0_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0)\" target=\"_blank\" rel=\"external\">wikipedia</a></cite></footer></blockquote>\n<p>一部文中省いているところはありますが、上記の様にデータを一定期間記憶、使用することができる固有（ユニーク）な名称をつけたものになります。<br>変数につけた固有名称を変数名と呼びます。</p>\n<p>変数に記憶しておけるデータの種類が決まっており、種類のことを<strong><em>型</em></strong>と呼びます。<br>型は一度決めてしまうと後から変更することはできません。<br>型の種類は以下の通りです、Stringは厳密には型ではありませんが、頻繁に使用するので一緒に記載しておきます。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">型名</th>\n<th style=\"text-align:center\">記憶できるデータ</th>\n<th style=\"text-align:left\">データの範囲</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">byte</td>\n<td style=\"text-align:center\">符号つき8ビット整数型</td>\n<td style=\"text-align:left\">-128 ～ 127</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">short</td>\n<td style=\"text-align:center\">符号つき16ビット整数型</td>\n<td style=\"text-align:left\">-32768 ～ 32767</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">符号つき32ビット整数型</td>\n<td style=\"text-align:left\">-2147483648 ～ 2147483647</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">long</td>\n<td style=\"text-align:center\">符号つき64ビット整数型</td>\n<td style=\"text-align:left\">-9223372036854775808 ～ 9223372036854775807</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">float</td>\n<td style=\"text-align:center\">32ビット浮動小数点数型</td>\n<td style=\"text-align:left\">1.4E-45 〜 3.4028235E38</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">double</td>\n<td style=\"text-align:center\">64ビット浮動小数点数型</td>\n<td style=\"text-align:left\">4.9E-324 〜　1.7976931348623157E308</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:center\">論理型</td>\n<td style=\"text-align:left\">true(真)、false(偽)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">char</td>\n<td style=\"text-align:center\">符号なし１６ビット文字型</td>\n<td style=\"text-align:left\">Unicode文字１文字 : ¥0000 〜 ¥FFFF / 0 〜 65535</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">文字列クラス</td>\n<td style=\"text-align:left\">複数の文字を扱うことができる</td>\n</tr>\n</tbody>\n</table>\n<p>クラス、変数を利用するための操作として<strong>宣言</strong>、<strong>代入</strong>、<strong>参照</strong>の３つがあります。</p>\n<ul>\n<li>宣言<ul>\n<li>一定期間記憶しておくデータの型、変数名を明確に記述することを宣言と呼びます、宣言を行わないと変数は参照できません</li>\n</ul>\n</li>\n<li>代入<ul>\n<li>宣言した変数に一定期間記憶しておくデータを登録/更新すること</li>\n<li>宣言された変数に最初にデータを登録(格納)することを<em>初期化</em>と言います</li>\n<li>宣言されたクラスに最初にデータを<em>オブジェクト化(インスタンス化)</em>と言います</li>\n</ul>\n</li>\n<li>参照<ul>\n<li>宣言され、初期化された変数のデータを利用することを指します</li>\n<li>数値であれば計算に利用したり、文字列であれば画面に表示する際に<strong>参照</strong>することが多いです</li>\n</ul>\n</li>\n</ul>\n<p>次に変数とクラスはプログラミング上の利用方法が似ているためここでは一緒に紹介しますが、変数とクラスでは記憶しておけるデータの量が違います。<br>それぞれの特徴としては<br>変数：<strong>変数は１つだけデータを記憶しておくことができる</strong><br>クラス：<strong>クラスは複数の変数を複数記憶することができ、次に紹介するメソッドも複数持つことができる</strong><br>という違いがあります。</p>\n<p>クラスは内部に変数を持っていることも多く、今回使用している<code>Button</code>クラスは内部でボタンに表示する文字列や表示する座標位置など<br>様々な情報を持っており、その情報を参照するためのメソッドが用意されています。</p>\n<h3><span id=\"ウィジェットとクラス\">ウィジェットとクラス</span></h3><p>ウィジェットもクラスに該当します、違いはというとAndroid SDKが準備した画面表示の要素の有無となります。<br>ウィジェット = クラスであり、Android SDKに準備されているレイアウトxmlファイルに表示できる要素を持っているものと区別しましょう。</p>\n<h2><span id=\"メソッド\">メソッド</span></h2><p>複数の命令を組み合わせた処理の一まとまりをjavaでは<strong>メソッド</strong>と呼びます。<br>また<strong>メソッド</strong>にも名称をつけて管理しており、<em>メソッド名</em>と呼びます。</p>\n<p>すでに上記までにメソッドは出てきており、<br><code>onCreate()</code>や<code>setContentView()</code>、<code>findViewById()</code>がメソッドに該当します。</p>\n<p>メソッドも変数に類似している箇所があり、利用するための操作として<strong>宣言</strong>、<strong>実装部</strong>、<strong>参照</strong>の３つがあります。</p>\n<ul>\n<li>宣言<ul>\n<li><em>戻り値</em>の型、メソッド名を明確に記述することを宣言と呼びます、宣言を行わないと参照できません</li>\n<li>メソッドの実装部で命令を進めるために基準となるデータが必要な場合があり、データをメソッドに渡すことができます、この機能を<em>引数(引数)</em>と呼びます</li>\n</ul>\n</li>\n<li>実装部<ul>\n<li>メソッドが行う複数の命令を全て記述されている箇所</li>\n</ul>\n</li>\n<li>参照<ul>\n<li>メソッドを利用すること、メソッドの実装部にバグがなければ戻り値を受け取ることができる</li>\n</ul>\n</li>\n</ul>\n<p>メソッドの利用において難しいポイントは<em>戻り値</em>と<em>引数</em>になる場合が多いです。<br>メソッド宣言は形式が決まっているため、見合わせるとどこに何が明記されているかわかりやすくなります。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">戻り値の型 メソッド名 (引数の型 引数名) &#123;</span><br><span class=\"line\">   メソッドの実装部 </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><em>戻り値の前に”protected”,”public”などのアクセス修飾子と呼ばれるコードが書かれていることが多いですが、アクセス修飾子は後の講義で解説します。</em></p>\n<p><code>onCreate()</code>メソッドを例にすると<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class=\"line\">    メソッドの実装部</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>“void” = 戻り値の型<br>“onCreate” = メソッド名<br>“Bundle” = 引数の型<br>”savedInstanceState” = 引数名<br>ということになります。<br>上記で<strong>void</strong>という新しい型が出てきましたが、戻り値がないことを明示するコードになります。<br>void型の変数は存在しないのでメソッドの宣言時以外ではあまり見かけないコードです。</p>\n<p>そして宣言箇所で”引数の型”、”引数名”が記載されていないメソッドは引数が無いメソッドということになります。</p>\n<p>続いてメソッドを参照している箇所は<code>setContetView()</code>を例にします。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setContetView(R.layout.activity_main.xml)</span><br></pre></td></tr></table></figure></p>\n<p>メソッド名の後の “()” 内に引数を設定します、”setContentView”メソッドは参照時に画面表示するレイアウトxmlの情報を引数に記述することで、引数に記述したレイアウトを画面表示する命令を実行しています。</p>\n<h1><span id=\"ボタンクリックアクションでトースト表示機能\">ボタンクリックアクションでトースト表示機能</span></h1><p>先程までのコードを拡張してToast表示機能を実装していきます。<br>EditTextに入力された文字を画面に表示するプログラムに作り変えていきます。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// レイアウトxmlと関連付けるWidget</span></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\">    <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">    EditText bookSearchEditor;</span><br><span class=\"line\">    <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索する文字を入力するEditTextをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">        bookSearchEditor = findViewById(R.id.BookSearchEdit);</span><br><span class=\"line\">        <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンが押された時の処理を実装</span></span><br><span class=\"line\">        View.OnClickListener bookSearchEvent = <span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">// コンソールログにボタンが押されたことを出力(表示)</span></span><br><span class=\"line\">                Log.d(<span class=\"string\">\"BookSearchBtn\"</span>, <span class=\"string\">\"onClick: BookSearch Button\"</span>);</span><br><span class=\"line\">                <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">                <span class=\"comment\">// 入力された文字をToast(トースト)に表示</span></span><br><span class=\"line\">                Toast.makeText(getBaseContext()</span><br><span class=\"line\">                        , <span class=\"string\">\"入力された文字は [\"</span> + bookSearchEditor.getText().toString() + <span class=\"string\">\"]です。\"</span></span><br><span class=\"line\">                        , Toast.LENGTH_LONG).show();</span><br><span class=\"line\">                <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録</span></span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(bookSearchEvent);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>コードの修正が終わったら<code>Run</code>アイコンをクリックしてエミュレータにアプリをインストールし直します。<br>コードを修正した場合、エミュレータや実機にインストールし直さないとレイアウトやプログラムの修正は反映されないので気をつけましょう。</p>\n<p>EditTextに文字を入力してから<strong>蔵書検索</strong>ボタンをクリックしてみます。<br>前回のログ確認と違い、以下の画面のように文字が表示されたでしょうか？<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid08.png\" width=\"300\" title=\"rerationcode\"></p>\n<p>この画面上に現れる機能がToastです、一方的にユーザに情報を伝える時などに利用します、<br>Toastは一定時間で自動的に非表示になりますので、Toast用の確認ボタンなどは存在しません。</p>\n<h1><span id=\"色々なボタンイベントの実装\">色々なボタンイベントの実装</span></h1><p>ボタンが押した時のプログラム実装解説は以上になります。<br>しかしボタンイベントを実装方法に絞ってもボタンが押された時のプログラムの記述方法がいくつもあります。<br>その例をいくつか紹介します。</p>\n<p>ここでは色々な新しい単語も紹介しますが、単語に関しては実際に利用する時に詳しく解説します。</p>\n<h2><span id=\"パターン1\">パターン１</span></h2><p>ボタンが押された時のプログラムをボタンに登録しながら実装するパターンです<br>ボタンが押された時のプログラムが短いものなど多く使われるパターンです</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(<span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View v)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">// ボタンをクリックした時の命令</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2><span id=\"パターン2\">パターン２</span></h2><p><code>bookSearchBtn</code>の宣言場所が違う実装方法<br>パターン２は<code>bookSearchBtn</code>インスタンスの宣言スコープが違う実装方法です</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        Button bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(<span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View v)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">// ボタンをクリックした時の命令</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2><span id=\"パターン3\">パターン３</span></h2><p>当ページで紹介したプログラムとボタンイベントのプログラムのスコープを<code>MainActivityクラス</code>全体で使えるようにした実装方法です<br>当ページで紹介したパターンと違い<code>MainActivityクラス</code>全体で使うことができます</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\"></span><br><span class=\"line\">    View.OnClickListener bookSearchEvent = <span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// ボタンをクリックした時の命令</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(bookSearchEvent);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2><span id=\"パターン4\">パターン４</span></h2><p><code>View.OnClickLister</code>インターフェースをMainActivityクラスに付与した実装方法<br>パターン４はボタンが押された時の実装をMainActivityクラスに委譲した実装方法です</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> <span class=\"keyword\">implements</span> <span class=\"title\">View</span>.<span class=\"title\">OnClickListener</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// ボタンをクリックした時の命令</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2><span id=\"パターン5\">パターン５</span></h2><p>新しくボタンクリックイベントのインナークラス(外部クラス)を作成する実装方法<br>この方法はリスト表示されている時などに使うことが多いです</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(<span class=\"keyword\">new</span> ButtonClick());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ButtonClick</span> <span class=\"keyword\">implements</span> <span class=\"title\">View</span>.<span class=\"title\">OnClickListener</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// ボタンをクリックした時の命令</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>他にもボタンが押された時のプログラムの書き方はありますが、上記の4パターンが使われていることが多いです。<br>ボタンに限ったプログラムの書き方だけでもこれだけのパターンがあり、ボタンが押されたイベント以外にも同じファイルにプログラムが<br>記述されると最初はプログラムを見るのが嫌になってしまうこともあるかもしれません。</p>\n<p>ですが、<font color=\"red\"><strong>プログラムを細かく見る（読む）</strong></font>ことで名前のつけ方に共通点を見つけたり単語を検索しながら考え、失敗を繰り返しながら試すことで<br>プログラムを深く理解することができるようになります。</p>\n<p>以上でボタンが押された時のプログラム実装ができました、次の<a href=\"/AndroidCourse/android/06-TransitionScreen\">検索結果画面への遷移実装</a>ではリスト表示レイアウト及び、画面遷移処理に関して実装していきます。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>アプリの基本イベントとなるボタンが押された時の処理を学習し、蔵書検索ボタンの機能を作り始めます。<br>合わせてコンソールログを表示、Toast(トースト)の機能を試します</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#ページ内の学習ポイント\">ページ内の学習ポイント</a></li>\n<li><a href=\"#検索画面の機能を考える\">検索画面の機能を考える</a></li>\n<li><a href=\"#javaプログラムとxmlレイアウトの関連付け\">javaプログラムとxmlレイアウトの関連付け</a><ul>\n<li><a href=\"#コード記述時の便利機能\">コード記述時の便利機能</a></li>\n</ul>\n</li>\n<li><a href=\"#ボタンクリックアクションの実装\">ボタンクリックアクションの実装</a><ul>\n<li><a href=\"#クラス-変数\">クラス、変数</a><ul>\n<li><a href=\"#ウィジェットとクラス\">ウィジェットとクラス</a></li>\n</ul>\n</li>\n<li><a href=\"#メソッド\">メソッド</a></li>\n</ul>\n</li>\n<li><a href=\"#ボタンクリックアクションでトースト表示機能\">ボタンクリックアクションでトースト表示機能</a></li>\n<li><a href=\"#色々なボタンイベントの実装\">色々なボタンイベントの実装</a><ul>\n<li><a href=\"#パターン1\">パターン１</a></li>\n<li><a href=\"#パターン2\">パターン２</a></li>\n<li><a href=\"#パターン3\">パターン３</a></li>\n<li><a href=\"#パターン4\">パターン４</a></li>\n<li><a href=\"#パターン5\">パターン５</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n<p><a href=\"/AndroidCourse/android/04-MakeLayoutDesign\">検索画面レイアウト作成</a>からの引き続きの学習ページです。</p>\n<h1 id=\"ページ内の学習ポイント\"><a href=\"#ページ内の学習ポイント\" class=\"headerlink\" title=\"ページ内の学習ポイント\"></a>ページ内の学習ポイント</h1><ul>\n<li>レイアウトファイルとjavaファイル間のウィジェットの関連付け</li>\n<li>ボタンクリックイベントの実装方法</li>\n<li>クラス、変数</li>\n<li>メソッド</li>\n</ul>\n<p>レイアウト作成した画面に配置したボタンがクリックされた時に実行したい命令を作りながらレイアウトファイルとjavaファイルでの関連付けやプログラミングにおける重要な変数、メソッドを学習します。</p>\n<h1 id=\"検索画面の機能を考える\"><a href=\"#検索画面の機能を考える\" class=\"headerlink\" title=\"検索画面の機能を考える\"></a>検索画面の機能を考える</h1><p>このページからはプログラムの実装していきますが、前のページで作成したレイアウトにはどんな操作が発生するか考えるため、もう一度完成したレイアウトを見てみます。<br><img src=\"/AndroidCourse/android/04-MakeLayoutDesign/CompleteScreen.png\" width=\"500\" title=\"CompleteScreen\"><br>大まかに以下ような操作をユーザが行い、ウィジェットによっては機能として動くプログラムを実装する必要がありそうです。</p>\n<ol>\n<li>検索する蔵書名、またはその一部を入力する操作</li>\n<li>蔵書検索ボタンをクリック<ul>\n<li>入力された蔵書名、またはその一部から蔵書の検索結果を表示する画面に遷移する機能</li>\n</ul>\n</li>\n<li>閲覧履歴をクリック<ul>\n<li>過去に検索結果から閲覧した蔵書のリストを表示する画面に遷移する機能</li>\n</ul>\n</li>\n</ol>\n<p>当ページではアプリを作る上での基礎になる”ボタンをクリックした時に画面を遷移する”の前にボタンをクリックした時にログ表示、Toastを表示するところまでを解説していきます。</p>\n<h1 id=\"javaプログラムとxmlレイアウトの関連付け\"><a href=\"#javaプログラムとxmlレイアウトの関連付け\" class=\"headerlink\" title=\"javaプログラムとxmlレイアウトの関連付け\"></a>javaプログラムとxmlレイアウトの関連付け</h1><p>普段何気なく使っているアプリのボタンをクリックした時、アプリではプログラムが実行され別の画面を表示したり、計算や文字の置き換えなどの命令を実行して画面の表示内容を更新するなど見えないところで色々な命令が動いています。</p>\n<p>ボタンをクリックした時のプログラムや画面の表示内容更新などは<strong>java</strong>ファイルに実装していきます。<br>“検索画面レイアウト作成”ページでレイアウト作成したのは<code>activity_main.xml</code>というファイルでしたが、このレイアウトファイルは「MainActivity.java」のプログラムによって画面に表示されています。</p>\n<p>では<strong>MainActivity.java</strong>ファイルを開きプログラムを実装していきます。<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid04.png\" width=\"500\" title=\"rerationcode\"></p>\n<p>前の記事<a href=\"/AndroidCourse/android/04-MakeLayoutDesign\">レイアウト作成</a>の内容で作成したxmlレイアウトですが、<br>実は”MainActivity.java”の中ですでに関連付けのプログラムが実装されています。<br>それが以下のコード内矢印に囲まれてる<code>setContentView()</code>という命令でMainActivity.javaが表示され<code>setContentView()</code>の命令を実行する際に “()” 内で指定したレイアウトxmlファイルと関連付けを行い、内部で画面に表示するという命令を実行してくれています。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓レイアウト読み込み↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\">        <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>setContentView()</code>の様に必ず書かないといけないけど説明が難しいコードを<font color=\"red\"><strong><em>おまじない</em></strong></font>と紹介されることがありますが、実装されていないとアプリが異常終了してしまったり、今回の場合では画面が真っ白な画面が表示されるだけになってしまうので<font color=\"red\"><strong><em>おまじない</em></strong></font>と紹介されたところは<em>よくわからないけど書かないとよくないことが起こる</em>と頭の片隅に置いておいてください。</p>\n<p>次にButtonをクリックしたときに検索などの処理を行うにはMainActivity.javaなど<strong>javaファイルでクリックされた時のプログラムを書く</strong>必要があります。<br><code>setContentView()</code>を実行したことでMainActivity.javaから”activity_main.xml”のボタンなどウィジェットやビューを参照できる状態になっています、<br>あとはボタンやエディットテキストなどを各ウィジェットやビューにユニークな名称(他と被らない情報)があればjavaファイルでも判別して使えそうです。</p>\n<p>“activity_main.xml”内のButtonやEditTextなどにはユニークな名称を設定する項目として<strong>ID</strong>という項目があるので、<strong>activity_main.xml</strong>を開きます。<br><img src=\"/AndroidCourse/android/05-ButtonAction/rerationcode01.png\" width=\"500\" title=\"rerationcode\"></p>\n<p>“蔵書検索”ボタンをクリックしAttributesエリアから<strong>“ID”</strong>項目を以下のように修正します<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid01.png\" width=\"500\" title=\"rerationcode\"></p>\n<blockquote>\n<p>button -&gt; BookSearchBtn</p>\n</blockquote>\n<p>合わせて他のウィジェットの<strong>“ID”</strong>項目も変更していきます。<br>※もし変更前IDが一致していなくても、Noと場所の照らし合わせを正として修正してください<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid03.png\" width=\"500\" title=\"rerationcode\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">No.</th>\n<th style=\"text-align:left\">変更前のID</th>\n<th style=\"text-align:left\">変更後ID</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">①</td>\n<td style=\"text-align:left\">button</td>\n<td style=\"text-align:left\">BookSearchBtn</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">②</td>\n<td style=\"text-align:left\">editText</td>\n<td style=\"text-align:left\">BookSearchEdit</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">③</td>\n<td style=\"text-align:left\">button2</td>\n<td style=\"text-align:left\">HistoryBtn</td>\n</tr>\n</tbody>\n</table>\n<p>IDを変更するとComponent Treeの表示にも変更が反映されます<br>これで画面のボタンなどに”ID”項目を設定することができました、ここからがjavaプログラムの実装です、MainActivity.javaからウィジェットやビューと関連付けの方法を紹介していきます。</p>\n<p>ButtonやEditTextなどのウィジェットをjavaプログラムで操作できる様にするにはいくつかの方法がありますが、一番よく使う方法として<font color=\"red\"><code>findViewById()</code></font>を使う方法で実装していきます。<br>“setContentView” で関連付けたレイアウトxml内のウィジェットやビューに設定した”ID”を<code>findViewById</code>の後ろの “()”内に 指定することでjavaプログラムで”ボタンをクリックした時”の命令を登録したり、”ボタンに表示する文言などを表示後に変更する”ことができる様になります。</p>\n<h2 id=\"コード記述時の便利機能\"><a href=\"#コード記述時の便利機能\" class=\"headerlink\" title=\"コード記述時の便利機能\"></a>コード記述時の便利機能</h2><p>これからコード記述する中でIDの入力中に小さいリスト表示がされると思いますので十字キーの上下を押して選択し、<code>Enter</code>キーを押せばプログラムに反映されるので試してみてください。<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid05.png\" width=\"650\" title=\"rerationcode\"></p>\n<p>上記の便利機能を踏まえて<code>findViewById</code>メソッドと “activity_main.xml”で設定した<strong>ID</strong>を使ってButtonウィジェットの関連付けを行います。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">    <span class=\"comment\">// レイアウトxmlと関連付けるWidget</span></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\">    <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\">        <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>最初に実装したコードですので追加した２行にどんな意味合いがあるのかみていきましょう<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid06.png\" width=\"600\" title=\"rerationcode\"></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">No.</th>\n<th style=\"text-align:left\">各No.のコードの説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">①</td>\n<td style=\"text-align:left\">activity_main.xml内のウィジェットと関連づける型</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">②</td>\n<td style=\"text-align:left\">MainActivity.javaで使う時のユニークな名前</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">③</td>\n<td style=\"text-align:left\">①〜②で宣言したウィジェットに情報を登録する時の記述方法</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">④</td>\n<td style=\"text-align:left\">④のIDを使いactivity_main.xml内のウィジェット/ビューを取得するプログラム</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⑤</td>\n<td style=\"text-align:left\">activity_main.xml内から取得するウィジェット/ビューのユニークID</td>\n</tr>\n</tbody>\n</table>\n<p>これで”蔵書検索”ボタンをxmlレイアウトとMainActivity.javaのプログラムで関連付けることができました。</p>\n<p>xmlファイル内のウィジェットなどとjavaファイルの関連付けは非常に多く利用するコードですので利用方法を理解しておきましょう。</p>\n<ul>\n<li>①〜⑤の工程はプログラムで表示するデータを動的に一時的に記憶したり、表示したりする上で大事なクラス（変数）の宣言から初期化）を行なっています。</li>\n<li>①〜②で追加したコードを<font color=\"blue\">クラスの宣言</font>と言い、WidgetやView、その他のクラスをjavaプログラムで使うためにわかりやすい名前をつけて準備をしています。</li>\n<li>本来ボタンオブジェクトは”ボタンの色”、”ボタンに表示する文字”など情報を持っていますが、①〜②の工程だけでは名前が準備されただけで<code>bookSearchBtn</code>は全く情報を持っていません。</li>\n<li><code>bookSearchBtn</code>に情報を登録するには<font color=\"blue\"><strong>オブジェクト化（インスタンス化とも呼ばれます）</strong></font>という工程が必要になります、<br>その工程が③〜⑤に該当しオブジェクト化を行なっており、この工程後に<code>bookSearchBtn</code>がもつ”ボタンの色”、”ボタンに表示する文字”などの情報を<br>参照したり変更したりすることが可能になります。</li>\n</ul>\n<h1 id=\"ボタンクリックアクションの実装\"><a href=\"#ボタンクリックアクションの実装\" class=\"headerlink\" title=\"ボタンクリックアクションの実装\"></a>ボタンクリックアクションの実装</h1><p>“蔵書検索”ボタンのクリックした時にクリックされたことを開発者に確認させるためログを出力するプログラムを作っていきます。<br>プログラムが上手く動かない時などどこまでプログラムが実行されたかを確認したり、実行中のデータを確認する時にも利用できるので試してみます。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// レイアウトxmlと関連付けるWidget</span></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンが押された時の処理を実装</span></span><br><span class=\"line\">        View.OnClickListener bookSearchEvent = <span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">// コンソールログにボタンが押されたことを出力(表示)</span></span><br><span class=\"line\">                Log.d(<span class=\"string\">\"BookSearchBtn\"</span>, <span class=\"string\">\"onClick: BookSearch Button\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録</span></span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(bookSearchEvent);</span><br><span class=\"line\">        <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>上記コードの実装が完了したら動作確認をします、<code>Run</code>アイコンをクリックしてエミュレータを起動します。<br>アプリ画面が表示されたら<strong>蔵書検索</strong>ボタンをクリックしてみてください。</p>\n<p>Android Studioの左下<font color=\"red\">Logcat</font>タブをクリックし、赤枠のログが出力されていることを確認してみましょう。<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid07.png\" width=\"650\" title=\"rerationcode\"><br>実装したコードで表示されるログですが、出力するためには以下のような形式で実装する必要があります。<br>ログを表示するプログラムのとして以下のテンプレートを覚えておきましょう。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Log.d(&quot;tag name&quot;, &quot;message&quot;);</span><br></pre></td></tr></table></figure></p>\n<p>ボタンを押した時にログを表示する命令を実行するプログラムを実装ました、ここまでの全体の工程をおさらいします。<br><img src=\"/AndroidCourse/android/05-ButtonAction/DesignCode.png\" width=\"450\" title=\"DesignCode\"><br>文字の色分けなどは以下の通りです</p>\n<ul>\n<li><font color=\"blue\">青文字</font>の「ボタン押下時に検索を行う」が大きな課題</li>\n<li><font color=\"red\">赤文字</font>、黒文字で書かれたところがエンジニアの気づくべき手順</li>\n<li>また<font color=\"red\">赤文字</font>の「画面にボタンを表示する必要がある」「ボタンが押された時にプログラムを実行する必要がある」の２つは編集が必要なファイルごとの課題</li>\n<li><font color=\"gray\">灰色の四角</font>に囲われている内容がエンジニアがコードを記述する必要のある箇所</li>\n</ul>\n<p>ここまでに聞きなれない単語がいくつか出てきました、アプリ開発に限らずプログラムを<br>行なっていく上で<font color=\"blue\"><strong>とても重要</strong></font>な概念ですので詳しく解説します。</p>\n<h2 id=\"クラス、変数\"><a href=\"#クラス、変数\" class=\"headerlink\" title=\"クラス、変数\"></a>クラス、変数</h2><p>プログラムで使用するデータを一時的に記憶しておいたり、計算や画面に表示するデータとして使用するために使用する概念になります。<br>変数を解説/理解する上で色々なたとえがあるのですが、以下Wikipediaの内容が一番理解しやすかったので一部引用させてもらいました。</p>\n<blockquote><p>データを一定期間記憶し必要なときに利用できるようにするために、データに固有の名前を与えたものである。 一人一人の人間が異なる名前によって区別されるように、一つ一つの変数も名前によって区別される。<br>変数が表しているデータをその変数の値（あたい）という。</p>\n<footer><strong>変数(プログラミング)</strong><cite><a href=\"https://ja.wikipedia.org/wiki/%E5%A4%89%E6%95%B0_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0)\" target=\"_blank\" rel=\"external\">wikipedia</a></cite></footer></blockquote>\n<p>一部文中省いているところはありますが、上記の様にデータを一定期間記憶、使用することができる固有（ユニーク）な名称をつけたものになります。<br>変数につけた固有名称を変数名と呼びます。</p>\n<p>変数に記憶しておけるデータの種類が決まっており、種類のことを<strong><em>型</em></strong>と呼びます。<br>型は一度決めてしまうと後から変更することはできません。<br>型の種類は以下の通りです、Stringは厳密には型ではありませんが、頻繁に使用するので一緒に記載しておきます。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">型名</th>\n<th style=\"text-align:center\">記憶できるデータ</th>\n<th style=\"text-align:left\">データの範囲</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">byte</td>\n<td style=\"text-align:center\">符号つき8ビット整数型</td>\n<td style=\"text-align:left\">-128 ～ 127</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">short</td>\n<td style=\"text-align:center\">符号つき16ビット整数型</td>\n<td style=\"text-align:left\">-32768 ～ 32767</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">符号つき32ビット整数型</td>\n<td style=\"text-align:left\">-2147483648 ～ 2147483647</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">long</td>\n<td style=\"text-align:center\">符号つき64ビット整数型</td>\n<td style=\"text-align:left\">-9223372036854775808 ～ 9223372036854775807</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">float</td>\n<td style=\"text-align:center\">32ビット浮動小数点数型</td>\n<td style=\"text-align:left\">1.4E-45 〜 3.4028235E38</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">double</td>\n<td style=\"text-align:center\">64ビット浮動小数点数型</td>\n<td style=\"text-align:left\">4.9E-324 〜　1.7976931348623157E308</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:center\">論理型</td>\n<td style=\"text-align:left\">true(真)、false(偽)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">char</td>\n<td style=\"text-align:center\">符号なし１６ビット文字型</td>\n<td style=\"text-align:left\">Unicode文字１文字 : ¥0000 〜 ¥FFFF / 0 〜 65535</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">文字列クラス</td>\n<td style=\"text-align:left\">複数の文字を扱うことができる</td>\n</tr>\n</tbody>\n</table>\n<p>クラス、変数を利用するための操作として<strong>宣言</strong>、<strong>代入</strong>、<strong>参照</strong>の３つがあります。</p>\n<ul>\n<li>宣言<ul>\n<li>一定期間記憶しておくデータの型、変数名を明確に記述することを宣言と呼びます、宣言を行わないと変数は参照できません</li>\n</ul>\n</li>\n<li>代入<ul>\n<li>宣言した変数に一定期間記憶しておくデータを登録/更新すること</li>\n<li>宣言された変数に最初にデータを登録(格納)することを<em>初期化</em>と言います</li>\n<li>宣言されたクラスに最初にデータを<em>オブジェクト化(インスタンス化)</em>と言います</li>\n</ul>\n</li>\n<li>参照<ul>\n<li>宣言され、初期化された変数のデータを利用することを指します</li>\n<li>数値であれば計算に利用したり、文字列であれば画面に表示する際に<strong>参照</strong>することが多いです</li>\n</ul>\n</li>\n</ul>\n<p>次に変数とクラスはプログラミング上の利用方法が似ているためここでは一緒に紹介しますが、変数とクラスでは記憶しておけるデータの量が違います。<br>それぞれの特徴としては<br>変数：<strong>変数は１つだけデータを記憶しておくことができる</strong><br>クラス：<strong>クラスは複数の変数を複数記憶することができ、次に紹介するメソッドも複数持つことができる</strong><br>という違いがあります。</p>\n<p>クラスは内部に変数を持っていることも多く、今回使用している<code>Button</code>クラスは内部でボタンに表示する文字列や表示する座標位置など<br>様々な情報を持っており、その情報を参照するためのメソッドが用意されています。</p>\n<h3 id=\"ウィジェットとクラス\"><a href=\"#ウィジェットとクラス\" class=\"headerlink\" title=\"ウィジェットとクラス\"></a>ウィジェットとクラス</h3><p>ウィジェットもクラスに該当します、違いはというとAndroid SDKが準備した画面表示の要素の有無となります。<br>ウィジェット = クラスであり、Android SDKに準備されているレイアウトxmlファイルに表示できる要素を持っているものと区別しましょう。</p>\n<h2 id=\"メソッド\"><a href=\"#メソッド\" class=\"headerlink\" title=\"メソッド\"></a>メソッド</h2><p>複数の命令を組み合わせた処理の一まとまりをjavaでは<strong>メソッド</strong>と呼びます。<br>また<strong>メソッド</strong>にも名称をつけて管理しており、<em>メソッド名</em>と呼びます。</p>\n<p>すでに上記までにメソッドは出てきており、<br><code>onCreate()</code>や<code>setContentView()</code>、<code>findViewById()</code>がメソッドに該当します。</p>\n<p>メソッドも変数に類似している箇所があり、利用するための操作として<strong>宣言</strong>、<strong>実装部</strong>、<strong>参照</strong>の３つがあります。</p>\n<ul>\n<li>宣言<ul>\n<li><em>戻り値</em>の型、メソッド名を明確に記述することを宣言と呼びます、宣言を行わないと参照できません</li>\n<li>メソッドの実装部で命令を進めるために基準となるデータが必要な場合があり、データをメソッドに渡すことができます、この機能を<em>引数(引数)</em>と呼びます</li>\n</ul>\n</li>\n<li>実装部<ul>\n<li>メソッドが行う複数の命令を全て記述されている箇所</li>\n</ul>\n</li>\n<li>参照<ul>\n<li>メソッドを利用すること、メソッドの実装部にバグがなければ戻り値を受け取ることができる</li>\n</ul>\n</li>\n</ul>\n<p>メソッドの利用において難しいポイントは<em>戻り値</em>と<em>引数</em>になる場合が多いです。<br>メソッド宣言は形式が決まっているため、見合わせるとどこに何が明記されているかわかりやすくなります。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">戻り値の型 メソッド名 (引数の型 引数名) &#123;</span><br><span class=\"line\">   メソッドの実装部 </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><em>戻り値の前に”protected”,”public”などのアクセス修飾子と呼ばれるコードが書かれていることが多いですが、アクセス修飾子は後の講義で解説します。</em></p>\n<p><code>onCreate()</code>メソッドを例にすると<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class=\"line\">    メソッドの実装部</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>“void” = 戻り値の型<br>“onCreate” = メソッド名<br>“Bundle” = 引数の型<br>”savedInstanceState” = 引数名<br>ということになります。<br>上記で<strong>void</strong>という新しい型が出てきましたが、戻り値がないことを明示するコードになります。<br>void型の変数は存在しないのでメソッドの宣言時以外ではあまり見かけないコードです。</p>\n<p>そして宣言箇所で”引数の型”、”引数名”が記載されていないメソッドは引数が無いメソッドということになります。</p>\n<p>続いてメソッドを参照している箇所は<code>setContetView()</code>を例にします。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setContetView(R.layout.activity_main.xml)</span><br></pre></td></tr></table></figure></p>\n<p>メソッド名の後の “()” 内に引数を設定します、”setContentView”メソッドは参照時に画面表示するレイアウトxmlの情報を引数に記述することで、引数に記述したレイアウトを画面表示する命令を実行しています。</p>\n<h1 id=\"ボタンクリックアクションでトースト表示機能\"><a href=\"#ボタンクリックアクションでトースト表示機能\" class=\"headerlink\" title=\"ボタンクリックアクションでトースト表示機能\"></a>ボタンクリックアクションでトースト表示機能</h1><p>先程までのコードを拡張してToast表示機能を実装していきます。<br>EditTextに入力された文字を画面に表示するプログラムに作り変えていきます。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// レイアウトxmlと関連付けるWidget</span></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\">    <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">    EditText bookSearchEditor;</span><br><span class=\"line\">    <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索する文字を入力するEditTextをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">        bookSearchEditor = findViewById(R.id.BookSearchEdit);</span><br><span class=\"line\">        <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンが押された時の処理を実装</span></span><br><span class=\"line\">        View.OnClickListener bookSearchEvent = <span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">// コンソールログにボタンが押されたことを出力(表示)</span></span><br><span class=\"line\">                Log.d(<span class=\"string\">\"BookSearchBtn\"</span>, <span class=\"string\">\"onClick: BookSearch Button\"</span>);</span><br><span class=\"line\">                <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">                <span class=\"comment\">// 入力された文字をToast(トースト)に表示</span></span><br><span class=\"line\">                Toast.makeText(getBaseContext()</span><br><span class=\"line\">                        , <span class=\"string\">\"入力された文字は [\"</span> + bookSearchEditor.getText().toString() + <span class=\"string\">\"]です。\"</span></span><br><span class=\"line\">                        , Toast.LENGTH_LONG).show();</span><br><span class=\"line\">                <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録</span></span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(bookSearchEvent);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>コードの修正が終わったら<code>Run</code>アイコンをクリックしてエミュレータにアプリをインストールし直します。<br>コードを修正した場合、エミュレータや実機にインストールし直さないとレイアウトやプログラムの修正は反映されないので気をつけましょう。</p>\n<p>EditTextに文字を入力してから<strong>蔵書検索</strong>ボタンをクリックしてみます。<br>前回のログ確認と違い、以下の画面のように文字が表示されたでしょうか？<br><img src=\"/AndroidCourse/android/05-ButtonAction/setid08.png\" width=\"300\" title=\"rerationcode\"></p>\n<p>この画面上に現れる機能がToastです、一方的にユーザに情報を伝える時などに利用します、<br>Toastは一定時間で自動的に非表示になりますので、Toast用の確認ボタンなどは存在しません。</p>\n<h1 id=\"色々なボタンイベントの実装\"><a href=\"#色々なボタンイベントの実装\" class=\"headerlink\" title=\"色々なボタンイベントの実装\"></a>色々なボタンイベントの実装</h1><p>ボタンが押した時のプログラム実装解説は以上になります。<br>しかしボタンイベントを実装方法に絞ってもボタンが押された時のプログラムの記述方法がいくつもあります。<br>その例をいくつか紹介します。</p>\n<p>ここでは色々な新しい単語も紹介しますが、単語に関しては実際に利用する時に詳しく解説します。</p>\n<h2 id=\"パターン１\"><a href=\"#パターン１\" class=\"headerlink\" title=\"パターン１\"></a>パターン１</h2><p>ボタンが押された時のプログラムをボタンに登録しながら実装するパターンです<br>ボタンが押された時のプログラムが短いものなど多く使われるパターンです</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(<span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View v)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">// ボタンをクリックした時の命令</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"パターン２\"><a href=\"#パターン２\" class=\"headerlink\" title=\"パターン２\"></a>パターン２</h2><p><code>bookSearchBtn</code>の宣言場所が違う実装方法<br>パターン２は<code>bookSearchBtn</code>インスタンスの宣言スコープが違う実装方法です</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        Button bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(<span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View v)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">// ボタンをクリックした時の命令</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"パターン３\"><a href=\"#パターン３\" class=\"headerlink\" title=\"パターン３\"></a>パターン３</h2><p>当ページで紹介したプログラムとボタンイベントのプログラムのスコープを<code>MainActivityクラス</code>全体で使えるようにした実装方法です<br>当ページで紹介したパターンと違い<code>MainActivityクラス</code>全体で使うことができます</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\"></span><br><span class=\"line\">    View.OnClickListener bookSearchEvent = <span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// ボタンをクリックした時の命令</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(bookSearchEvent);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"パターン４\"><a href=\"#パターン４\" class=\"headerlink\" title=\"パターン４\"></a>パターン４</h2><p><code>View.OnClickLister</code>インターフェースをMainActivityクラスに付与した実装方法<br>パターン４はボタンが押された時の実装をMainActivityクラスに委譲した実装方法です</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> <span class=\"keyword\">implements</span> <span class=\"title\">View</span>.<span class=\"title\">OnClickListener</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// ボタンをクリックした時の命令</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"パターン５\"><a href=\"#パターン５\" class=\"headerlink\" title=\"パターン５\"></a>パターン５</h2><p>新しくボタンクリックイベントのインナークラス(外部クラス)を作成する実装方法<br>この方法はリスト表示されている時などに使うことが多いです</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">        bookSearchBtn.setOnClickListener(<span class=\"keyword\">new</span> ButtonClick());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ButtonClick</span> <span class=\"keyword\">implements</span> <span class=\"title\">View</span>.<span class=\"title\">OnClickListener</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// ボタンをクリックした時の命令</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>他にもボタンが押された時のプログラムの書き方はありますが、上記の4パターンが使われていることが多いです。<br>ボタンに限ったプログラムの書き方だけでもこれだけのパターンがあり、ボタンが押されたイベント以外にも同じファイルにプログラムが<br>記述されると最初はプログラムを見るのが嫌になってしまうこともあるかもしれません。</p>\n<p>ですが、<font color=\"red\"><strong>プログラムを細かく見る（読む）</strong></font>ことで名前のつけ方に共通点を見つけたり単語を検索しながら考え、失敗を繰り返しながら試すことで<br>プログラムを深く理解することができるようになります。</p>\n<p>以上でボタンが押された時のプログラム実装ができました、次の<a href=\"/AndroidCourse/android/06-TransitionScreen\">検索結果画面への遷移実装</a>ではリスト表示レイアウト及び、画面遷移処理に関して実装していきます。</p>\n"},{"title":"検索結果画面への遷移実装","date":"2017-11-06T15:00:00.000Z","_content":"検索結果一覧を表示する検索結果画面の作成とリスト表示レイアウトの実装方法を学習します。\nまた検索画面から検索結果画面を表示するための画面遷移処理の実装方法を学習します。\n\n<!-- toc -->\n\n[ボタンイベントの実装](/AndroidCourse/android/05-ButtonAction)からの引き続きの学習ページです。\n# 当ページでの学習ポイント\n* ListViewを利用したリストレイアウトの実装方法\n* 新規画面の作り方\n* 画面遷移処理の実装方法\n* xmlファイルでのレイアウト作成のおさらい\n* コレクション / 配列\n* 継承\n* コンストラクタ\n\n蔵書検索を行なった結果複数の蔵書情報を取得できる場合があります、複数取得した蔵書情報を一覧表示します。\nその前段として、一覧表示を行うためのウィジェットListViewの使い方を学習します。\nまた、検索画面で入力された文字の検索を行うために画面遷移処理及び、画面遷移時に次の画面へ情報を渡す処理の実装方法を学習します。\n\n# 新しい画面を作成する\nAndroidアプリに置いて**画面 = Activity**であることは[Androidの概念](/AndroidCourse/android/02-AndroicConcept)で解説しました。\n今回は蔵書検索アプリのプロジェクトに新しいActivityを追加していきます。\n\n新しいActivityの追加はメニューかもしくは左のプロジェクトツリーが表示されているウィンドウで右クリック(macでは２本指でクリック)から新しいActivityの追加を行えます。\n\n新しく作成するActivityは**Empty Activity**を選びます。\n1. メニュー > File > New > Activity > Empty Activity\n{% img /android/06-TransitionScreen/createactivity01_1.png 500 CreateNewActivity %}\n2. ウィンドウ右クリック > New > Activity > Empty Activity\n{% img /android/06-TransitionScreen/createactivity01_2.png 500 CreateNewActivity %}\n\n新しく作成するActivityのファイル名と同時に作成するxmlファイルの名称の入力を求められます。\n以下の名称で新しいActivityを作成します。\n\n|項目|設定値|\n|-------------|------------------|\n|Activity Name|ResultListActivity|\n|Generate Layout File|チェックを<font color=\"blue\">つける</font>|\n|Layout Name|activity_result_list|\n|Luncher Activity|チェックを<font color=\"red\">つけない</font>|\n|Backwords Compatibility(AppCompat)|チェックを<font color=\"blue\">つける</font>|\n{% img /android/06-TransitionScreen/createactivity02.png 500 CreateNewActivity %}\n項目の入力が終わったら`Finish`ボタンを押下します。\n\n新しいActivityの作成が終わるとウィンドウは閉じAndroid Studioのエディタに戻ります。\nプロジェクトツリーには<font color=\"green\">ResultListActivity.java</font>と<font color=\"green\">activity_result_list.xml</font>のファイルが追加されます。\n{% img /android/06-TransitionScreen/createactivity03.png 350 CreateNewActivity %}\n\n## AndroidManifestファイルの確認\nActivityがプロジェクトに追加された場合でも、アプリで表示するためにはアプリの設計書となる`AndroidManifest.xml`に利用することを記述する必要があります。\n`AndroidManifest.xml`の場所は以下にあります。\n> app -> manifests -> AndroidManifest.xml\n\n{% img /android/06-TransitionScreen/createactivity04.png 400 CreateNewActivity %}\n作成した**ResultListActivity**が記載されているか確認すると\n{% img /android/06-TransitionScreen/createactivity05.png 550 CreateNewActivity %}\n無事に記述されていることが確認できました、他の行を確認すると検索画面として表示している**MainActivity**も記載されています。\n\n`AndroidManifest.xml`ではアプリ名やアプリアイコン、アプリ起動時に表示するActivityなどの設定が記述された概要設計書のようなファイルになります、Push通知などの機能を追加する時にもファイルの修正が必要になるので覚えて置いてください。\n\n# 画面遷移処理機能\n新しいActivityが作成できたので、MainActivityの*蔵書検索ボタン*をクリックした時、ResultListActivityに表示が切り替わる様にMainActivity.javaを修正していきます。\n```java MainActivity.java\n...\n    View.OnClickListener bookSearchEvent = new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            // コンソールログにボタンが押されたことを出力(表示)\n            Log.d(\"BookSearchBtn\", \"onClick: BookSearch Button\");\n            // 入力された文字をToast(トースト)に表示\n            Toast.makeText(getBaseContext()\n                    , \"入力された文字は [\" + bookSearchEditor.getText().toString() + \"]です。\"\n                    , Toast.LENGTH_LONG).show();\n            //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n            // 画面遷移するためのIntentをインスタンス化\n            Intent intent = new Intent(MainActivity.this, ResultListActivity.class);\n            // 画面遷移アクションを実行\n            startActivity(intent);\n            //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n        }\n    };\n...\n```\nコードの修正が終わったらエミュレータで動作確認してください。\n以下のように画面遷移できましたか？\n{% img /android/06-TransitionScreen/TransitionScreen.gif 300 TransitionScreen %}\nまたエミュレータ左下の三角ボタンをクリックすると前の画面に戻ります。\n{% img /android/06-TransitionScreen/BackScreen.png 400 BackScreen %}\n\n## Intent\nAndroid開発における４大要素の一つとして紹介されている`Intent`が出てきました。\nIntentは別Activityの呼び出し（画面遷移）や別のアプリを起動する時などに利用する要素になります、画面遷移時の利用方法としては\n1. Intentクラスを宣言、インスタンス化\n2. startActivityメソッドの引数に\"1.\"で宣言したIntentをセット\n\nこの２つの手順でActivity間の画面遷移が実装できてしまいます。\n今回画面遷移時に生成したIntentですが、\n一つ目の引数にはContextと呼ばれるクラスをセット<font color=\"red\">(Contextは少々ややこしいクラスなので今後のページで詳しく解説します）</font>Contextは現在開いているActivityが該当するので自身を表す”this”と言う属性を記述してセットする。\n２つ目の引数に遷移したいActivityのクラス情報をセットする。\n\n最初のうちは画面遷移を行う場合、上記のルールで画面遷移のコードを実装するよう癖をつけておきましょう。\n\n# 検索結果画面レイアウト作成\n検索画面同様にLayoutEditorとConstraintsLayoutを使って検索結果画面のレイアウト構成を作成していきます。\n\nResultListActivityの新規作成時、同時に作成された`activity_result_list.xml`を修正します。\n> app -> res -> layout -> activity_result_list.xml\n\n検索結果画面は検索した結果を取得し、その一覧を表示します、一覧表示を行うためのコンポーネントとして`ListView`を利用します。\nデザインビューに`ListView`を乗せるには検索画面の時の”Button”や\"EditText\"と同じように”コンポーネントをクリックしたままデザインビューまでマウスカーソルをマウスカーソルを移動させ、離す”と言う手順です。\n**Palette**から`ListView`を探しデザインビューにビューに乗せます。\n{% img /android/06-TransitionScreen/re_le01.png 500 CreateResultListLayout %}\n画面の上下左右と制約を設定します。\n{% img /android/06-TransitionScreen/re_le02.png 500 CreateResultListLayout %}\n`ListView`に表示するデータの設定はjavaファイルで実装しますのでjavaファイルと関連付けをするために**Attributes**から*ID*項目を設定します。\n{% img /android/06-TransitionScreen/re_le03.png 400 CreateResultListLayout %}\n\n|項目   |設定値     |\n|------|----------|\n|ID    |ResultList|\n\n# 一覧表示機能\n検索結果画面の一覧表示機能を実装していきます、まずはListViewの使い方を理解するために理解するために10行のリスト表示を行い、各行に行数番号の文字を表示してみます。\n```java ResultListActivity.java\npublic class ResultListActivity extends AppCompatActivity {\n\n    //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n    // xmlファイルのコンポーネントと関連付ける要素\n    ListView resultListView;\n    // 検証用コレクションデータ\n    List<String> listData = Arrays.asList(\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\");\n    //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_result_list);\n\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // xmlファイルのコンポーネントと関連付け\n        resultListView = findViewById(R.id.ResultListView);\n        // ListViewに表示する情報をまとめるAdapterをインスタンス化\n        ArrayAdapter<String> adapter = new ArrayAdapter<>(ResultListActivity.this\n                , android.R.layout.simple_list_item_1\n                , listData);\n        // ListViewに表示情報をまとめたAdapterをセット\n        resultListView.setAdapter(adapter);\n\n        // ListViewの各行をクリックした時の命令を実装\n        AdapterView.OnItemClickListener listItemClickEvent = new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {\n                // クリックした行番号をToastで表示する\n                Toast.makeText(ResultListActivity.this\n                        , i + \"行目をクリックしました\"\n                        , Toast.LENGTH_SHORT).show();\n            }\n        };\n        // ListViewに行をクリックした時のイベントを登録\n        resultListView.setOnItemClickListener(listItemClickEvent);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n    }\n}\n```\nコードの実装が終わったらエミュレータで動作確認してみましょう。\n\n今回のリストでは各行にテキストを１つ表示するリストとして実装しました。\nAndroid SDKに用意されているリストと行のレイアウトを使用して表示させています。\n更に各行をクリックすると\"＊行目をクリックしました\"とToastが表示されます。\n\n多くの現場ではこのような使い方はすくなく**Adapter**クラスと行のレイアウトをカスタマイズして利用することがほとんどです。\n次の工程では**Adapter**クラスのカスタマイズと行に表示するレイアウトをカスタマイズしていきます。\n\n## コレクション、配列\nAndroidアプリの開発に用いられるjava言語では複数のデータを一つのまとまりとして利用することができます。\nデータの持ち方としては２つ方法がありそれぞれ**コレクション**、**配列**という概念があります、\nどちらの形式においても一つのまとまりのデータは同じ形である必要があり、<font color=\"blue\">**\t型の違うデータを複数記憶することはできません**</font>\n\n主な違いとして\n* 配列は宣言時に要素の上限を決める必要がある。\n* コレクションは上限設定はなく動的に要素の数を増減できる。\n\nその他の差異の確認のため、例として３つの手順をそれぞれの概念を使って実装してみます。\n* 整数型のコレクション/配列を空で宣言\n* 2つのデータを追加/代入\n* 1つ目のデータを参照してログを表示\n\n```java コレクション\n    // 空のコレクションを宣言\n    List<Integer> integerList = new ArrayList<>();\n    // コレクションの1番目に10を追加\n    integerList.add(10);\n    // コレクションの2番目に20を追加\n    integerList.add(20);\n    // コレクションの1番目のデータを表示\n    Log.d(\"collection_arrarys\", \"Collection data check: \" + integerList.get(0));\n    /* \"Collection data check: 10\" と表示されます */\n```\n\n```java 配列\n    // 空の配列を宣言\n    int integerArray[] = new int[2];\n    // 配列の1番目に10を代入\n    integerArray[0] = 10;\n    // 配列の2番目に20を代入\n    integerArray[1] = 20;\n    // 配列の1番目のデータを表示\n    Log.d(\"collection_arrarys\", \"Array data check: \" + integerArray[0]);\n    /* \"Array data check: 10\" と表示されます */\n```\n\n配列で値を代入する時や参照する時に変数名の後の\"[]\"は要素の場所を表すための**順番(添字)**を指定する箇所です、プログラムの配列で気をつけるポイントとして、1番目のデータを参照するためには '0' と記述する必要があることです。\nよって２番目のデータを参照するためには\"[]\"の添え字に '1' と記述する必要があります。\n３番目以降も同様に一つ小さい値を記述する必要があります。\n\nデータの数は動的な場合が多くほどんどの状況下でコレクションを使用して一覧表示などを作っています。\n\n# カスタム一覧表示機能\n一覧表示のサンプルプログラムができたところで更に一覧表示をカスタマイズしていきます。\nListViewの表示をカスタマイズするためには行のレイアウトファイルを作成し、\"Adapter\"クラスを\n","source":"_posts/android/06-TransitionScreen.md","raw":"---\ntitle: 検索結果画面への遷移実装\ndate: 2017-11-07 \ntags:\n---\n検索結果一覧を表示する検索結果画面の作成とリスト表示レイアウトの実装方法を学習します。\nまた検索画面から検索結果画面を表示するための画面遷移処理の実装方法を学習します。\n\n<!-- toc -->\n\n[ボタンイベントの実装](/AndroidCourse/android/05-ButtonAction)からの引き続きの学習ページです。\n# 当ページでの学習ポイント\n* ListViewを利用したリストレイアウトの実装方法\n* 新規画面の作り方\n* 画面遷移処理の実装方法\n* xmlファイルでのレイアウト作成のおさらい\n* コレクション / 配列\n* 継承\n* コンストラクタ\n\n蔵書検索を行なった結果複数の蔵書情報を取得できる場合があります、複数取得した蔵書情報を一覧表示します。\nその前段として、一覧表示を行うためのウィジェットListViewの使い方を学習します。\nまた、検索画面で入力された文字の検索を行うために画面遷移処理及び、画面遷移時に次の画面へ情報を渡す処理の実装方法を学習します。\n\n# 新しい画面を作成する\nAndroidアプリに置いて**画面 = Activity**であることは[Androidの概念](/AndroidCourse/android/02-AndroicConcept)で解説しました。\n今回は蔵書検索アプリのプロジェクトに新しいActivityを追加していきます。\n\n新しいActivityの追加はメニューかもしくは左のプロジェクトツリーが表示されているウィンドウで右クリック(macでは２本指でクリック)から新しいActivityの追加を行えます。\n\n新しく作成するActivityは**Empty Activity**を選びます。\n1. メニュー > File > New > Activity > Empty Activity\n{% img /android/06-TransitionScreen/createactivity01_1.png 500 CreateNewActivity %}\n2. ウィンドウ右クリック > New > Activity > Empty Activity\n{% img /android/06-TransitionScreen/createactivity01_2.png 500 CreateNewActivity %}\n\n新しく作成するActivityのファイル名と同時に作成するxmlファイルの名称の入力を求められます。\n以下の名称で新しいActivityを作成します。\n\n|項目|設定値|\n|-------------|------------------|\n|Activity Name|ResultListActivity|\n|Generate Layout File|チェックを<font color=\"blue\">つける</font>|\n|Layout Name|activity_result_list|\n|Luncher Activity|チェックを<font color=\"red\">つけない</font>|\n|Backwords Compatibility(AppCompat)|チェックを<font color=\"blue\">つける</font>|\n{% img /android/06-TransitionScreen/createactivity02.png 500 CreateNewActivity %}\n項目の入力が終わったら`Finish`ボタンを押下します。\n\n新しいActivityの作成が終わるとウィンドウは閉じAndroid Studioのエディタに戻ります。\nプロジェクトツリーには<font color=\"green\">ResultListActivity.java</font>と<font color=\"green\">activity_result_list.xml</font>のファイルが追加されます。\n{% img /android/06-TransitionScreen/createactivity03.png 350 CreateNewActivity %}\n\n## AndroidManifestファイルの確認\nActivityがプロジェクトに追加された場合でも、アプリで表示するためにはアプリの設計書となる`AndroidManifest.xml`に利用することを記述する必要があります。\n`AndroidManifest.xml`の場所は以下にあります。\n> app -> manifests -> AndroidManifest.xml\n\n{% img /android/06-TransitionScreen/createactivity04.png 400 CreateNewActivity %}\n作成した**ResultListActivity**が記載されているか確認すると\n{% img /android/06-TransitionScreen/createactivity05.png 550 CreateNewActivity %}\n無事に記述されていることが確認できました、他の行を確認すると検索画面として表示している**MainActivity**も記載されています。\n\n`AndroidManifest.xml`ではアプリ名やアプリアイコン、アプリ起動時に表示するActivityなどの設定が記述された概要設計書のようなファイルになります、Push通知などの機能を追加する時にもファイルの修正が必要になるので覚えて置いてください。\n\n# 画面遷移処理機能\n新しいActivityが作成できたので、MainActivityの*蔵書検索ボタン*をクリックした時、ResultListActivityに表示が切り替わる様にMainActivity.javaを修正していきます。\n```java MainActivity.java\n...\n    View.OnClickListener bookSearchEvent = new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            // コンソールログにボタンが押されたことを出力(表示)\n            Log.d(\"BookSearchBtn\", \"onClick: BookSearch Button\");\n            // 入力された文字をToast(トースト)に表示\n            Toast.makeText(getBaseContext()\n                    , \"入力された文字は [\" + bookSearchEditor.getText().toString() + \"]です。\"\n                    , Toast.LENGTH_LONG).show();\n            //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n            // 画面遷移するためのIntentをインスタンス化\n            Intent intent = new Intent(MainActivity.this, ResultListActivity.class);\n            // 画面遷移アクションを実行\n            startActivity(intent);\n            //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n        }\n    };\n...\n```\nコードの修正が終わったらエミュレータで動作確認してください。\n以下のように画面遷移できましたか？\n{% img /android/06-TransitionScreen/TransitionScreen.gif 300 TransitionScreen %}\nまたエミュレータ左下の三角ボタンをクリックすると前の画面に戻ります。\n{% img /android/06-TransitionScreen/BackScreen.png 400 BackScreen %}\n\n## Intent\nAndroid開発における４大要素の一つとして紹介されている`Intent`が出てきました。\nIntentは別Activityの呼び出し（画面遷移）や別のアプリを起動する時などに利用する要素になります、画面遷移時の利用方法としては\n1. Intentクラスを宣言、インスタンス化\n2. startActivityメソッドの引数に\"1.\"で宣言したIntentをセット\n\nこの２つの手順でActivity間の画面遷移が実装できてしまいます。\n今回画面遷移時に生成したIntentですが、\n一つ目の引数にはContextと呼ばれるクラスをセット<font color=\"red\">(Contextは少々ややこしいクラスなので今後のページで詳しく解説します）</font>Contextは現在開いているActivityが該当するので自身を表す”this”と言う属性を記述してセットする。\n２つ目の引数に遷移したいActivityのクラス情報をセットする。\n\n最初のうちは画面遷移を行う場合、上記のルールで画面遷移のコードを実装するよう癖をつけておきましょう。\n\n# 検索結果画面レイアウト作成\n検索画面同様にLayoutEditorとConstraintsLayoutを使って検索結果画面のレイアウト構成を作成していきます。\n\nResultListActivityの新規作成時、同時に作成された`activity_result_list.xml`を修正します。\n> app -> res -> layout -> activity_result_list.xml\n\n検索結果画面は検索した結果を取得し、その一覧を表示します、一覧表示を行うためのコンポーネントとして`ListView`を利用します。\nデザインビューに`ListView`を乗せるには検索画面の時の”Button”や\"EditText\"と同じように”コンポーネントをクリックしたままデザインビューまでマウスカーソルをマウスカーソルを移動させ、離す”と言う手順です。\n**Palette**から`ListView`を探しデザインビューにビューに乗せます。\n{% img /android/06-TransitionScreen/re_le01.png 500 CreateResultListLayout %}\n画面の上下左右と制約を設定します。\n{% img /android/06-TransitionScreen/re_le02.png 500 CreateResultListLayout %}\n`ListView`に表示するデータの設定はjavaファイルで実装しますのでjavaファイルと関連付けをするために**Attributes**から*ID*項目を設定します。\n{% img /android/06-TransitionScreen/re_le03.png 400 CreateResultListLayout %}\n\n|項目   |設定値     |\n|------|----------|\n|ID    |ResultList|\n\n# 一覧表示機能\n検索結果画面の一覧表示機能を実装していきます、まずはListViewの使い方を理解するために理解するために10行のリスト表示を行い、各行に行数番号の文字を表示してみます。\n```java ResultListActivity.java\npublic class ResultListActivity extends AppCompatActivity {\n\n    //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n    // xmlファイルのコンポーネントと関連付ける要素\n    ListView resultListView;\n    // 検証用コレクションデータ\n    List<String> listData = Arrays.asList(\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\");\n    //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_result_list);\n\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // xmlファイルのコンポーネントと関連付け\n        resultListView = findViewById(R.id.ResultListView);\n        // ListViewに表示する情報をまとめるAdapterをインスタンス化\n        ArrayAdapter<String> adapter = new ArrayAdapter<>(ResultListActivity.this\n                , android.R.layout.simple_list_item_1\n                , listData);\n        // ListViewに表示情報をまとめたAdapterをセット\n        resultListView.setAdapter(adapter);\n\n        // ListViewの各行をクリックした時の命令を実装\n        AdapterView.OnItemClickListener listItemClickEvent = new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {\n                // クリックした行番号をToastで表示する\n                Toast.makeText(ResultListActivity.this\n                        , i + \"行目をクリックしました\"\n                        , Toast.LENGTH_SHORT).show();\n            }\n        };\n        // ListViewに行をクリックした時のイベントを登録\n        resultListView.setOnItemClickListener(listItemClickEvent);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n    }\n}\n```\nコードの実装が終わったらエミュレータで動作確認してみましょう。\n\n今回のリストでは各行にテキストを１つ表示するリストとして実装しました。\nAndroid SDKに用意されているリストと行のレイアウトを使用して表示させています。\n更に各行をクリックすると\"＊行目をクリックしました\"とToastが表示されます。\n\n多くの現場ではこのような使い方はすくなく**Adapter**クラスと行のレイアウトをカスタマイズして利用することがほとんどです。\n次の工程では**Adapter**クラスのカスタマイズと行に表示するレイアウトをカスタマイズしていきます。\n\n## コレクション、配列\nAndroidアプリの開発に用いられるjava言語では複数のデータを一つのまとまりとして利用することができます。\nデータの持ち方としては２つ方法がありそれぞれ**コレクション**、**配列**という概念があります、\nどちらの形式においても一つのまとまりのデータは同じ形である必要があり、<font color=\"blue\">**\t型の違うデータを複数記憶することはできません**</font>\n\n主な違いとして\n* 配列は宣言時に要素の上限を決める必要がある。\n* コレクションは上限設定はなく動的に要素の数を増減できる。\n\nその他の差異の確認のため、例として３つの手順をそれぞれの概念を使って実装してみます。\n* 整数型のコレクション/配列を空で宣言\n* 2つのデータを追加/代入\n* 1つ目のデータを参照してログを表示\n\n```java コレクション\n    // 空のコレクションを宣言\n    List<Integer> integerList = new ArrayList<>();\n    // コレクションの1番目に10を追加\n    integerList.add(10);\n    // コレクションの2番目に20を追加\n    integerList.add(20);\n    // コレクションの1番目のデータを表示\n    Log.d(\"collection_arrarys\", \"Collection data check: \" + integerList.get(0));\n    /* \"Collection data check: 10\" と表示されます */\n```\n\n```java 配列\n    // 空の配列を宣言\n    int integerArray[] = new int[2];\n    // 配列の1番目に10を代入\n    integerArray[0] = 10;\n    // 配列の2番目に20を代入\n    integerArray[1] = 20;\n    // 配列の1番目のデータを表示\n    Log.d(\"collection_arrarys\", \"Array data check: \" + integerArray[0]);\n    /* \"Array data check: 10\" と表示されます */\n```\n\n配列で値を代入する時や参照する時に変数名の後の\"[]\"は要素の場所を表すための**順番(添字)**を指定する箇所です、プログラムの配列で気をつけるポイントとして、1番目のデータを参照するためには '0' と記述する必要があることです。\nよって２番目のデータを参照するためには\"[]\"の添え字に '1' と記述する必要があります。\n３番目以降も同様に一つ小さい値を記述する必要があります。\n\nデータの数は動的な場合が多くほどんどの状況下でコレクションを使用して一覧表示などを作っています。\n\n# カスタム一覧表示機能\n一覧表示のサンプルプログラムができたところで更に一覧表示をカスタマイズしていきます。\nListViewの表示をカスタマイズするためには行のレイアウトファイルを作成し、\"Adapter\"クラスを\n","slug":"06-TransitionScreen","published":1,"updated":"2018-01-29T07:39:09.725Z","_id":"cjczn7sy80006rc61dbc4lsia","comments":1,"layout":"post","photos":[],"link":"","content":"<p>検索結果一覧を表示する検索結果画面の作成とリスト表示レイアウトの実装方法を学習します。<br>また検索画面から検索結果画面を表示するための画面遷移処理の実装方法を学習します。</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#当ページでの学習ポイント\">当ページでの学習ポイント</a></li>\n<li><a href=\"#新しい画面を作成する\">新しい画面を作成する</a><ul>\n<li><a href=\"#androidmanifestファイルの確認\">AndroidManifestファイルの確認</a></li>\n</ul>\n</li>\n<li><a href=\"#画面遷移処理機能\">画面遷移処理機能</a><ul>\n<li><a href=\"#intent\">Intent</a></li>\n</ul>\n</li>\n<li><a href=\"#検索結果画面レイアウト作成\">検索結果画面レイアウト作成</a></li>\n<li><a href=\"#一覧表示機能\">一覧表示機能</a><ul>\n<li><a href=\"#コレクション-配列\">コレクション、配列</a></li>\n</ul>\n</li>\n<li><a href=\"#カスタム一覧表示機能\">カスタム一覧表示機能</a></li>\n</ul>\n<!-- tocstop -->\n<p><a href=\"/AndroidCourse/android/05-ButtonAction\">ボタンイベントの実装</a>からの引き続きの学習ページです。</p>\n<h1><span id=\"当ページでの学習ポイント\">当ページでの学習ポイント</span></h1><ul>\n<li>ListViewを利用したリストレイアウトの実装方法</li>\n<li>新規画面の作り方</li>\n<li>画面遷移処理の実装方法</li>\n<li>xmlファイルでのレイアウト作成のおさらい</li>\n<li>コレクション / 配列</li>\n<li>継承</li>\n<li>コンストラクタ</li>\n</ul>\n<p>蔵書検索を行なった結果複数の蔵書情報を取得できる場合があります、複数取得した蔵書情報を一覧表示します。<br>その前段として、一覧表示を行うためのウィジェットListViewの使い方を学習します。<br>また、検索画面で入力された文字の検索を行うために画面遷移処理及び、画面遷移時に次の画面へ情報を渡す処理の実装方法を学習します。</p>\n<h1><span id=\"新しい画面を作成する\">新しい画面を作成する</span></h1><p>Androidアプリに置いて<strong>画面 = Activity</strong>であることは<a href=\"/AndroidCourse/android/02-AndroicConcept\">Androidの概念</a>で解説しました。<br>今回は蔵書検索アプリのプロジェクトに新しいActivityを追加していきます。</p>\n<p>新しいActivityの追加はメニューかもしくは左のプロジェクトツリーが表示されているウィンドウで右クリック(macでは２本指でクリック)から新しいActivityの追加を行えます。</p>\n<p>新しく作成するActivityは<strong>Empty Activity</strong>を選びます。</p>\n<ol>\n<li>メニュー &gt; File &gt; New &gt; Activity &gt; Empty Activity<img src=\"/AndroidCourse/android/06-TransitionScreen/createactivity01_1.png\" width=\"500\" title=\"CreateNewActivity\"></li>\n<li>ウィンドウ右クリック &gt; New &gt; Activity &gt; Empty Activity<img src=\"/AndroidCourse/android/06-TransitionScreen/createactivity01_2.png\" width=\"500\" title=\"CreateNewActivity\">\n</li>\n</ol>\n<p>新しく作成するActivityのファイル名と同時に作成するxmlファイルの名称の入力を求められます。<br>以下の名称で新しいActivityを作成します。</p>\n<table>\n<thead>\n<tr>\n<th>項目</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Activity Name</td>\n<td>ResultListActivity</td>\n</tr>\n<tr>\n<td>Generate Layout File</td>\n<td>チェックを<font color=\"blue\">つける</font></td>\n</tr>\n<tr>\n<td>Layout Name</td>\n<td>activity_result_list</td>\n</tr>\n<tr>\n<td>Luncher Activity</td>\n<td>チェックを<font color=\"red\">つけない</font></td>\n</tr>\n<tr>\n<td>Backwords Compatibility(AppCompat)</td>\n<td>チェックを<font color=\"blue\">つける</font></td>\n</tr>\n</tbody>\n</table>\n<img src=\"/AndroidCourse/android/06-TransitionScreen/createactivity02.png\" width=\"500\" title=\"CreateNewActivity\">\n<p>項目の入力が終わったら<code>Finish</code>ボタンを押下します。</p>\n<p>新しいActivityの作成が終わるとウィンドウは閉じAndroid Studioのエディタに戻ります。<br>プロジェクトツリーには<font color=\"green\">ResultListActivity.java</font>と<font color=\"green\">activity_result_list.xml</font>のファイルが追加されます。<br><img src=\"/AndroidCourse/android/06-TransitionScreen/createactivity03.png\" width=\"350\" title=\"CreateNewActivity\"></p>\n<h2><span id=\"androidmanifestファイルの確認\">AndroidManifestファイルの確認</span></h2><p>Activityがプロジェクトに追加された場合でも、アプリで表示するためにはアプリの設計書となる<code>AndroidManifest.xml</code>に利用することを記述する必要があります。<br><code>AndroidManifest.xml</code>の場所は以下にあります。</p>\n<blockquote>\n<p>app -&gt; manifests -&gt; AndroidManifest.xml</p>\n</blockquote>\n<img src=\"/AndroidCourse/android/06-TransitionScreen/createactivity04.png\" width=\"400\" title=\"CreateNewActivity\">\n<p>作成した<strong>ResultListActivity</strong>が記載されているか確認すると<br><img src=\"/AndroidCourse/android/06-TransitionScreen/createactivity05.png\" width=\"550\" title=\"CreateNewActivity\"><br>無事に記述されていることが確認できました、他の行を確認すると検索画面として表示している<strong>MainActivity</strong>も記載されています。</p>\n<p><code>AndroidManifest.xml</code>ではアプリ名やアプリアイコン、アプリ起動時に表示するActivityなどの設定が記述された概要設計書のようなファイルになります、Push通知などの機能を追加する時にもファイルの修正が必要になるので覚えて置いてください。</p>\n<h1><span id=\"画面遷移処理機能\">画面遷移処理機能</span></h1><p>新しいActivityが作成できたので、MainActivityの<em>蔵書検索ボタン</em>をクリックした時、ResultListActivityに表示が切り替わる様にMainActivity.javaを修正していきます。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">    View.OnClickListener bookSearchEvent = <span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// コンソールログにボタンが押されたことを出力(表示)</span></span><br><span class=\"line\">            Log.d(<span class=\"string\">\"BookSearchBtn\"</span>, <span class=\"string\">\"onClick: BookSearch Button\"</span>);</span><br><span class=\"line\">            <span class=\"comment\">// 入力された文字をToast(トースト)に表示</span></span><br><span class=\"line\">            Toast.makeText(getBaseContext()</span><br><span class=\"line\">                    , <span class=\"string\">\"入力された文字は [\"</span> + bookSearchEditor.getText().toString() + <span class=\"string\">\"]です。\"</span></span><br><span class=\"line\">                    , Toast.LENGTH_LONG).show();</span><br><span class=\"line\">            <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">            <span class=\"comment\">// 画面遷移するためのIntentをインスタンス化</span></span><br><span class=\"line\">            Intent intent = <span class=\"keyword\">new</span> Intent(MainActivity.<span class=\"keyword\">this</span>, ResultListActivity.class);</span><br><span class=\"line\">            <span class=\"comment\">// 画面遷移アクションを実行</span></span><br><span class=\"line\">            startActivity(intent);</span><br><span class=\"line\">            <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure></p>\n<p>コードの修正が終わったらエミュレータで動作確認してください。<br>以下のように画面遷移できましたか？<br><img src=\"/AndroidCourse/android/06-TransitionScreen/TransitionScreen.gif\" width=\"300\" title=\"TransitionScreen\"><br>またエミュレータ左下の三角ボタンをクリックすると前の画面に戻ります。<br><img src=\"/AndroidCourse/android/06-TransitionScreen/BackScreen.png\" width=\"400\" title=\"BackScreen\"></p>\n<h2><span id=\"intent\">Intent</span></h2><p>Android開発における４大要素の一つとして紹介されている<code>Intent</code>が出てきました。<br>Intentは別Activityの呼び出し（画面遷移）や別のアプリを起動する時などに利用する要素になります、画面遷移時の利用方法としては</p>\n<ol>\n<li>Intentクラスを宣言、インスタンス化</li>\n<li>startActivityメソッドの引数に”1.”で宣言したIntentをセット</li>\n</ol>\n<p>この２つの手順でActivity間の画面遷移が実装できてしまいます。<br>今回画面遷移時に生成したIntentですが、<br>一つ目の引数にはContextと呼ばれるクラスをセット<font color=\"red\">(Contextは少々ややこしいクラスなので今後のページで詳しく解説します）</font>Contextは現在開いているActivityが該当するので自身を表す”this”と言う属性を記述してセットする。<br>２つ目の引数に遷移したいActivityのクラス情報をセットする。</p>\n<p>最初のうちは画面遷移を行う場合、上記のルールで画面遷移のコードを実装するよう癖をつけておきましょう。</p>\n<h1><span id=\"検索結果画面レイアウト作成\">検索結果画面レイアウト作成</span></h1><p>検索画面同様にLayoutEditorとConstraintsLayoutを使って検索結果画面のレイアウト構成を作成していきます。</p>\n<p>ResultListActivityの新規作成時、同時に作成された<code>activity_result_list.xml</code>を修正します。</p>\n<blockquote>\n<p>app -&gt; res -&gt; layout -&gt; activity_result_list.xml</p>\n</blockquote>\n<p>検索結果画面は検索した結果を取得し、その一覧を表示します、一覧表示を行うためのコンポーネントとして<code>ListView</code>を利用します。<br>デザインビューに<code>ListView</code>を乗せるには検索画面の時の”Button”や”EditText”と同じように”コンポーネントをクリックしたままデザインビューまでマウスカーソルをマウスカーソルを移動させ、離す”と言う手順です。<br><strong>Palette</strong>から<code>ListView</code>を探しデザインビューにビューに乗せます。<br><img src=\"/AndroidCourse/android/06-TransitionScreen/re_le01.png\" width=\"500\" title=\"CreateResultListLayout\"><br>画面の上下左右と制約を設定します。<br><img src=\"/AndroidCourse/android/06-TransitionScreen/re_le02.png\" width=\"500\" title=\"CreateResultListLayout\"><br><code>ListView</code>に表示するデータの設定はjavaファイルで実装しますのでjavaファイルと関連付けをするために<strong>Attributes</strong>から<em>ID</em>項目を設定します。<br><img src=\"/AndroidCourse/android/06-TransitionScreen/re_le03.png\" width=\"400\" title=\"CreateResultListLayout\"></p>\n<table>\n<thead>\n<tr>\n<th>項目</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ID</td>\n<td>ResultList</td>\n</tr>\n</tbody>\n</table>\n<h1><span id=\"一覧表示機能\">一覧表示機能</span></h1><p>検索結果画面の一覧表示機能を実装していきます、まずはListViewの使い方を理解するために理解するために10行のリスト表示を行い、各行に行数番号の文字を表示してみます。<br><figure class=\"highlight java\"><figcaption><span>ResultListActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ResultListActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">    <span class=\"comment\">// xmlファイルのコンポーネントと関連付ける要素</span></span><br><span class=\"line\">    ListView resultListView;</span><br><span class=\"line\">    <span class=\"comment\">// 検証用コレクションデータ</span></span><br><span class=\"line\">    List&lt;String&gt; listData = Arrays.asList(<span class=\"string\">\"1\"</span>, <span class=\"string\">\"2\"</span>, <span class=\"string\">\"3\"</span>, <span class=\"string\">\"4\"</span>, <span class=\"string\">\"5\"</span>, <span class=\"string\">\"6\"</span>, <span class=\"string\">\"7\"</span>, <span class=\"string\">\"8\"</span>, <span class=\"string\">\"9\"</span>, <span class=\"string\">\"10\"</span>);</span><br><span class=\"line\">    <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_result_list);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">        <span class=\"comment\">// xmlファイルのコンポーネントと関連付け</span></span><br><span class=\"line\">        resultListView = findViewById(R.id.ResultListView);</span><br><span class=\"line\">        <span class=\"comment\">// ListViewに表示する情報をまとめるAdapterをインスタンス化</span></span><br><span class=\"line\">        ArrayAdapter&lt;String&gt; adapter = <span class=\"keyword\">new</span> ArrayAdapter&lt;&gt;(ResultListActivity.<span class=\"keyword\">this</span></span><br><span class=\"line\">                , android.R.layout.simple_list_item_1</span><br><span class=\"line\">                , listData);</span><br><span class=\"line\">        <span class=\"comment\">// ListViewに表示情報をまとめたAdapterをセット</span></span><br><span class=\"line\">        resultListView.setAdapter(adapter);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ListViewの各行をクリックした時の命令を実装</span></span><br><span class=\"line\">        AdapterView.OnItemClickListener listItemClickEvent = <span class=\"keyword\">new</span> AdapterView.OnItemClickListener() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onItemClick</span><span class=\"params\">(AdapterView&lt;?&gt; adapterView, View view, <span class=\"keyword\">int</span> i, <span class=\"keyword\">long</span> l)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">// クリックした行番号をToastで表示する</span></span><br><span class=\"line\">                Toast.makeText(ResultListActivity.<span class=\"keyword\">this</span></span><br><span class=\"line\">                        , i + <span class=\"string\">\"行目をクリックしました\"</span></span><br><span class=\"line\">                        , Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">// ListViewに行をクリックした時のイベントを登録</span></span><br><span class=\"line\">        resultListView.setOnItemClickListener(listItemClickEvent);</span><br><span class=\"line\">        <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>コードの実装が終わったらエミュレータで動作確認してみましょう。</p>\n<p>今回のリストでは各行にテキストを１つ表示するリストとして実装しました。<br>Android SDKに用意されているリストと行のレイアウトを使用して表示させています。<br>更に各行をクリックすると”＊行目をクリックしました”とToastが表示されます。</p>\n<p>多くの現場ではこのような使い方はすくなく<strong>Adapter</strong>クラスと行のレイアウトをカスタマイズして利用することがほとんどです。<br>次の工程では<strong>Adapter</strong>クラスのカスタマイズと行に表示するレイアウトをカスタマイズしていきます。</p>\n<h2><span id=\"コレクション-配列\">コレクション、配列</span></h2><p>Androidアプリの開発に用いられるjava言語では複数のデータを一つのまとまりとして利用することができます。<br>データの持ち方としては２つ方法がありそれぞれ<strong>コレクション</strong>、<strong>配列</strong>という概念があります、<br>どちらの形式においても一つのまとまりのデータは同じ形である必要があり、<font color=\"blue\"><strong>    型の違うデータを複数記憶することはできません</strong></font></p>\n<p>主な違いとして</p>\n<ul>\n<li>配列は宣言時に要素の上限を決める必要がある。</li>\n<li>コレクションは上限設定はなく動的に要素の数を増減できる。</li>\n</ul>\n<p>その他の差異の確認のため、例として３つの手順をそれぞれの概念を使って実装してみます。</p>\n<ul>\n<li>整数型のコレクション/配列を空で宣言</li>\n<li>2つのデータを追加/代入</li>\n<li>1つ目のデータを参照してログを表示</li>\n</ul>\n<figure class=\"highlight java\"><figcaption><span>コレクション</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 空のコレクションを宣言</span></span><br><span class=\"line\">List&lt;Integer&gt; integerList = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\"><span class=\"comment\">// コレクションの1番目に10を追加</span></span><br><span class=\"line\">integerList.add(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"comment\">// コレクションの2番目に20を追加</span></span><br><span class=\"line\">integerList.add(<span class=\"number\">20</span>);</span><br><span class=\"line\"><span class=\"comment\">// コレクションの1番目のデータを表示</span></span><br><span class=\"line\">Log.d(<span class=\"string\">\"collection_arrarys\"</span>, <span class=\"string\">\"Collection data check: \"</span> + integerList.get(<span class=\"number\">0</span>));</span><br><span class=\"line\"><span class=\"comment\">/* \"Collection data check: 10\" と表示されます */</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>配列</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 空の配列を宣言</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> integerArray[] = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[<span class=\"number\">2</span>];</span><br><span class=\"line\"><span class=\"comment\">// 配列の1番目に10を代入</span></span><br><span class=\"line\">integerArray[<span class=\"number\">0</span>] = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"comment\">// 配列の2番目に20を代入</span></span><br><span class=\"line\">integerArray[<span class=\"number\">1</span>] = <span class=\"number\">20</span>;</span><br><span class=\"line\"><span class=\"comment\">// 配列の1番目のデータを表示</span></span><br><span class=\"line\">Log.d(<span class=\"string\">\"collection_arrarys\"</span>, <span class=\"string\">\"Array data check: \"</span> + integerArray[<span class=\"number\">0</span>]);</span><br><span class=\"line\"><span class=\"comment\">/* \"Array data check: 10\" と表示されます */</span></span><br></pre></td></tr></table></figure>\n<p>配列で値を代入する時や参照する時に変数名の後の”[]”は要素の場所を表すための<strong>順番(添字)</strong>を指定する箇所です、プログラムの配列で気をつけるポイントとして、1番目のデータを参照するためには ‘0’ と記述する必要があることです。<br>よって２番目のデータを参照するためには”[]”の添え字に ‘1’ と記述する必要があります。<br>３番目以降も同様に一つ小さい値を記述する必要があります。</p>\n<p>データの数は動的な場合が多くほどんどの状況下でコレクションを使用して一覧表示などを作っています。</p>\n<h1><span id=\"カスタム一覧表示機能\">カスタム一覧表示機能</span></h1><p>一覧表示のサンプルプログラムができたところで更に一覧表示をカスタマイズしていきます。<br>ListViewの表示をカスタマイズするためには行のレイアウトファイルを作成し、”Adapter”クラスを</p>\n","site":{"data":{}},"excerpt":"","more":"<p>検索結果一覧を表示する検索結果画面の作成とリスト表示レイアウトの実装方法を学習します。<br>また検索画面から検索結果画面を表示するための画面遷移処理の実装方法を学習します。</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#当ページでの学習ポイント\">当ページでの学習ポイント</a></li>\n<li><a href=\"#新しい画面を作成する\">新しい画面を作成する</a><ul>\n<li><a href=\"#androidmanifestファイルの確認\">AndroidManifestファイルの確認</a></li>\n</ul>\n</li>\n<li><a href=\"#画面遷移処理機能\">画面遷移処理機能</a><ul>\n<li><a href=\"#intent\">Intent</a></li>\n</ul>\n</li>\n<li><a href=\"#検索結果画面レイアウト作成\">検索結果画面レイアウト作成</a></li>\n<li><a href=\"#一覧表示機能\">一覧表示機能</a><ul>\n<li><a href=\"#コレクション-配列\">コレクション、配列</a></li>\n</ul>\n</li>\n<li><a href=\"#カスタム一覧表示機能\">カスタム一覧表示機能</a></li>\n</ul>\n<!-- tocstop -->\n<p><a href=\"/AndroidCourse/android/05-ButtonAction\">ボタンイベントの実装</a>からの引き続きの学習ページです。</p>\n<h1 id=\"当ページでの学習ポイント\"><a href=\"#当ページでの学習ポイント\" class=\"headerlink\" title=\"当ページでの学習ポイント\"></a>当ページでの学習ポイント</h1><ul>\n<li>ListViewを利用したリストレイアウトの実装方法</li>\n<li>新規画面の作り方</li>\n<li>画面遷移処理の実装方法</li>\n<li>xmlファイルでのレイアウト作成のおさらい</li>\n<li>コレクション / 配列</li>\n<li>継承</li>\n<li>コンストラクタ</li>\n</ul>\n<p>蔵書検索を行なった結果複数の蔵書情報を取得できる場合があります、複数取得した蔵書情報を一覧表示します。<br>その前段として、一覧表示を行うためのウィジェットListViewの使い方を学習します。<br>また、検索画面で入力された文字の検索を行うために画面遷移処理及び、画面遷移時に次の画面へ情報を渡す処理の実装方法を学習します。</p>\n<h1 id=\"新しい画面を作成する\"><a href=\"#新しい画面を作成する\" class=\"headerlink\" title=\"新しい画面を作成する\"></a>新しい画面を作成する</h1><p>Androidアプリに置いて<strong>画面 = Activity</strong>であることは<a href=\"/AndroidCourse/android/02-AndroicConcept\">Androidの概念</a>で解説しました。<br>今回は蔵書検索アプリのプロジェクトに新しいActivityを追加していきます。</p>\n<p>新しいActivityの追加はメニューかもしくは左のプロジェクトツリーが表示されているウィンドウで右クリック(macでは２本指でクリック)から新しいActivityの追加を行えます。</p>\n<p>新しく作成するActivityは<strong>Empty Activity</strong>を選びます。</p>\n<ol>\n<li>メニュー &gt; File &gt; New &gt; Activity &gt; Empty Activity<img src=\"/AndroidCourse/android/06-TransitionScreen/createactivity01_1.png\" width=\"500\" title=\"CreateNewActivity\"></li>\n<li>ウィンドウ右クリック &gt; New &gt; Activity &gt; Empty Activity<img src=\"/AndroidCourse/android/06-TransitionScreen/createactivity01_2.png\" width=\"500\" title=\"CreateNewActivity\">\n</li>\n</ol>\n<p>新しく作成するActivityのファイル名と同時に作成するxmlファイルの名称の入力を求められます。<br>以下の名称で新しいActivityを作成します。</p>\n<table>\n<thead>\n<tr>\n<th>項目</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Activity Name</td>\n<td>ResultListActivity</td>\n</tr>\n<tr>\n<td>Generate Layout File</td>\n<td>チェックを<font color=\"blue\">つける</font></td>\n</tr>\n<tr>\n<td>Layout Name</td>\n<td>activity_result_list</td>\n</tr>\n<tr>\n<td>Luncher Activity</td>\n<td>チェックを<font color=\"red\">つけない</font></td>\n</tr>\n<tr>\n<td>Backwords Compatibility(AppCompat)</td>\n<td>チェックを<font color=\"blue\">つける</font></td>\n</tr>\n</tbody>\n</table>\n<img src=\"/AndroidCourse/android/06-TransitionScreen/createactivity02.png\" width=\"500\" title=\"CreateNewActivity\">\n<p>項目の入力が終わったら<code>Finish</code>ボタンを押下します。</p>\n<p>新しいActivityの作成が終わるとウィンドウは閉じAndroid Studioのエディタに戻ります。<br>プロジェクトツリーには<font color=\"green\">ResultListActivity.java</font>と<font color=\"green\">activity_result_list.xml</font>のファイルが追加されます。<br><img src=\"/AndroidCourse/android/06-TransitionScreen/createactivity03.png\" width=\"350\" title=\"CreateNewActivity\"></p>\n<h2 id=\"AndroidManifestファイルの確認\"><a href=\"#AndroidManifestファイルの確認\" class=\"headerlink\" title=\"AndroidManifestファイルの確認\"></a>AndroidManifestファイルの確認</h2><p>Activityがプロジェクトに追加された場合でも、アプリで表示するためにはアプリの設計書となる<code>AndroidManifest.xml</code>に利用することを記述する必要があります。<br><code>AndroidManifest.xml</code>の場所は以下にあります。</p>\n<blockquote>\n<p>app -&gt; manifests -&gt; AndroidManifest.xml</p>\n</blockquote>\n<img src=\"/AndroidCourse/android/06-TransitionScreen/createactivity04.png\" width=\"400\" title=\"CreateNewActivity\">\n<p>作成した<strong>ResultListActivity</strong>が記載されているか確認すると<br><img src=\"/AndroidCourse/android/06-TransitionScreen/createactivity05.png\" width=\"550\" title=\"CreateNewActivity\"><br>無事に記述されていることが確認できました、他の行を確認すると検索画面として表示している<strong>MainActivity</strong>も記載されています。</p>\n<p><code>AndroidManifest.xml</code>ではアプリ名やアプリアイコン、アプリ起動時に表示するActivityなどの設定が記述された概要設計書のようなファイルになります、Push通知などの機能を追加する時にもファイルの修正が必要になるので覚えて置いてください。</p>\n<h1 id=\"画面遷移処理機能\"><a href=\"#画面遷移処理機能\" class=\"headerlink\" title=\"画面遷移処理機能\"></a>画面遷移処理機能</h1><p>新しいActivityが作成できたので、MainActivityの<em>蔵書検索ボタン</em>をクリックした時、ResultListActivityに表示が切り替わる様にMainActivity.javaを修正していきます。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">    View.OnClickListener bookSearchEvent = <span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// コンソールログにボタンが押されたことを出力(表示)</span></span><br><span class=\"line\">            Log.d(<span class=\"string\">\"BookSearchBtn\"</span>, <span class=\"string\">\"onClick: BookSearch Button\"</span>);</span><br><span class=\"line\">            <span class=\"comment\">// 入力された文字をToast(トースト)に表示</span></span><br><span class=\"line\">            Toast.makeText(getBaseContext()</span><br><span class=\"line\">                    , <span class=\"string\">\"入力された文字は [\"</span> + bookSearchEditor.getText().toString() + <span class=\"string\">\"]です。\"</span></span><br><span class=\"line\">                    , Toast.LENGTH_LONG).show();</span><br><span class=\"line\">            <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">            <span class=\"comment\">// 画面遷移するためのIntentをインスタンス化</span></span><br><span class=\"line\">            Intent intent = <span class=\"keyword\">new</span> Intent(MainActivity.<span class=\"keyword\">this</span>, ResultListActivity.class);</span><br><span class=\"line\">            <span class=\"comment\">// 画面遷移アクションを実行</span></span><br><span class=\"line\">            startActivity(intent);</span><br><span class=\"line\">            <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure></p>\n<p>コードの修正が終わったらエミュレータで動作確認してください。<br>以下のように画面遷移できましたか？<br><img src=\"/AndroidCourse/android/06-TransitionScreen/TransitionScreen.gif\" width=\"300\" title=\"TransitionScreen\"><br>またエミュレータ左下の三角ボタンをクリックすると前の画面に戻ります。<br><img src=\"/AndroidCourse/android/06-TransitionScreen/BackScreen.png\" width=\"400\" title=\"BackScreen\"></p>\n<h2 id=\"Intent\"><a href=\"#Intent\" class=\"headerlink\" title=\"Intent\"></a>Intent</h2><p>Android開発における４大要素の一つとして紹介されている<code>Intent</code>が出てきました。<br>Intentは別Activityの呼び出し（画面遷移）や別のアプリを起動する時などに利用する要素になります、画面遷移時の利用方法としては</p>\n<ol>\n<li>Intentクラスを宣言、インスタンス化</li>\n<li>startActivityメソッドの引数に”1.”で宣言したIntentをセット</li>\n</ol>\n<p>この２つの手順でActivity間の画面遷移が実装できてしまいます。<br>今回画面遷移時に生成したIntentですが、<br>一つ目の引数にはContextと呼ばれるクラスをセット<font color=\"red\">(Contextは少々ややこしいクラスなので今後のページで詳しく解説します）</font>Contextは現在開いているActivityが該当するので自身を表す”this”と言う属性を記述してセットする。<br>２つ目の引数に遷移したいActivityのクラス情報をセットする。</p>\n<p>最初のうちは画面遷移を行う場合、上記のルールで画面遷移のコードを実装するよう癖をつけておきましょう。</p>\n<h1 id=\"検索結果画面レイアウト作成\"><a href=\"#検索結果画面レイアウト作成\" class=\"headerlink\" title=\"検索結果画面レイアウト作成\"></a>検索結果画面レイアウト作成</h1><p>検索画面同様にLayoutEditorとConstraintsLayoutを使って検索結果画面のレイアウト構成を作成していきます。</p>\n<p>ResultListActivityの新規作成時、同時に作成された<code>activity_result_list.xml</code>を修正します。</p>\n<blockquote>\n<p>app -&gt; res -&gt; layout -&gt; activity_result_list.xml</p>\n</blockquote>\n<p>検索結果画面は検索した結果を取得し、その一覧を表示します、一覧表示を行うためのコンポーネントとして<code>ListView</code>を利用します。<br>デザインビューに<code>ListView</code>を乗せるには検索画面の時の”Button”や”EditText”と同じように”コンポーネントをクリックしたままデザインビューまでマウスカーソルをマウスカーソルを移動させ、離す”と言う手順です。<br><strong>Palette</strong>から<code>ListView</code>を探しデザインビューにビューに乗せます。<br><img src=\"/AndroidCourse/android/06-TransitionScreen/re_le01.png\" width=\"500\" title=\"CreateResultListLayout\"><br>画面の上下左右と制約を設定します。<br><img src=\"/AndroidCourse/android/06-TransitionScreen/re_le02.png\" width=\"500\" title=\"CreateResultListLayout\"><br><code>ListView</code>に表示するデータの設定はjavaファイルで実装しますのでjavaファイルと関連付けをするために<strong>Attributes</strong>から<em>ID</em>項目を設定します。<br><img src=\"/AndroidCourse/android/06-TransitionScreen/re_le03.png\" width=\"400\" title=\"CreateResultListLayout\"></p>\n<table>\n<thead>\n<tr>\n<th>項目</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ID</td>\n<td>ResultList</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"一覧表示機能\"><a href=\"#一覧表示機能\" class=\"headerlink\" title=\"一覧表示機能\"></a>一覧表示機能</h1><p>検索結果画面の一覧表示機能を実装していきます、まずはListViewの使い方を理解するために理解するために10行のリスト表示を行い、各行に行数番号の文字を表示してみます。<br><figure class=\"highlight java\"><figcaption><span>ResultListActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ResultListActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">    <span class=\"comment\">// xmlファイルのコンポーネントと関連付ける要素</span></span><br><span class=\"line\">    ListView resultListView;</span><br><span class=\"line\">    <span class=\"comment\">// 検証用コレクションデータ</span></span><br><span class=\"line\">    List&lt;String&gt; listData = Arrays.asList(<span class=\"string\">\"1\"</span>, <span class=\"string\">\"2\"</span>, <span class=\"string\">\"3\"</span>, <span class=\"string\">\"4\"</span>, <span class=\"string\">\"5\"</span>, <span class=\"string\">\"6\"</span>, <span class=\"string\">\"7\"</span>, <span class=\"string\">\"8\"</span>, <span class=\"string\">\"9\"</span>, <span class=\"string\">\"10\"</span>);</span><br><span class=\"line\">    <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_result_list);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">        <span class=\"comment\">// xmlファイルのコンポーネントと関連付け</span></span><br><span class=\"line\">        resultListView = findViewById(R.id.ResultListView);</span><br><span class=\"line\">        <span class=\"comment\">// ListViewに表示する情報をまとめるAdapterをインスタンス化</span></span><br><span class=\"line\">        ArrayAdapter&lt;String&gt; adapter = <span class=\"keyword\">new</span> ArrayAdapter&lt;&gt;(ResultListActivity.<span class=\"keyword\">this</span></span><br><span class=\"line\">                , android.R.layout.simple_list_item_1</span><br><span class=\"line\">                , listData);</span><br><span class=\"line\">        <span class=\"comment\">// ListViewに表示情報をまとめたAdapterをセット</span></span><br><span class=\"line\">        resultListView.setAdapter(adapter);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ListViewの各行をクリックした時の命令を実装</span></span><br><span class=\"line\">        AdapterView.OnItemClickListener listItemClickEvent = <span class=\"keyword\">new</span> AdapterView.OnItemClickListener() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onItemClick</span><span class=\"params\">(AdapterView&lt;?&gt; adapterView, View view, <span class=\"keyword\">int</span> i, <span class=\"keyword\">long</span> l)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">// クリックした行番号をToastで表示する</span></span><br><span class=\"line\">                Toast.makeText(ResultListActivity.<span class=\"keyword\">this</span></span><br><span class=\"line\">                        , i + <span class=\"string\">\"行目をクリックしました\"</span></span><br><span class=\"line\">                        , Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">// ListViewに行をクリックした時のイベントを登録</span></span><br><span class=\"line\">        resultListView.setOnItemClickListener(listItemClickEvent);</span><br><span class=\"line\">        <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>コードの実装が終わったらエミュレータで動作確認してみましょう。</p>\n<p>今回のリストでは各行にテキストを１つ表示するリストとして実装しました。<br>Android SDKに用意されているリストと行のレイアウトを使用して表示させています。<br>更に各行をクリックすると”＊行目をクリックしました”とToastが表示されます。</p>\n<p>多くの現場ではこのような使い方はすくなく<strong>Adapter</strong>クラスと行のレイアウトをカスタマイズして利用することがほとんどです。<br>次の工程では<strong>Adapter</strong>クラスのカスタマイズと行に表示するレイアウトをカスタマイズしていきます。</p>\n<h2 id=\"コレクション、配列\"><a href=\"#コレクション、配列\" class=\"headerlink\" title=\"コレクション、配列\"></a>コレクション、配列</h2><p>Androidアプリの開発に用いられるjava言語では複数のデータを一つのまとまりとして利用することができます。<br>データの持ち方としては２つ方法がありそれぞれ<strong>コレクション</strong>、<strong>配列</strong>という概念があります、<br>どちらの形式においても一つのまとまりのデータは同じ形である必要があり、<font color=\"blue\"><strong>    型の違うデータを複数記憶することはできません</strong></font></p>\n<p>主な違いとして</p>\n<ul>\n<li>配列は宣言時に要素の上限を決める必要がある。</li>\n<li>コレクションは上限設定はなく動的に要素の数を増減できる。</li>\n</ul>\n<p>その他の差異の確認のため、例として３つの手順をそれぞれの概念を使って実装してみます。</p>\n<ul>\n<li>整数型のコレクション/配列を空で宣言</li>\n<li>2つのデータを追加/代入</li>\n<li>1つ目のデータを参照してログを表示</li>\n</ul>\n<figure class=\"highlight java\"><figcaption><span>コレクション</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 空のコレクションを宣言</span></span><br><span class=\"line\">List&lt;Integer&gt; integerList = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\"><span class=\"comment\">// コレクションの1番目に10を追加</span></span><br><span class=\"line\">integerList.add(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"comment\">// コレクションの2番目に20を追加</span></span><br><span class=\"line\">integerList.add(<span class=\"number\">20</span>);</span><br><span class=\"line\"><span class=\"comment\">// コレクションの1番目のデータを表示</span></span><br><span class=\"line\">Log.d(<span class=\"string\">\"collection_arrarys\"</span>, <span class=\"string\">\"Collection data check: \"</span> + integerList.get(<span class=\"number\">0</span>));</span><br><span class=\"line\"><span class=\"comment\">/* \"Collection data check: 10\" と表示されます */</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>配列</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 空の配列を宣言</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> integerArray[] = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[<span class=\"number\">2</span>];</span><br><span class=\"line\"><span class=\"comment\">// 配列の1番目に10を代入</span></span><br><span class=\"line\">integerArray[<span class=\"number\">0</span>] = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"comment\">// 配列の2番目に20を代入</span></span><br><span class=\"line\">integerArray[<span class=\"number\">1</span>] = <span class=\"number\">20</span>;</span><br><span class=\"line\"><span class=\"comment\">// 配列の1番目のデータを表示</span></span><br><span class=\"line\">Log.d(<span class=\"string\">\"collection_arrarys\"</span>, <span class=\"string\">\"Array data check: \"</span> + integerArray[<span class=\"number\">0</span>]);</span><br><span class=\"line\"><span class=\"comment\">/* \"Array data check: 10\" と表示されます */</span></span><br></pre></td></tr></table></figure>\n<p>配列で値を代入する時や参照する時に変数名の後の”[]”は要素の場所を表すための<strong>順番(添字)</strong>を指定する箇所です、プログラムの配列で気をつけるポイントとして、1番目のデータを参照するためには ‘0’ と記述する必要があることです。<br>よって２番目のデータを参照するためには”[]”の添え字に ‘1’ と記述する必要があります。<br>３番目以降も同様に一つ小さい値を記述する必要があります。</p>\n<p>データの数は動的な場合が多くほどんどの状況下でコレクションを使用して一覧表示などを作っています。</p>\n<h1 id=\"カスタム一覧表示機能\"><a href=\"#カスタム一覧表示機能\" class=\"headerlink\" title=\"カスタム一覧表示機能\"></a>カスタム一覧表示機能</h1><p>一覧表示のサンプルプログラムができたところで更に一覧表示をカスタマイズしていきます。<br>ListViewの表示をカスタマイズするためには行のレイアウトファイルを作成し、”Adapter”クラスを</p>\n"},{"title":"アプリ内データベースの使用","lang":"android","date":"2017-11-08T15:00:00.000Z","_content":"アプリ内データベースを学習し、過去に検索した蔵書などをすぐに確認できる機能を追加します。","source":"_posts/android/08-AppDataBase.md","raw":"---\ntitle: アプリ内データベースの使用\nlang: android\ndate: 2017-11-09\ntags:\n---\nアプリ内データベースを学習し、過去に検索した蔵書などをすぐに確認できる機能を追加します。","slug":"08-AppDataBase","published":1,"updated":"2018-01-28T04:10:26.287Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjczn7syd0007rc614gzh7jnm","content":"<p>アプリ内データベースを学習し、過去に検索した蔵書などをすぐに確認できる機能を追加します。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>アプリ内データベースを学習し、過去に検索した蔵書などをすぐに確認できる機能を追加します。</p>\n"},{"title":"非同期処理、REST API通信の実装","date":"2017-11-07T15:00:00.000Z","_content":"非同期処理の使い方と解説、APIを利用したインターネット通信処理ライブラリの実装と確認を行います\n\n<!-- toc -->\n\n当ページでは検索画面でボタンを押した後、蔵書/図書館検索の結果をAPIを利用して取得し、ログに出力するまでを解説します。\n[前のページでは蔵書検索などボタンが押下された時の実装に関して解説しています](/AndroidCourse/android/05-ButtonAction)\n次のページで検索結果の表示、アプリ内データベースの利用に関して解説します。\n\n# 非同期処理\nAndroidアプリを開発するのに気を付けなければいけない概念として**スレッド(Thread)**という概念があります。\nスレッドとは\n> 脈絡、筋道。電子メールなどでは、ある一つの話題に関連した投稿の集まり\n\nなどの意味合いがあります。\n身近なものでは飲み会や待ち合わせを行う時にLINEなどで作成したグループなどはスレッドと似ていると思います。\n\nAndroidのアプリが起動された時に画面に`activity_main.xml`のレイアウトが表示されるのも一つのスレッドでプログラムを実行された結果になります。\n\nこの画面にレイアウトを表示するスレッドを**メインスレッド**と呼びます。\nメインスレッドは最初に表示されるアクティビティクラスを判別すると<font color=\"red\">自動的に作成</font>されます。\n\nメインスレッドはウィジェットやビューを更新、操作できる唯一のスレッドとなっているため**UIスレッド**と呼ばれることもあります。\n\n非同期処理とは主に**メインスレッド**のプログラムには影響が無いようにプログラムを実行することを指します、\nそのためにはメインスレッドに対して**サブスレッド**と呼ばれる別のスレッドを<font color=\"red\">自分で作成</font>し、その中でプログラムを実行します。\n\n## 非同期タイマー機能\n今回は非同期処理を学習するために、もともと準備されているタイマースレッドというサブスレッドを使って画面が表示されてから3秒ごとに、入力されたテキストをログ出力するプログラムを作っていきます。\nプログラムは前回までのコードを元に修正していきます。\n```java MainActivity.java\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        // 蔵書検索する文字を入力するEditTextをjavaプログラムで操作できるように名前をつける\n        bookSearchEditor = findViewById(R.id.BookSearchEdit);\n        // 蔵書検索ボタンが押された時の処理を実装\n        View.OnClickListener bookSearchEvent = new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // コンソールログにボタンが押されたことを出力(表示)\n                Log.d(\"BookSearchBtn\", \"onClick: BookSearch Button\");\n                // 入力された文字をToast(トースト)に表示\n                Toast.makeText(getBaseContext()\n                        , \"入力された文字は [\" + bookSearchEditor.getText().toString() + \"]です。\"\n                        , Toast.LENGTH_LONG).show();\n            }\n        };\n        // 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録\n        bookSearchBtn.setOnClickListener(bookSearchEvent);\n\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // 準備されているTimerスレッドをインスタンス化\n        Timer timer = new Timer();\n        // 定期実行するタスク(TimerTask)をインスタンス化\n        TimerTask timerTask = new TimerTask() {\n            @Override\n            public void run() {\n                // コンソールログに更新された内容を出力\n                Log.d(\"SubThread Process\"\n                        , \"「\" +  bookSearchEditor.getText().toString() + \"」に更新されました。\");\n            }\n        };\n\n        // Timerスレッドの実行スケジュールを設定\n        // 3秒毎にtimerTaskのプログラムを実行\n        timer.schedule(timerTask, 0, 3000);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n    }\n```\n\n上記の追加プログラムが記述できたらエミュレータで確認してみてください。\nAndroid Studioの**Logcat**で確認すると3秒毎にログが出力されていることがわかります。\n\n次に画面が表示されてから3秒後から3秒毎にトーストを表示させてみましょう。\n```java MainActivity.java\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n       ...\n\n        // 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録\n        bookSearchBtn.setOnClickListener(bookSearchEvent);\n\n        // 準備されているTimerスレッドをインスタンス化\n        Timer timer = new Timer();\n        // 定期実行するタスク(TimerTask)をインスタンス化\n        TimerTask timerTask = new TimerTask() {\n            @Override\n            public void run() {\n                // コンソールログに更新された内容を出力\n                Log.d(\"SubThread Process\"\n                        , \"「\" +  bookSearchEditor.getText().toString() + \"」に更新されました。\");\n                //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n                // 更新された内容をトーストに表示\n                Toast.makeText(getBaseContext()\n                        , \"「\" +  bookSearchEditor.getText().toString() + \"」に更新されました。\"\n                        , Toast.LENGTH_SHORT).show();\n                //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n            }\n        };\n\n        // Timerスレッドの実行スケジュールを設定\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓修正↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // 画面が表示されてから3秒後から3秒毎にtimerTaskのプログラムを実行\n        timer.schedule(timerTask, 3000, 3000);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n    }\n```\n\n上記のコードを入力したら`Run`ボタンを押して実行してみましょう。\n・\n・\n・\n・\n・\n・\n・\n・\n・\n・\nアプリが強制終了してしまったのではないでしょうか？\n最初に紹介した通りメインスレッド以外のスレッドでは画面を操作することができません。\n上記で追加したコードはタイマースレッド内でToastを画面に表示する操作を実行しようとして強制終了してしまいました。\n異常終了した際のエラーログはログ出力を行なっていた`Logcat`内に表示されているので確認してみましょう。\n{% img /android/07-AsyncProcess/MainThreadError.png ThreadSequence %}\n\n上記の通りエラーのメッセージ箇所は赤文字で表示されます。\n\n今回のエラーの原因を説明している箇所は以下の一文\n> <font color=\"red\">java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()</font>\n\n以降の行で\"at ...\"と説明されているのは実行されたプログラムが順に表示されます。。\n各行後半の \"()\" 内はプログラムのファイル名とプログラムを実行した行数が表示され、クリックするとプログラムファイルが表示されます。\n以下の行のエラーメッセージ上で \"()\" 内が青くなっていますが、これは自分で書いたプログラムファイルであることを表しており、\n多くの場合にエラーの原因になったプログラムの行を示している箇所となります。\n> <font color=\"red\">at kuririnz.xyz.bookdiscovery.MainActivity$2.run(</font><font color=\n\"blue\">MainActivity.java:53</font><font color=\"red\">)</font>\n\n今後エラーが発生した時に原因や問題を解析する時にはまずここを見るよう癖付けましょう！\n\nタイマースレッド(サブスレッド)で画面操作できないことを確認できました、今度は正常にトーストが画面に表示されるように修正していきましょう。\nコードを修正する前に新しく使う**Handlerクラス**と**Runnableクラス**を紹介します。\n\n## Handler クラス\nHandlerクラスはスレッドから別のスレッドへ通信を行う機能を持ったクラスです。\n今回のプログラムではToastを画面に表示する為TimerThreadからMainThreadへ通信を行います。\n通信とは記述していますが、今回の通信ではMainThreadでToastを表示することが目的になるため、\nデータを渡すことが目的の通信では無いことを意識してみてみてください。\n\n## Runnable クラス\nRunnableクラスは実際にThreadで処理するプログラムを実行するためのクラスです。\n**Thread = Runnable**と認識して問題ありません。\n今回のプログラムではTimerThreadで３秒ごとにlogを出力する時、MainThreadでToastを表示する処理を実行する時にRunnableクラスを使用しています。\n\n```java MainActivity.java\npublic class MainActivity extends AppCompatActivity {\n\n    // レイアウトxmlと関連付けるWidget\n    Button bookSearchBtn;\n    EditText bookSearchEditor;\n    //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n    // メインスレッドに帰って来るためのハンドラー\n    Handler handler;\n    //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // ハンドラーオブジェクトをMainThreadでインスタンス化\n        handler = new Handler();\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n        // 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n\n        ...\n\n        // 定期実行するタスク(TimerTask)をインスタンス化\n        TimerTask timerTask = new TimerTask() {\n            @Override\n            public void run() {\n                // コンソールログに更新された内容を出力\n                Log.d(\"SubThread Process\"\n                        , \"「\" +  bookSearchEditor.getText().toString() + \"」に更新されました。\");\n                //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓修正↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n                handler.post(new Runnable() {\n                    @Override\n                    public void run() {\n                        // 更新された内容をトーストに表示\n                        Toast.makeText(getBaseContext()\n                                , \"「\" +  bookSearchEditor.getText().toString() + \"」に更新されました。\"\n                                , Toast.LENGTH_SHORT).show();\n                    }\n                });\n                //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n            }\n        };\n    }\n}\n```\n\n上記コードを実装できたら、エミュレータで動作確認してみましょう。\n以下の様に3秒ごとに入力中の文字がToastに表示されたでしょうか？\n{% img /android/07-AsyncProcess/AsyncTimerToast.png 300 TimerThreadTest %}\n\n実際に使ってみたHandlerクラスですが、正しくMainThreadで実行するにはコツが必要です、\nコツというのはHandlerクラスをインスタンス化するタイミングです。\n深く理解できればこのタイミングの調整は不要になりますが、全てを一度に覚えきるのは難しいです、\nですので他の非同期処理後にMainThreadで処理を行うのにHandlerを利用する場合はまず、**onCreateメソッドのsetContetView(...)**の次行でインスタンス化するよう意識付けてください。\n\n> ※サブスレッド間の通信に関してはこの一連の記事では紹介していないので別途調査が必要です。\n\n以上で、非同期処理の基礎の解説は終了です、難しい箇所も多いので自分なりにプログラムを修正して試してみましょう。\n続いてはインターネット通信処理を通しでデータを取得するAPIの使い方を実装していきます。\n\n# REST API通信処理\n\n非同期処理が作れる様になったらインターネット上にあるデータを取得するプログラムを作っていきます、\nそのためにはインターネット上にあるデータを開発するアプリから取得して使う方法があります。\nこれを多くの場合にAPI通信などと呼びます。\n\n今回のアプリでは蔵書を検索する機能を実装するためにこのAPI通信が必要になります。\n\nREST APIとは**Representational State Transfer Application Programming Interface**の略称で\nそれぞれ\"REST\"と\"API\"で使われることもあります。\n\n## REST\nWebサービスの設計モデルを表しており、REST APIのURLにHTTPメソッドでアクセスすることでデータの送受信が行えます。\n\nRESTの設計条件として以下が該当します。\n{% blockquote Qiita https://qiita.com/TakahiRoyte/items/949f4e88caecb02119aa REST入門 基礎知識 %}\n* アドレス指定可能なURLで公開されていること\n* インターフェースが統一されていること(HTTPメソッドに準じていること)\n* ステートレスであること\n* 処理結果がHTTPステータスコードで通知されること\n{% endblockquote %}\n\n## API\nウィキペディアには以下の様にあります。\n<font color=\"red\">**ソフトウェアコンポーネントが互いにやり取りするのに使用するインターフェース仕様**</font>\n\n...文章からイメージするのは難しそうです。。。\nですので、まずは以下の様な認識で使っていきましょう。\n<font color=\"blue\">**インターネット上に公開された、URLを知っていれば誰でも使えるデータ**</font>\n\n例として実際にAPIのデータをgoogle ChromeなどWebブラウザの画面で確認できるもので確認してみましょう。\n以下のurlはgoogleが一般公開している\"google books API\"というAPIで、蔵書の情報を取得するAPIです。\n{% blockquote Google Books APIs https://developers.google.com/books/docs/v1/using Reference %}\nhttps://www.googleapis.com/books/v1/volumes\n{% endblockquote %}\nこの画面に表示されているデータは`json`という形式でまとめられたデータになっており、上記urlにアプリからアクセスすると\n画面に表示されているデータをアプリで受け取ることができます。\n多くのアプリではこの様にデータを取得して画面に表示させてキュレーションアプリなどが開発されています。\n\n次に指定の本を検索してみましょう、Webブラウザのurlに少し付け加えてみます。\n先ほどと結果の違いがわかる様に新しくタブを開いて以下のurlを表示してみましょう。\n> https://www.googleapis.com/books/v1/volumes?q=ほんきで学ぶAndroidアプリ開発入門\n\nWebブラウザを確認すると、表示される内容が変わっているのがわかります。\n追加した、\"?q=ほんきで学ぶAndroidアプリ開発入門\"と文字の部分一致で検索した結果が表示されました。\n\nWebブラウザで結果を確認していただいた通り、APIというのはURLや設定されているパラメータの値によって検索結果が変わります、\nこれはホームページと同じくサーバにURLが届き、サーバ内のプログラムが実行された結果`json`データが返されているからです。\n\n上記で紹介したAPIの検索条件等は[Google Books APIs](https://developers.google.com/books/docs/v1/using#WorkingVolumes)に記載されています。（全て英語です）\n\n下図はAPII通信を行うプログラムの流れとして、\nAPI通信を行う流れからデータを取得し、画面に反映するまでの簡単な流れを図にしています。\n{% img /android/07-AsyncProcess/APISequence.svg 550 APISequence %}\n\n上記で解説していた非同期処理ですが、こちらでも利用します。\nむしろAPI通信を行いデータを画面に反映するために使用すること多い気がします。\n\nというのもAndoridアプリ開発の上で画面更新はMainThreadのみ可能と解説をしましたが、更に<font color=\"blue\">**MainThreadは時間のかかる処理を行なってはいけない**</font>という制約もあるため、MainThreadでネットワーク通信を行うとアプリが強制終了してしまいます。\n（サブスレッドで画面を操作しようとした時と同じ様に終了します）\n\n上記の図の通りですが<font color=\"red\">**API通信を実行し、画面に反映するためには大まかに以下の手順が必要になります**</font>\n1. メインスレッドでハンドラーをインスタンス化\n1. メインスレッドからサブスレッドを起動\n1. サブスレッドでAPI通信処理を実行\n1. ハンドラーを使いサブスレッドで取得したAPIデータをメインスレッドへ連携\n1. メインスレッドでAPIデータを使い画面を操作\n\n## okHttpライブラリの導入\nAPI通信、ネットワーク通信処理を行うために、ここでは**okHttp**という*ライブラリ*を使っていきます、**okHttp**はAndroid に元々備わっているネットワーク通信機能をさらに簡単に行うことができるようになる機能群です。\nこのようにプログラムを一部簡単にしてくれる機能群を*ライブラリ*と呼びます。\n\n修正するファイルは`build.gradle`というファイルです、このファイルは２つあると思います、開くのは`build.gradle`の後ろに***(Module: app)***と表示されている方を開いてください。\n{% img /android/07-AsyncProcess/includeokHttp01.png 550 IncludeokHttp %}\n\n続いて`build.gradle`の \"dependencies\" の \"{}\"内に以下のコードを記述します\n```\n    implementation 'com.squareup.okhttp3:okhttp:3.9.1'\n```\nコードの記述が終わったら右上に表示された<font color=\"blue\">Sync Now</font>リンクをクリックします。\n{% img /android/07-AsyncProcess/includeokHttp02.png 600 Include okHttp %}\n\nこれで**okHttp**ライブラリの導入は完了です。\n## API通信機能\n\n\n\n\n# まとめ\n非同期通信やスレッドに関する概念は最初イメージするのが難しく整理しにくい内容だと思いますが、以下のポイントだけ\n抑えておきましょう！\n\n* Androidアプリ開発においては画面の更新、操作を行う場合はメインスレッドを使う必要がある\n* Androidアプリ開発ではネットワーク通信処理を行う場合はサブスレッド（メインスレッド以外）で行う必要がある\n* Threadクラスはインスタンス化したスレッドと同じスレッドとして処理を行うことができる\n* HandlerクラスはThreadを起動させる時に利用する\n\n[※1]: https://qiita.com/TakahiRoyte/items/949f4e88caecb02119aa\n\n","source":"_posts/android/07-AsyncProcess.md","raw":"---\ntitle: 非同期処理、REST API通信の実装\ndate: 2017-11-08\ntags:\n---\n非同期処理の使い方と解説、APIを利用したインターネット通信処理ライブラリの実装と確認を行います\n\n<!-- toc -->\n\n当ページでは検索画面でボタンを押した後、蔵書/図書館検索の結果をAPIを利用して取得し、ログに出力するまでを解説します。\n[前のページでは蔵書検索などボタンが押下された時の実装に関して解説しています](/AndroidCourse/android/05-ButtonAction)\n次のページで検索結果の表示、アプリ内データベースの利用に関して解説します。\n\n# 非同期処理\nAndroidアプリを開発するのに気を付けなければいけない概念として**スレッド(Thread)**という概念があります。\nスレッドとは\n> 脈絡、筋道。電子メールなどでは、ある一つの話題に関連した投稿の集まり\n\nなどの意味合いがあります。\n身近なものでは飲み会や待ち合わせを行う時にLINEなどで作成したグループなどはスレッドと似ていると思います。\n\nAndroidのアプリが起動された時に画面に`activity_main.xml`のレイアウトが表示されるのも一つのスレッドでプログラムを実行された結果になります。\n\nこの画面にレイアウトを表示するスレッドを**メインスレッド**と呼びます。\nメインスレッドは最初に表示されるアクティビティクラスを判別すると<font color=\"red\">自動的に作成</font>されます。\n\nメインスレッドはウィジェットやビューを更新、操作できる唯一のスレッドとなっているため**UIスレッド**と呼ばれることもあります。\n\n非同期処理とは主に**メインスレッド**のプログラムには影響が無いようにプログラムを実行することを指します、\nそのためにはメインスレッドに対して**サブスレッド**と呼ばれる別のスレッドを<font color=\"red\">自分で作成</font>し、その中でプログラムを実行します。\n\n## 非同期タイマー機能\n今回は非同期処理を学習するために、もともと準備されているタイマースレッドというサブスレッドを使って画面が表示されてから3秒ごとに、入力されたテキストをログ出力するプログラムを作っていきます。\nプログラムは前回までのコードを元に修正していきます。\n```java MainActivity.java\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n        // 蔵書検索する文字を入力するEditTextをjavaプログラムで操作できるように名前をつける\n        bookSearchEditor = findViewById(R.id.BookSearchEdit);\n        // 蔵書検索ボタンが押された時の処理を実装\n        View.OnClickListener bookSearchEvent = new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // コンソールログにボタンが押されたことを出力(表示)\n                Log.d(\"BookSearchBtn\", \"onClick: BookSearch Button\");\n                // 入力された文字をToast(トースト)に表示\n                Toast.makeText(getBaseContext()\n                        , \"入力された文字は [\" + bookSearchEditor.getText().toString() + \"]です。\"\n                        , Toast.LENGTH_LONG).show();\n            }\n        };\n        // 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録\n        bookSearchBtn.setOnClickListener(bookSearchEvent);\n\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // 準備されているTimerスレッドをインスタンス化\n        Timer timer = new Timer();\n        // 定期実行するタスク(TimerTask)をインスタンス化\n        TimerTask timerTask = new TimerTask() {\n            @Override\n            public void run() {\n                // コンソールログに更新された内容を出力\n                Log.d(\"SubThread Process\"\n                        , \"「\" +  bookSearchEditor.getText().toString() + \"」に更新されました。\");\n            }\n        };\n\n        // Timerスレッドの実行スケジュールを設定\n        // 3秒毎にtimerTaskのプログラムを実行\n        timer.schedule(timerTask, 0, 3000);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n    }\n```\n\n上記の追加プログラムが記述できたらエミュレータで確認してみてください。\nAndroid Studioの**Logcat**で確認すると3秒毎にログが出力されていることがわかります。\n\n次に画面が表示されてから3秒後から3秒毎にトーストを表示させてみましょう。\n```java MainActivity.java\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n       ...\n\n        // 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録\n        bookSearchBtn.setOnClickListener(bookSearchEvent);\n\n        // 準備されているTimerスレッドをインスタンス化\n        Timer timer = new Timer();\n        // 定期実行するタスク(TimerTask)をインスタンス化\n        TimerTask timerTask = new TimerTask() {\n            @Override\n            public void run() {\n                // コンソールログに更新された内容を出力\n                Log.d(\"SubThread Process\"\n                        , \"「\" +  bookSearchEditor.getText().toString() + \"」に更新されました。\");\n                //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n                // 更新された内容をトーストに表示\n                Toast.makeText(getBaseContext()\n                        , \"「\" +  bookSearchEditor.getText().toString() + \"」に更新されました。\"\n                        , Toast.LENGTH_SHORT).show();\n                //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n            }\n        };\n\n        // Timerスレッドの実行スケジュールを設定\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓修正↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // 画面が表示されてから3秒後から3秒毎にtimerTaskのプログラムを実行\n        timer.schedule(timerTask, 3000, 3000);\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n    }\n```\n\n上記のコードを入力したら`Run`ボタンを押して実行してみましょう。\n・\n・\n・\n・\n・\n・\n・\n・\n・\n・\nアプリが強制終了してしまったのではないでしょうか？\n最初に紹介した通りメインスレッド以外のスレッドでは画面を操作することができません。\n上記で追加したコードはタイマースレッド内でToastを画面に表示する操作を実行しようとして強制終了してしまいました。\n異常終了した際のエラーログはログ出力を行なっていた`Logcat`内に表示されているので確認してみましょう。\n{% img /android/07-AsyncProcess/MainThreadError.png ThreadSequence %}\n\n上記の通りエラーのメッセージ箇所は赤文字で表示されます。\n\n今回のエラーの原因を説明している箇所は以下の一文\n> <font color=\"red\">java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()</font>\n\n以降の行で\"at ...\"と説明されているのは実行されたプログラムが順に表示されます。。\n各行後半の \"()\" 内はプログラムのファイル名とプログラムを実行した行数が表示され、クリックするとプログラムファイルが表示されます。\n以下の行のエラーメッセージ上で \"()\" 内が青くなっていますが、これは自分で書いたプログラムファイルであることを表しており、\n多くの場合にエラーの原因になったプログラムの行を示している箇所となります。\n> <font color=\"red\">at kuririnz.xyz.bookdiscovery.MainActivity$2.run(</font><font color=\n\"blue\">MainActivity.java:53</font><font color=\"red\">)</font>\n\n今後エラーが発生した時に原因や問題を解析する時にはまずここを見るよう癖付けましょう！\n\nタイマースレッド(サブスレッド)で画面操作できないことを確認できました、今度は正常にトーストが画面に表示されるように修正していきましょう。\nコードを修正する前に新しく使う**Handlerクラス**と**Runnableクラス**を紹介します。\n\n## Handler クラス\nHandlerクラスはスレッドから別のスレッドへ通信を行う機能を持ったクラスです。\n今回のプログラムではToastを画面に表示する為TimerThreadからMainThreadへ通信を行います。\n通信とは記述していますが、今回の通信ではMainThreadでToastを表示することが目的になるため、\nデータを渡すことが目的の通信では無いことを意識してみてみてください。\n\n## Runnable クラス\nRunnableクラスは実際にThreadで処理するプログラムを実行するためのクラスです。\n**Thread = Runnable**と認識して問題ありません。\n今回のプログラムではTimerThreadで３秒ごとにlogを出力する時、MainThreadでToastを表示する処理を実行する時にRunnableクラスを使用しています。\n\n```java MainActivity.java\npublic class MainActivity extends AppCompatActivity {\n\n    // レイアウトxmlと関連付けるWidget\n    Button bookSearchBtn;\n    EditText bookSearchEditor;\n    //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n    // メインスレッドに帰って来るためのハンドラー\n    Handler handler;\n    //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n        // ハンドラーオブジェクトをMainThreadでインスタンス化\n        handler = new Handler();\n        //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n        // 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける\n        bookSearchBtn = findViewById(R.id.BookSearchBtn);\n\n        ...\n\n        // 定期実行するタスク(TimerTask)をインスタンス化\n        TimerTask timerTask = new TimerTask() {\n            @Override\n            public void run() {\n                // コンソールログに更新された内容を出力\n                Log.d(\"SubThread Process\"\n                        , \"「\" +  bookSearchEditor.getText().toString() + \"」に更新されました。\");\n                //↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓修正↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n                handler.post(new Runnable() {\n                    @Override\n                    public void run() {\n                        // 更新された内容をトーストに表示\n                        Toast.makeText(getBaseContext()\n                                , \"「\" +  bookSearchEditor.getText().toString() + \"」に更新されました。\"\n                                , Toast.LENGTH_SHORT).show();\n                    }\n                });\n                //↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n            }\n        };\n    }\n}\n```\n\n上記コードを実装できたら、エミュレータで動作確認してみましょう。\n以下の様に3秒ごとに入力中の文字がToastに表示されたでしょうか？\n{% img /android/07-AsyncProcess/AsyncTimerToast.png 300 TimerThreadTest %}\n\n実際に使ってみたHandlerクラスですが、正しくMainThreadで実行するにはコツが必要です、\nコツというのはHandlerクラスをインスタンス化するタイミングです。\n深く理解できればこのタイミングの調整は不要になりますが、全てを一度に覚えきるのは難しいです、\nですので他の非同期処理後にMainThreadで処理を行うのにHandlerを利用する場合はまず、**onCreateメソッドのsetContetView(...)**の次行でインスタンス化するよう意識付けてください。\n\n> ※サブスレッド間の通信に関してはこの一連の記事では紹介していないので別途調査が必要です。\n\n以上で、非同期処理の基礎の解説は終了です、難しい箇所も多いので自分なりにプログラムを修正して試してみましょう。\n続いてはインターネット通信処理を通しでデータを取得するAPIの使い方を実装していきます。\n\n# REST API通信処理\n\n非同期処理が作れる様になったらインターネット上にあるデータを取得するプログラムを作っていきます、\nそのためにはインターネット上にあるデータを開発するアプリから取得して使う方法があります。\nこれを多くの場合にAPI通信などと呼びます。\n\n今回のアプリでは蔵書を検索する機能を実装するためにこのAPI通信が必要になります。\n\nREST APIとは**Representational State Transfer Application Programming Interface**の略称で\nそれぞれ\"REST\"と\"API\"で使われることもあります。\n\n## REST\nWebサービスの設計モデルを表しており、REST APIのURLにHTTPメソッドでアクセスすることでデータの送受信が行えます。\n\nRESTの設計条件として以下が該当します。\n{% blockquote Qiita https://qiita.com/TakahiRoyte/items/949f4e88caecb02119aa REST入門 基礎知識 %}\n* アドレス指定可能なURLで公開されていること\n* インターフェースが統一されていること(HTTPメソッドに準じていること)\n* ステートレスであること\n* 処理結果がHTTPステータスコードで通知されること\n{% endblockquote %}\n\n## API\nウィキペディアには以下の様にあります。\n<font color=\"red\">**ソフトウェアコンポーネントが互いにやり取りするのに使用するインターフェース仕様**</font>\n\n...文章からイメージするのは難しそうです。。。\nですので、まずは以下の様な認識で使っていきましょう。\n<font color=\"blue\">**インターネット上に公開された、URLを知っていれば誰でも使えるデータ**</font>\n\n例として実際にAPIのデータをgoogle ChromeなどWebブラウザの画面で確認できるもので確認してみましょう。\n以下のurlはgoogleが一般公開している\"google books API\"というAPIで、蔵書の情報を取得するAPIです。\n{% blockquote Google Books APIs https://developers.google.com/books/docs/v1/using Reference %}\nhttps://www.googleapis.com/books/v1/volumes\n{% endblockquote %}\nこの画面に表示されているデータは`json`という形式でまとめられたデータになっており、上記urlにアプリからアクセスすると\n画面に表示されているデータをアプリで受け取ることができます。\n多くのアプリではこの様にデータを取得して画面に表示させてキュレーションアプリなどが開発されています。\n\n次に指定の本を検索してみましょう、Webブラウザのurlに少し付け加えてみます。\n先ほどと結果の違いがわかる様に新しくタブを開いて以下のurlを表示してみましょう。\n> https://www.googleapis.com/books/v1/volumes?q=ほんきで学ぶAndroidアプリ開発入門\n\nWebブラウザを確認すると、表示される内容が変わっているのがわかります。\n追加した、\"?q=ほんきで学ぶAndroidアプリ開発入門\"と文字の部分一致で検索した結果が表示されました。\n\nWebブラウザで結果を確認していただいた通り、APIというのはURLや設定されているパラメータの値によって検索結果が変わります、\nこれはホームページと同じくサーバにURLが届き、サーバ内のプログラムが実行された結果`json`データが返されているからです。\n\n上記で紹介したAPIの検索条件等は[Google Books APIs](https://developers.google.com/books/docs/v1/using#WorkingVolumes)に記載されています。（全て英語です）\n\n下図はAPII通信を行うプログラムの流れとして、\nAPI通信を行う流れからデータを取得し、画面に反映するまでの簡単な流れを図にしています。\n{% img /android/07-AsyncProcess/APISequence.svg 550 APISequence %}\n\n上記で解説していた非同期処理ですが、こちらでも利用します。\nむしろAPI通信を行いデータを画面に反映するために使用すること多い気がします。\n\nというのもAndoridアプリ開発の上で画面更新はMainThreadのみ可能と解説をしましたが、更に<font color=\"blue\">**MainThreadは時間のかかる処理を行なってはいけない**</font>という制約もあるため、MainThreadでネットワーク通信を行うとアプリが強制終了してしまいます。\n（サブスレッドで画面を操作しようとした時と同じ様に終了します）\n\n上記の図の通りですが<font color=\"red\">**API通信を実行し、画面に反映するためには大まかに以下の手順が必要になります**</font>\n1. メインスレッドでハンドラーをインスタンス化\n1. メインスレッドからサブスレッドを起動\n1. サブスレッドでAPI通信処理を実行\n1. ハンドラーを使いサブスレッドで取得したAPIデータをメインスレッドへ連携\n1. メインスレッドでAPIデータを使い画面を操作\n\n## okHttpライブラリの導入\nAPI通信、ネットワーク通信処理を行うために、ここでは**okHttp**という*ライブラリ*を使っていきます、**okHttp**はAndroid に元々備わっているネットワーク通信機能をさらに簡単に行うことができるようになる機能群です。\nこのようにプログラムを一部簡単にしてくれる機能群を*ライブラリ*と呼びます。\n\n修正するファイルは`build.gradle`というファイルです、このファイルは２つあると思います、開くのは`build.gradle`の後ろに***(Module: app)***と表示されている方を開いてください。\n{% img /android/07-AsyncProcess/includeokHttp01.png 550 IncludeokHttp %}\n\n続いて`build.gradle`の \"dependencies\" の \"{}\"内に以下のコードを記述します\n```\n    implementation 'com.squareup.okhttp3:okhttp:3.9.1'\n```\nコードの記述が終わったら右上に表示された<font color=\"blue\">Sync Now</font>リンクをクリックします。\n{% img /android/07-AsyncProcess/includeokHttp02.png 600 Include okHttp %}\n\nこれで**okHttp**ライブラリの導入は完了です。\n## API通信機能\n\n\n\n\n# まとめ\n非同期通信やスレッドに関する概念は最初イメージするのが難しく整理しにくい内容だと思いますが、以下のポイントだけ\n抑えておきましょう！\n\n* Androidアプリ開発においては画面の更新、操作を行う場合はメインスレッドを使う必要がある\n* Androidアプリ開発ではネットワーク通信処理を行う場合はサブスレッド（メインスレッド以外）で行う必要がある\n* Threadクラスはインスタンス化したスレッドと同じスレッドとして処理を行うことができる\n* HandlerクラスはThreadを起動させる時に利用する\n\n[※1]: https://qiita.com/TakahiRoyte/items/949f4e88caecb02119aa\n\n","slug":"07-AsyncProcess","published":1,"updated":"2018-01-28T04:10:17.937Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjczn7syi0008rc61o6lh1rtf","content":"<p>非同期処理の使い方と解説、APIを利用したインターネット通信処理ライブラリの実装と確認を行います</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#非同期処理\">非同期処理</a><ul>\n<li><a href=\"#非同期タイマー機能\">非同期タイマー機能</a></li>\n<li><a href=\"#handler-クラス\">Handler クラス</a></li>\n<li><a href=\"#runnable-クラス\">Runnable クラス</a></li>\n</ul>\n</li>\n<li><a href=\"#rest-api通信処理\">REST API通信処理</a><ul>\n<li><a href=\"#rest\">REST</a></li>\n<li><a href=\"#api\">API</a></li>\n<li><a href=\"#okhttpライブラリの導入\">okHttpライブラリの導入</a></li>\n<li><a href=\"#api通信機能\">API通信機能</a></li>\n</ul>\n</li>\n<li><a href=\"#まとめ\">まとめ</a></li>\n</ul>\n<!-- tocstop -->\n<p>当ページでは検索画面でボタンを押した後、蔵書/図書館検索の結果をAPIを利用して取得し、ログに出力するまでを解説します。<br><a href=\"/AndroidCourse/android/05-ButtonAction\">前のページでは蔵書検索などボタンが押下された時の実装に関して解説しています</a><br>次のページで検索結果の表示、アプリ内データベースの利用に関して解説します。</p>\n<h1><span id=\"非同期処理\">非同期処理</span></h1><p>Androidアプリを開発するのに気を付けなければいけない概念として<strong>スレッド(Thread)</strong>という概念があります。<br>スレッドとは</p>\n<blockquote>\n<p>脈絡、筋道。電子メールなどでは、ある一つの話題に関連した投稿の集まり</p>\n</blockquote>\n<p>などの意味合いがあります。<br>身近なものでは飲み会や待ち合わせを行う時にLINEなどで作成したグループなどはスレッドと似ていると思います。</p>\n<p>Androidのアプリが起動された時に画面に<code>activity_main.xml</code>のレイアウトが表示されるのも一つのスレッドでプログラムを実行された結果になります。</p>\n<p>この画面にレイアウトを表示するスレッドを<strong>メインスレッド</strong>と呼びます。<br>メインスレッドは最初に表示されるアクティビティクラスを判別すると<font color=\"red\">自動的に作成</font>されます。</p>\n<p>メインスレッドはウィジェットやビューを更新、操作できる唯一のスレッドとなっているため<strong>UIスレッド</strong>と呼ばれることもあります。</p>\n<p>非同期処理とは主に<strong>メインスレッド</strong>のプログラムには影響が無いようにプログラムを実行することを指します、<br>そのためにはメインスレッドに対して<strong>サブスレッド</strong>と呼ばれる別のスレッドを<font color=\"red\">自分で作成</font>し、その中でプログラムを実行します。</p>\n<h2><span id=\"非同期タイマー機能\">非同期タイマー機能</span></h2><p>今回は非同期処理を学習するために、もともと準備されているタイマースレッドというサブスレッドを使って画面が表示されてから3秒ごとに、入力されたテキストをログ出力するプログラムを作っていきます。<br>プログラムは前回までのコードを元に修正していきます。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">    setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">    bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">    <span class=\"comment\">// 蔵書検索する文字を入力するEditTextをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">    bookSearchEditor = findViewById(R.id.BookSearchEdit);</span><br><span class=\"line\">    <span class=\"comment\">// 蔵書検索ボタンが押された時の処理を実装</span></span><br><span class=\"line\">    View.OnClickListener bookSearchEvent = <span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// コンソールログにボタンが押されたことを出力(表示)</span></span><br><span class=\"line\">            Log.d(<span class=\"string\">\"BookSearchBtn\"</span>, <span class=\"string\">\"onClick: BookSearch Button\"</span>);</span><br><span class=\"line\">            <span class=\"comment\">// 入力された文字をToast(トースト)に表示</span></span><br><span class=\"line\">            Toast.makeText(getBaseContext()</span><br><span class=\"line\">                    , <span class=\"string\">\"入力された文字は [\"</span> + bookSearchEditor.getText().toString() + <span class=\"string\">\"]です。\"</span></span><br><span class=\"line\">                    , Toast.LENGTH_LONG).show();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録</span></span><br><span class=\"line\">    bookSearchBtn.setOnClickListener(bookSearchEvent);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">    <span class=\"comment\">// 準備されているTimerスレッドをインスタンス化</span></span><br><span class=\"line\">    Timer timer = <span class=\"keyword\">new</span> Timer();</span><br><span class=\"line\">    <span class=\"comment\">// 定期実行するタスク(TimerTask)をインスタンス化</span></span><br><span class=\"line\">    TimerTask timerTask = <span class=\"keyword\">new</span> TimerTask() &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// コンソールログに更新された内容を出力</span></span><br><span class=\"line\">            Log.d(<span class=\"string\">\"SubThread Process\"</span></span><br><span class=\"line\">                    , <span class=\"string\">\"「\"</span> +  bookSearchEditor.getText().toString() + <span class=\"string\">\"」に更新されました。\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Timerスレッドの実行スケジュールを設定</span></span><br><span class=\"line\">    <span class=\"comment\">// 3秒毎にtimerTaskのプログラムを実行</span></span><br><span class=\"line\">    timer.schedule(timerTask, <span class=\"number\">0</span>, <span class=\"number\">3000</span>);</span><br><span class=\"line\">    <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>上記の追加プログラムが記述できたらエミュレータで確認してみてください。<br>Android Studioの<strong>Logcat</strong>で確認すると3秒毎にログが出力されていることがわかります。</p>\n<p>次に画面が表示されてから3秒後から3秒毎にトーストを表示させてみましょう。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">   ...</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録</span></span><br><span class=\"line\">    bookSearchBtn.setOnClickListener(bookSearchEvent);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 準備されているTimerスレッドをインスタンス化</span></span><br><span class=\"line\">    Timer timer = <span class=\"keyword\">new</span> Timer();</span><br><span class=\"line\">    <span class=\"comment\">// 定期実行するタスク(TimerTask)をインスタンス化</span></span><br><span class=\"line\">    TimerTask timerTask = <span class=\"keyword\">new</span> TimerTask() &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// コンソールログに更新された内容を出力</span></span><br><span class=\"line\">            Log.d(<span class=\"string\">\"SubThread Process\"</span></span><br><span class=\"line\">                    , <span class=\"string\">\"「\"</span> +  bookSearchEditor.getText().toString() + <span class=\"string\">\"」に更新されました。\"</span>);</span><br><span class=\"line\">            <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">            <span class=\"comment\">// 更新された内容をトーストに表示</span></span><br><span class=\"line\">            Toast.makeText(getBaseContext()</span><br><span class=\"line\">                    , <span class=\"string\">\"「\"</span> +  bookSearchEditor.getText().toString() + <span class=\"string\">\"」に更新されました。\"</span></span><br><span class=\"line\">                    , Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">            <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Timerスレッドの実行スケジュールを設定</span></span><br><span class=\"line\">    <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓修正↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">    <span class=\"comment\">// 画面が表示されてから3秒後から3秒毎にtimerTaskのプログラムを実行</span></span><br><span class=\"line\">    timer.schedule(timerTask, <span class=\"number\">3000</span>, <span class=\"number\">3000</span>);</span><br><span class=\"line\">    <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>上記のコードを入力したら<code>Run</code>ボタンを押して実行してみましょう。<br>・<br>・<br>・<br>・<br>・<br>・<br>・<br>・<br>・<br>・<br>アプリが強制終了してしまったのではないでしょうか？<br>最初に紹介した通りメインスレッド以外のスレッドでは画面を操作することができません。<br>上記で追加したコードはタイマースレッド内でToastを画面に表示する操作を実行しようとして強制終了してしまいました。<br>異常終了した際のエラーログはログ出力を行なっていた<code>Logcat</code>内に表示されているので確認してみましょう。<br><img src=\"/AndroidCourse/android/07-AsyncProcess/MainThreadError.png\" title=\"ThreadSequence\"></p>\n<p>上記の通りエラーのメッセージ箇所は赤文字で表示されます。</p>\n<p>今回のエラーの原因を説明している箇所は以下の一文</p>\n<blockquote>\n<font color=\"red\">java.lang.RuntimeException: Can’t create handler inside thread that has not called Looper.prepare()</font>\n\n</blockquote>\n<p>以降の行で”at …”と説明されているのは実行されたプログラムが順に表示されます。。<br>各行後半の “()” 内はプログラムのファイル名とプログラムを実行した行数が表示され、クリックするとプログラムファイルが表示されます。<br>以下の行のエラーメッセージ上で “()” 内が青くなっていますが、これは自分で書いたプログラムファイルであることを表しており、<br>多くの場合にエラーの原因になったプログラムの行を示している箇所となります。</p>\n<blockquote>\n<font color=\"red\">at kuririnz.xyz.bookdiscovery.MainActivity$2.run(</font><font color=\"blue\">MainActivity.java:53</font><font color=\"red\">)</font>\n\n</blockquote>\n<p>今後エラーが発生した時に原因や問題を解析する時にはまずここを見るよう癖付けましょう！</p>\n<p>タイマースレッド(サブスレッド)で画面操作できないことを確認できました、今度は正常にトーストが画面に表示されるように修正していきましょう。<br>コードを修正する前に新しく使う<strong>Handlerクラス</strong>と<strong>Runnableクラス</strong>を紹介します。</p>\n<h2><span id=\"handler-クラス\">Handler クラス</span></h2><p>Handlerクラスはスレッドから別のスレッドへ通信を行う機能を持ったクラスです。<br>今回のプログラムではToastを画面に表示する為TimerThreadからMainThreadへ通信を行います。<br>通信とは記述していますが、今回の通信ではMainThreadでToastを表示することが目的になるため、<br>データを渡すことが目的の通信では無いことを意識してみてみてください。</p>\n<h2><span id=\"runnable-クラス\">Runnable クラス</span></h2><p>Runnableクラスは実際にThreadで処理するプログラムを実行するためのクラスです。<br><strong>Thread = Runnable</strong>と認識して問題ありません。<br>今回のプログラムではTimerThreadで３秒ごとにlogを出力する時、MainThreadでToastを表示する処理を実行する時にRunnableクラスを使用しています。</p>\n<figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// レイアウトxmlと関連付けるWidget</span></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\">    EditText bookSearchEditor;</span><br><span class=\"line\">    <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">    <span class=\"comment\">// メインスレッドに帰って来るためのハンドラー</span></span><br><span class=\"line\">    Handler handler;</span><br><span class=\"line\">    <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">        <span class=\"comment\">// ハンドラーオブジェクトをMainThreadでインスタンス化</span></span><br><span class=\"line\">        handler = <span class=\"keyword\">new</span> Handler();</span><br><span class=\"line\">        <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\"></span><br><span class=\"line\">        ...</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 定期実行するタスク(TimerTask)をインスタンス化</span></span><br><span class=\"line\">        TimerTask timerTask = <span class=\"keyword\">new</span> TimerTask() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">// コンソールログに更新された内容を出力</span></span><br><span class=\"line\">                Log.d(<span class=\"string\">\"SubThread Process\"</span></span><br><span class=\"line\">                        , <span class=\"string\">\"「\"</span> +  bookSearchEditor.getText().toString() + <span class=\"string\">\"」に更新されました。\"</span>);</span><br><span class=\"line\">                <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓修正↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">                handler.post(<span class=\"keyword\">new</span> Runnable() &#123;</span><br><span class=\"line\">                    <span class=\"meta\">@Override</span></span><br><span class=\"line\">                    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 更新された内容をトーストに表示</span></span><br><span class=\"line\">                        Toast.makeText(getBaseContext()</span><br><span class=\"line\">                                , <span class=\"string\">\"「\"</span> +  bookSearchEditor.getText().toString() + <span class=\"string\">\"」に更新されました。\"</span></span><br><span class=\"line\">                                , Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">                <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>上記コードを実装できたら、エミュレータで動作確認してみましょう。<br>以下の様に3秒ごとに入力中の文字がToastに表示されたでしょうか？<br><img src=\"/AndroidCourse/android/07-AsyncProcess/AsyncTimerToast.png\" width=\"300\" title=\"TimerThreadTest\"></p>\n<p>実際に使ってみたHandlerクラスですが、正しくMainThreadで実行するにはコツが必要です、<br>コツというのはHandlerクラスをインスタンス化するタイミングです。<br>深く理解できればこのタイミングの調整は不要になりますが、全てを一度に覚えきるのは難しいです、<br>ですので他の非同期処理後にMainThreadで処理を行うのにHandlerを利用する場合はまず、<strong>onCreateメソッドのsetContetView(…)</strong>の次行でインスタンス化するよう意識付けてください。</p>\n<blockquote>\n<p>※サブスレッド間の通信に関してはこの一連の記事では紹介していないので別途調査が必要です。</p>\n</blockquote>\n<p>以上で、非同期処理の基礎の解説は終了です、難しい箇所も多いので自分なりにプログラムを修正して試してみましょう。<br>続いてはインターネット通信処理を通しでデータを取得するAPIの使い方を実装していきます。</p>\n<h1><span id=\"rest-api通信処理\">REST API通信処理</span></h1><p>非同期処理が作れる様になったらインターネット上にあるデータを取得するプログラムを作っていきます、<br>そのためにはインターネット上にあるデータを開発するアプリから取得して使う方法があります。<br>これを多くの場合にAPI通信などと呼びます。</p>\n<p>今回のアプリでは蔵書を検索する機能を実装するためにこのAPI通信が必要になります。</p>\n<p>REST APIとは<strong>Representational State Transfer Application Programming Interface</strong>の略称で<br>それぞれ”REST”と”API”で使われることもあります。</p>\n<h2><span id=\"rest\">REST</span></h2><p>Webサービスの設計モデルを表しており、REST APIのURLにHTTPメソッドでアクセスすることでデータの送受信が行えます。</p>\n<p>RESTの設計条件として以下が該当します。<br><blockquote><ul>\n<li>アドレス指定可能なURLで公開されていること</li>\n<li>インターフェースが統一されていること(HTTPメソッドに準じていること)</li>\n<li>ステートレスであること</li>\n<li>処理結果がHTTPステータスコードで通知されること</li>\n</ul>\n<footer><strong>Qiita</strong><cite><a href=\"https://qiita.com/TakahiRoyte/items/949f4e88caecb02119aa\" target=\"_blank\" rel=\"external\">REST入門 基礎知識</a></cite></footer></blockquote></p>\n<h2><span id=\"api\">API</span></h2><p>ウィキペディアには以下の様にあります。</p>\n<font color=\"red\"><strong>ソフトウェアコンポーネントが互いにやり取りするのに使用するインターフェース仕様</strong></font>\n\n<p>…文章からイメージするのは難しそうです。。。<br>ですので、まずは以下の様な認識で使っていきましょう。</p>\n<font color=\"blue\"><strong>インターネット上に公開された、URLを知っていれば誰でも使えるデータ</strong></font>\n\n<p>例として実際にAPIのデータをgoogle ChromeなどWebブラウザの画面で確認できるもので確認してみましょう。<br>以下のurlはgoogleが一般公開している”google books API”というAPIで、蔵書の情報を取得するAPIです。<br><blockquote><p><a href=\"https://www.googleapis.com/books/v1/volumes\" target=\"_blank\" rel=\"external\">https://www.googleapis.com/books/v1/volumes</a></p>\n<footer><strong>Google Books APIs</strong><cite><a href=\"https://developers.google.com/books/docs/v1/using\" target=\"_blank\" rel=\"external\">Reference</a></cite></footer></blockquote><br>この画面に表示されているデータは<code>json</code>という形式でまとめられたデータになっており、上記urlにアプリからアクセスすると<br>画面に表示されているデータをアプリで受け取ることができます。<br>多くのアプリではこの様にデータを取得して画面に表示させてキュレーションアプリなどが開発されています。</p>\n<p>次に指定の本を検索してみましょう、Webブラウザのurlに少し付け加えてみます。<br>先ほどと結果の違いがわかる様に新しくタブを開いて以下のurlを表示してみましょう。</p>\n<blockquote>\n<p><a href=\"https://www.googleapis.com/books/v1/volumes?q=ほんきで学ぶAndroidアプリ開発入門\" target=\"_blank\" rel=\"external\">https://www.googleapis.com/books/v1/volumes?q=ほんきで学ぶAndroidアプリ開発入門</a></p>\n</blockquote>\n<p>Webブラウザを確認すると、表示される内容が変わっているのがわかります。<br>追加した、”?q=ほんきで学ぶAndroidアプリ開発入門”と文字の部分一致で検索した結果が表示されました。</p>\n<p>Webブラウザで結果を確認していただいた通り、APIというのはURLや設定されているパラメータの値によって検索結果が変わります、<br>これはホームページと同じくサーバにURLが届き、サーバ内のプログラムが実行された結果<code>json</code>データが返されているからです。</p>\n<p>上記で紹介したAPIの検索条件等は<a href=\"https://developers.google.com/books/docs/v1/using#WorkingVolumes\" target=\"_blank\" rel=\"external\">Google Books APIs</a>に記載されています。（全て英語です）</p>\n<p>下図はAPII通信を行うプログラムの流れとして、<br>API通信を行う流れからデータを取得し、画面に反映するまでの簡単な流れを図にしています。<br><img src=\"/AndroidCourse/android/07-AsyncProcess/APISequence.svg\" width=\"550\" title=\"APISequence\"></p>\n<p>上記で解説していた非同期処理ですが、こちらでも利用します。<br>むしろAPI通信を行いデータを画面に反映するために使用すること多い気がします。</p>\n<p>というのもAndoridアプリ開発の上で画面更新はMainThreadのみ可能と解説をしましたが、更に<font color=\"blue\"><strong>MainThreadは時間のかかる処理を行なってはいけない</strong></font>という制約もあるため、MainThreadでネットワーク通信を行うとアプリが強制終了してしまいます。<br>（サブスレッドで画面を操作しようとした時と同じ様に終了します）</p>\n<p>上記の図の通りですが<font color=\"red\"><strong>API通信を実行し、画面に反映するためには大まかに以下の手順が必要になります</strong></font></p>\n<ol>\n<li>メインスレッドでハンドラーをインスタンス化</li>\n<li>メインスレッドからサブスレッドを起動</li>\n<li>サブスレッドでAPI通信処理を実行</li>\n<li>ハンドラーを使いサブスレッドで取得したAPIデータをメインスレッドへ連携</li>\n<li>メインスレッドでAPIデータを使い画面を操作</li>\n</ol>\n<h2><span id=\"okhttpライブラリの導入\">okHttpライブラリの導入</span></h2><p>API通信、ネットワーク通信処理を行うために、ここでは<strong>okHttp</strong>という<em>ライブラリ</em>を使っていきます、<strong>okHttp</strong>はAndroid に元々備わっているネットワーク通信機能をさらに簡単に行うことができるようになる機能群です。<br>このようにプログラムを一部簡単にしてくれる機能群を<em>ライブラリ</em>と呼びます。</p>\n<p>修正するファイルは<code>build.gradle</code>というファイルです、このファイルは２つあると思います、開くのは<code>build.gradle</code>の後ろに<strong><em>(Module: app)</em></strong>と表示されている方を開いてください。<br><img src=\"/AndroidCourse/android/07-AsyncProcess/includeokHttp01.png\" width=\"550\" title=\"IncludeokHttp\"></p>\n<p>続いて<code>build.gradle</code>の “dependencies” の “{}”内に以下のコードを記述します<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">implementation &apos;com.squareup.okhttp3:okhttp:3.9.1&apos;</span><br></pre></td></tr></table></figure></p>\n<p>コードの記述が終わったら右上に表示された<font color=\"blue\">Sync Now</font>リンクをクリックします。<br><img src=\"/AndroidCourse/android/07-AsyncProcess/includeokHttp02.png\" width=\"600\" title=\"Include okHttp\"></p>\n<p>これで<strong>okHttp</strong>ライブラリの導入は完了です。</p>\n<h2><span id=\"api通信機能\">API通信機能</span></h2><h1><span id=\"まとめ\">まとめ</span></h1><p>非同期通信やスレッドに関する概念は最初イメージするのが難しく整理しにくい内容だと思いますが、以下のポイントだけ<br>抑えておきましょう！</p>\n<ul>\n<li>Androidアプリ開発においては画面の更新、操作を行う場合はメインスレッドを使う必要がある</li>\n<li>Androidアプリ開発ではネットワーク通信処理を行う場合はサブスレッド（メインスレッド以外）で行う必要がある</li>\n<li>Threadクラスはインスタンス化したスレッドと同じスレッドとして処理を行うことができる</li>\n<li>HandlerクラスはThreadを起動させる時に利用する</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p>非同期処理の使い方と解説、APIを利用したインターネット通信処理ライブラリの実装と確認を行います</p>\n<!-- toc -->\n<ul>\n<li><a href=\"#非同期処理\">非同期処理</a><ul>\n<li><a href=\"#非同期タイマー機能\">非同期タイマー機能</a></li>\n<li><a href=\"#handler-クラス\">Handler クラス</a></li>\n<li><a href=\"#runnable-クラス\">Runnable クラス</a></li>\n</ul>\n</li>\n<li><a href=\"#rest-api通信処理\">REST API通信処理</a><ul>\n<li><a href=\"#rest\">REST</a></li>\n<li><a href=\"#api\">API</a></li>\n<li><a href=\"#okhttpライブラリの導入\">okHttpライブラリの導入</a></li>\n<li><a href=\"#api通信機能\">API通信機能</a></li>\n</ul>\n</li>\n<li><a href=\"#まとめ\">まとめ</a></li>\n</ul>\n<!-- tocstop -->\n<p>当ページでは検索画面でボタンを押した後、蔵書/図書館検索の結果をAPIを利用して取得し、ログに出力するまでを解説します。<br><a href=\"/AndroidCourse/android/05-ButtonAction\">前のページでは蔵書検索などボタンが押下された時の実装に関して解説しています</a><br>次のページで検索結果の表示、アプリ内データベースの利用に関して解説します。</p>\n<h1 id=\"非同期処理\"><a href=\"#非同期処理\" class=\"headerlink\" title=\"非同期処理\"></a>非同期処理</h1><p>Androidアプリを開発するのに気を付けなければいけない概念として<strong>スレッド(Thread)</strong>という概念があります。<br>スレッドとは</p>\n<blockquote>\n<p>脈絡、筋道。電子メールなどでは、ある一つの話題に関連した投稿の集まり</p>\n</blockquote>\n<p>などの意味合いがあります。<br>身近なものでは飲み会や待ち合わせを行う時にLINEなどで作成したグループなどはスレッドと似ていると思います。</p>\n<p>Androidのアプリが起動された時に画面に<code>activity_main.xml</code>のレイアウトが表示されるのも一つのスレッドでプログラムを実行された結果になります。</p>\n<p>この画面にレイアウトを表示するスレッドを<strong>メインスレッド</strong>と呼びます。<br>メインスレッドは最初に表示されるアクティビティクラスを判別すると<font color=\"red\">自動的に作成</font>されます。</p>\n<p>メインスレッドはウィジェットやビューを更新、操作できる唯一のスレッドとなっているため<strong>UIスレッド</strong>と呼ばれることもあります。</p>\n<p>非同期処理とは主に<strong>メインスレッド</strong>のプログラムには影響が無いようにプログラムを実行することを指します、<br>そのためにはメインスレッドに対して<strong>サブスレッド</strong>と呼ばれる別のスレッドを<font color=\"red\">自分で作成</font>し、その中でプログラムを実行します。</p>\n<h2 id=\"非同期タイマー機能\"><a href=\"#非同期タイマー機能\" class=\"headerlink\" title=\"非同期タイマー機能\"></a>非同期タイマー機能</h2><p>今回は非同期処理を学習するために、もともと準備されているタイマースレッドというサブスレッドを使って画面が表示されてから3秒ごとに、入力されたテキストをログ出力するプログラムを作っていきます。<br>プログラムは前回までのコードを元に修正していきます。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">    setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">    bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\">    <span class=\"comment\">// 蔵書検索する文字を入力するEditTextをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">    bookSearchEditor = findViewById(R.id.BookSearchEdit);</span><br><span class=\"line\">    <span class=\"comment\">// 蔵書検索ボタンが押された時の処理を実装</span></span><br><span class=\"line\">    View.OnClickListener bookSearchEvent = <span class=\"keyword\">new</span> View.OnClickListener() &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(View view)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// コンソールログにボタンが押されたことを出力(表示)</span></span><br><span class=\"line\">            Log.d(<span class=\"string\">\"BookSearchBtn\"</span>, <span class=\"string\">\"onClick: BookSearch Button\"</span>);</span><br><span class=\"line\">            <span class=\"comment\">// 入力された文字をToast(トースト)に表示</span></span><br><span class=\"line\">            Toast.makeText(getBaseContext()</span><br><span class=\"line\">                    , <span class=\"string\">\"入力された文字は [\"</span> + bookSearchEditor.getText().toString() + <span class=\"string\">\"]です。\"</span></span><br><span class=\"line\">                    , Toast.LENGTH_LONG).show();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録</span></span><br><span class=\"line\">    bookSearchBtn.setOnClickListener(bookSearchEvent);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">    <span class=\"comment\">// 準備されているTimerスレッドをインスタンス化</span></span><br><span class=\"line\">    Timer timer = <span class=\"keyword\">new</span> Timer();</span><br><span class=\"line\">    <span class=\"comment\">// 定期実行するタスク(TimerTask)をインスタンス化</span></span><br><span class=\"line\">    TimerTask timerTask = <span class=\"keyword\">new</span> TimerTask() &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// コンソールログに更新された内容を出力</span></span><br><span class=\"line\">            Log.d(<span class=\"string\">\"SubThread Process\"</span></span><br><span class=\"line\">                    , <span class=\"string\">\"「\"</span> +  bookSearchEditor.getText().toString() + <span class=\"string\">\"」に更新されました。\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Timerスレッドの実行スケジュールを設定</span></span><br><span class=\"line\">    <span class=\"comment\">// 3秒毎にtimerTaskのプログラムを実行</span></span><br><span class=\"line\">    timer.schedule(timerTask, <span class=\"number\">0</span>, <span class=\"number\">3000</span>);</span><br><span class=\"line\">    <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>上記の追加プログラムが記述できたらエミュレータで確認してみてください。<br>Android Studioの<strong>Logcat</strong>で確認すると3秒毎にログが出力されていることがわかります。</p>\n<p>次に画面が表示されてから3秒後から3秒毎にトーストを表示させてみましょう。<br><figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">   ...</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 蔵書検索ボタンが押された時に実行するプログラムをボタンに登録</span></span><br><span class=\"line\">    bookSearchBtn.setOnClickListener(bookSearchEvent);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 準備されているTimerスレッドをインスタンス化</span></span><br><span class=\"line\">    Timer timer = <span class=\"keyword\">new</span> Timer();</span><br><span class=\"line\">    <span class=\"comment\">// 定期実行するタスク(TimerTask)をインスタンス化</span></span><br><span class=\"line\">    TimerTask timerTask = <span class=\"keyword\">new</span> TimerTask() &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// コンソールログに更新された内容を出力</span></span><br><span class=\"line\">            Log.d(<span class=\"string\">\"SubThread Process\"</span></span><br><span class=\"line\">                    , <span class=\"string\">\"「\"</span> +  bookSearchEditor.getText().toString() + <span class=\"string\">\"」に更新されました。\"</span>);</span><br><span class=\"line\">            <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">            <span class=\"comment\">// 更新された内容をトーストに表示</span></span><br><span class=\"line\">            Toast.makeText(getBaseContext()</span><br><span class=\"line\">                    , <span class=\"string\">\"「\"</span> +  bookSearchEditor.getText().toString() + <span class=\"string\">\"」に更新されました。\"</span></span><br><span class=\"line\">                    , Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">            <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Timerスレッドの実行スケジュールを設定</span></span><br><span class=\"line\">    <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓修正↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">    <span class=\"comment\">// 画面が表示されてから3秒後から3秒毎にtimerTaskのプログラムを実行</span></span><br><span class=\"line\">    timer.schedule(timerTask, <span class=\"number\">3000</span>, <span class=\"number\">3000</span>);</span><br><span class=\"line\">    <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>上記のコードを入力したら<code>Run</code>ボタンを押して実行してみましょう。<br>・<br>・<br>・<br>・<br>・<br>・<br>・<br>・<br>・<br>・<br>アプリが強制終了してしまったのではないでしょうか？<br>最初に紹介した通りメインスレッド以外のスレッドでは画面を操作することができません。<br>上記で追加したコードはタイマースレッド内でToastを画面に表示する操作を実行しようとして強制終了してしまいました。<br>異常終了した際のエラーログはログ出力を行なっていた<code>Logcat</code>内に表示されているので確認してみましょう。<br><img src=\"/AndroidCourse/android/07-AsyncProcess/MainThreadError.png\" title=\"ThreadSequence\"></p>\n<p>上記の通りエラーのメッセージ箇所は赤文字で表示されます。</p>\n<p>今回のエラーの原因を説明している箇所は以下の一文</p>\n<blockquote>\n<font color=\"red\">java.lang.RuntimeException: Can’t create handler inside thread that has not called Looper.prepare()</font>\n\n</blockquote>\n<p>以降の行で”at …”と説明されているのは実行されたプログラムが順に表示されます。。<br>各行後半の “()” 内はプログラムのファイル名とプログラムを実行した行数が表示され、クリックするとプログラムファイルが表示されます。<br>以下の行のエラーメッセージ上で “()” 内が青くなっていますが、これは自分で書いたプログラムファイルであることを表しており、<br>多くの場合にエラーの原因になったプログラムの行を示している箇所となります。</p>\n<blockquote>\n<font color=\"red\">at kuririnz.xyz.bookdiscovery.MainActivity$2.run(</font><font color=\"blue\">MainActivity.java:53</font><font color=\"red\">)</font>\n\n</blockquote>\n<p>今後エラーが発生した時に原因や問題を解析する時にはまずここを見るよう癖付けましょう！</p>\n<p>タイマースレッド(サブスレッド)で画面操作できないことを確認できました、今度は正常にトーストが画面に表示されるように修正していきましょう。<br>コードを修正する前に新しく使う<strong>Handlerクラス</strong>と<strong>Runnableクラス</strong>を紹介します。</p>\n<h2 id=\"Handler-クラス\"><a href=\"#Handler-クラス\" class=\"headerlink\" title=\"Handler クラス\"></a>Handler クラス</h2><p>Handlerクラスはスレッドから別のスレッドへ通信を行う機能を持ったクラスです。<br>今回のプログラムではToastを画面に表示する為TimerThreadからMainThreadへ通信を行います。<br>通信とは記述していますが、今回の通信ではMainThreadでToastを表示することが目的になるため、<br>データを渡すことが目的の通信では無いことを意識してみてみてください。</p>\n<h2 id=\"Runnable-クラス\"><a href=\"#Runnable-クラス\" class=\"headerlink\" title=\"Runnable クラス\"></a>Runnable クラス</h2><p>Runnableクラスは実際にThreadで処理するプログラムを実行するためのクラスです。<br><strong>Thread = Runnable</strong>と認識して問題ありません。<br>今回のプログラムではTimerThreadで３秒ごとにlogを出力する時、MainThreadでToastを表示する処理を実行する時にRunnableクラスを使用しています。</p>\n<figure class=\"highlight java\"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> <span class=\"keyword\">extends</span> <span class=\"title\">AppCompatActivity</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// レイアウトxmlと関連付けるWidget</span></span><br><span class=\"line\">    Button bookSearchBtn;</span><br><span class=\"line\">    EditText bookSearchEditor;</span><br><span class=\"line\">    <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">    <span class=\"comment\">// メインスレッドに帰って来るためのハンドラー</span></span><br><span class=\"line\">    Handler handler;</span><br><span class=\"line\">    <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓追加↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">        <span class=\"comment\">// ハンドラーオブジェクトをMainThreadでインスタンス化</span></span><br><span class=\"line\">        handler = <span class=\"keyword\">new</span> Handler();</span><br><span class=\"line\">        <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">        <span class=\"comment\">// 蔵書検索ボタンをjavaプログラムで操作できるように名前をつける</span></span><br><span class=\"line\">        bookSearchBtn = findViewById(R.id.BookSearchBtn);</span><br><span class=\"line\"></span><br><span class=\"line\">        ...</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 定期実行するタスク(TimerTask)をインスタンス化</span></span><br><span class=\"line\">        TimerTask timerTask = <span class=\"keyword\">new</span> TimerTask() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">// コンソールログに更新された内容を出力</span></span><br><span class=\"line\">                Log.d(<span class=\"string\">\"SubThread Process\"</span></span><br><span class=\"line\">                        , <span class=\"string\">\"「\"</span> +  bookSearchEditor.getText().toString() + <span class=\"string\">\"」に更新されました。\"</span>);</span><br><span class=\"line\">                <span class=\"comment\">//↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓修正↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class=\"line\">                handler.post(<span class=\"keyword\">new</span> Runnable() &#123;</span><br><span class=\"line\">                    <span class=\"meta\">@Override</span></span><br><span class=\"line\">                    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 更新された内容をトーストに表示</span></span><br><span class=\"line\">                        Toast.makeText(getBaseContext()</span><br><span class=\"line\">                                , <span class=\"string\">\"「\"</span> +  bookSearchEditor.getText().toString() + <span class=\"string\">\"」に更新されました。\"</span></span><br><span class=\"line\">                                , Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">                <span class=\"comment\">//↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>上記コードを実装できたら、エミュレータで動作確認してみましょう。<br>以下の様に3秒ごとに入力中の文字がToastに表示されたでしょうか？<br><img src=\"/AndroidCourse/android/07-AsyncProcess/AsyncTimerToast.png\" width=\"300\" title=\"TimerThreadTest\"></p>\n<p>実際に使ってみたHandlerクラスですが、正しくMainThreadで実行するにはコツが必要です、<br>コツというのはHandlerクラスをインスタンス化するタイミングです。<br>深く理解できればこのタイミングの調整は不要になりますが、全てを一度に覚えきるのは難しいです、<br>ですので他の非同期処理後にMainThreadで処理を行うのにHandlerを利用する場合はまず、<strong>onCreateメソッドのsetContetView(…)</strong>の次行でインスタンス化するよう意識付けてください。</p>\n<blockquote>\n<p>※サブスレッド間の通信に関してはこの一連の記事では紹介していないので別途調査が必要です。</p>\n</blockquote>\n<p>以上で、非同期処理の基礎の解説は終了です、難しい箇所も多いので自分なりにプログラムを修正して試してみましょう。<br>続いてはインターネット通信処理を通しでデータを取得するAPIの使い方を実装していきます。</p>\n<h1 id=\"REST-API通信処理\"><a href=\"#REST-API通信処理\" class=\"headerlink\" title=\"REST API通信処理\"></a>REST API通信処理</h1><p>非同期処理が作れる様になったらインターネット上にあるデータを取得するプログラムを作っていきます、<br>そのためにはインターネット上にあるデータを開発するアプリから取得して使う方法があります。<br>これを多くの場合にAPI通信などと呼びます。</p>\n<p>今回のアプリでは蔵書を検索する機能を実装するためにこのAPI通信が必要になります。</p>\n<p>REST APIとは<strong>Representational State Transfer Application Programming Interface</strong>の略称で<br>それぞれ”REST”と”API”で使われることもあります。</p>\n<h2 id=\"REST\"><a href=\"#REST\" class=\"headerlink\" title=\"REST\"></a>REST</h2><p>Webサービスの設計モデルを表しており、REST APIのURLにHTTPメソッドでアクセスすることでデータの送受信が行えます。</p>\n<p>RESTの設計条件として以下が該当します。<br><blockquote><ul>\n<li>アドレス指定可能なURLで公開されていること</li>\n<li>インターフェースが統一されていること(HTTPメソッドに準じていること)</li>\n<li>ステートレスであること</li>\n<li>処理結果がHTTPステータスコードで通知されること</li>\n</ul>\n<footer><strong>Qiita</strong><cite><a href=\"https://qiita.com/TakahiRoyte/items/949f4e88caecb02119aa\" target=\"_blank\" rel=\"external\">REST入門 基礎知識</a></cite></footer></blockquote></p>\n<h2 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h2><p>ウィキペディアには以下の様にあります。</p>\n<font color=\"red\"><strong>ソフトウェアコンポーネントが互いにやり取りするのに使用するインターフェース仕様</strong></font>\n\n<p>…文章からイメージするのは難しそうです。。。<br>ですので、まずは以下の様な認識で使っていきましょう。</p>\n<font color=\"blue\"><strong>インターネット上に公開された、URLを知っていれば誰でも使えるデータ</strong></font>\n\n<p>例として実際にAPIのデータをgoogle ChromeなどWebブラウザの画面で確認できるもので確認してみましょう。<br>以下のurlはgoogleが一般公開している”google books API”というAPIで、蔵書の情報を取得するAPIです。<br><blockquote><p><a href=\"https://www.googleapis.com/books/v1/volumes\" target=\"_blank\" rel=\"external\">https://www.googleapis.com/books/v1/volumes</a></p>\n<footer><strong>Google Books APIs</strong><cite><a href=\"https://developers.google.com/books/docs/v1/using\" target=\"_blank\" rel=\"external\">Reference</a></cite></footer></blockquote><br>この画面に表示されているデータは<code>json</code>という形式でまとめられたデータになっており、上記urlにアプリからアクセスすると<br>画面に表示されているデータをアプリで受け取ることができます。<br>多くのアプリではこの様にデータを取得して画面に表示させてキュレーションアプリなどが開発されています。</p>\n<p>次に指定の本を検索してみましょう、Webブラウザのurlに少し付け加えてみます。<br>先ほどと結果の違いがわかる様に新しくタブを開いて以下のurlを表示してみましょう。</p>\n<blockquote>\n<p><a href=\"https://www.googleapis.com/books/v1/volumes?q=ほんきで学ぶAndroidアプリ開発入門\" target=\"_blank\" rel=\"external\">https://www.googleapis.com/books/v1/volumes?q=ほんきで学ぶAndroidアプリ開発入門</a></p>\n</blockquote>\n<p>Webブラウザを確認すると、表示される内容が変わっているのがわかります。<br>追加した、”?q=ほんきで学ぶAndroidアプリ開発入門”と文字の部分一致で検索した結果が表示されました。</p>\n<p>Webブラウザで結果を確認していただいた通り、APIというのはURLや設定されているパラメータの値によって検索結果が変わります、<br>これはホームページと同じくサーバにURLが届き、サーバ内のプログラムが実行された結果<code>json</code>データが返されているからです。</p>\n<p>上記で紹介したAPIの検索条件等は<a href=\"https://developers.google.com/books/docs/v1/using#WorkingVolumes\" target=\"_blank\" rel=\"external\">Google Books APIs</a>に記載されています。（全て英語です）</p>\n<p>下図はAPII通信を行うプログラムの流れとして、<br>API通信を行う流れからデータを取得し、画面に反映するまでの簡単な流れを図にしています。<br><img src=\"/AndroidCourse/android/07-AsyncProcess/APISequence.svg\" width=\"550\" title=\"APISequence\"></p>\n<p>上記で解説していた非同期処理ですが、こちらでも利用します。<br>むしろAPI通信を行いデータを画面に反映するために使用すること多い気がします。</p>\n<p>というのもAndoridアプリ開発の上で画面更新はMainThreadのみ可能と解説をしましたが、更に<font color=\"blue\"><strong>MainThreadは時間のかかる処理を行なってはいけない</strong></font>という制約もあるため、MainThreadでネットワーク通信を行うとアプリが強制終了してしまいます。<br>（サブスレッドで画面を操作しようとした時と同じ様に終了します）</p>\n<p>上記の図の通りですが<font color=\"red\"><strong>API通信を実行し、画面に反映するためには大まかに以下の手順が必要になります</strong></font></p>\n<ol>\n<li>メインスレッドでハンドラーをインスタンス化</li>\n<li>メインスレッドからサブスレッドを起動</li>\n<li>サブスレッドでAPI通信処理を実行</li>\n<li>ハンドラーを使いサブスレッドで取得したAPIデータをメインスレッドへ連携</li>\n<li>メインスレッドでAPIデータを使い画面を操作</li>\n</ol>\n<h2 id=\"okHttpライブラリの導入\"><a href=\"#okHttpライブラリの導入\" class=\"headerlink\" title=\"okHttpライブラリの導入\"></a>okHttpライブラリの導入</h2><p>API通信、ネットワーク通信処理を行うために、ここでは<strong>okHttp</strong>という<em>ライブラリ</em>を使っていきます、<strong>okHttp</strong>はAndroid に元々備わっているネットワーク通信機能をさらに簡単に行うことができるようになる機能群です。<br>このようにプログラムを一部簡単にしてくれる機能群を<em>ライブラリ</em>と呼びます。</p>\n<p>修正するファイルは<code>build.gradle</code>というファイルです、このファイルは２つあると思います、開くのは<code>build.gradle</code>の後ろに<strong><em>(Module: app)</em></strong>と表示されている方を開いてください。<br><img src=\"/AndroidCourse/android/07-AsyncProcess/includeokHttp01.png\" width=\"550\" title=\"IncludeokHttp\"></p>\n<p>続いて<code>build.gradle</code>の “dependencies” の “{}”内に以下のコードを記述します<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">implementation &apos;com.squareup.okhttp3:okhttp:3.9.1&apos;</span><br></pre></td></tr></table></figure></p>\n<p>コードの記述が終わったら右上に表示された<font color=\"blue\">Sync Now</font>リンクをクリックします。<br><img src=\"/AndroidCourse/android/07-AsyncProcess/includeokHttp02.png\" width=\"600\" title=\"Include okHttp\"></p>\n<p>これで<strong>okHttp</strong>ライブラリの導入は完了です。</p>\n<h2 id=\"API通信機能\"><a href=\"#API通信機能\" class=\"headerlink\" title=\"API通信機能\"></a>API通信機能</h2><h1 id=\"まとめ\"><a href=\"#まとめ\" class=\"headerlink\" title=\"まとめ\"></a>まとめ</h1><p>非同期通信やスレッドに関する概念は最初イメージするのが難しく整理しにくい内容だと思いますが、以下のポイントだけ<br>抑えておきましょう！</p>\n<ul>\n<li>Androidアプリ開発においては画面の更新、操作を行う場合はメインスレッドを使う必要がある</li>\n<li>Androidアプリ開発ではネットワーク通信処理を行う場合はサブスレッド（メインスレッド以外）で行う必要がある</li>\n<li>Threadクラスはインスタンス化したスレッドと同じスレッドとして処理を行うことができる</li>\n<li>HandlerクラスはThreadを起動させる時に利用する</li>\n</ul>\n"},{"title":"使用API利用登録","date":"2017-12-30T15:00:00.000Z","_content":"講座で開発するアプリに導入するカーリル 図書館APIの利用登録手順を解説\n\n\n講座の[非同期通信、REST API 通信](/AndroidCourse/android/06-AsyncProcess)の解説ページで利用するAPIの登録手順です。\n\n図書館や図書館でレンタルできる蔵書の検索などが行えます。\n\nまずは[カーリル 図書館 API](https://calil.jp/doc/api.html)にアクセスします。\n\n<img src=\"RegistAPI01.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI02.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI03.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI04.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI05.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI06.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI07.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI08.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI09.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI10.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI11.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI12.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI13.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">","source":"_posts/android/99-RegisterAPI.md","raw":"---\ntitle: 使用API利用登録\ndate: 2017-12-31\ntags:\n---\n講座で開発するアプリに導入するカーリル 図書館APIの利用登録手順を解説\n\n\n講座の[非同期通信、REST API 通信](/AndroidCourse/android/06-AsyncProcess)の解説ページで利用するAPIの登録手順です。\n\n図書館や図書館でレンタルできる蔵書の検索などが行えます。\n\nまずは[カーリル 図書館 API](https://calil.jp/doc/api.html)にアクセスします。\n\n<img src=\"RegistAPI01.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI02.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI03.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI04.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI05.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI06.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI07.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI08.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI09.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI10.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI11.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI12.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">\n\n<img src=\"RegistAPI13.png\" alt=\"alt\" title=\"registration API account\" width=\"500\">","slug":"99-RegisterAPI","published":1,"updated":"2018-01-23T09:29:55.080Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjczn7syn0009rc617ah769sk","content":"<p>講座で開発するアプリに導入するカーリル 図書館APIの利用登録手順を解説</p>\n<p>講座の<a href=\"/AndroidCourse/android/06-AsyncProcess\">非同期通信、REST API 通信</a>の解説ページで利用するAPIの登録手順です。</p>\n<p>図書館や図書館でレンタルできる蔵書の検索などが行えます。</p>\n<p>まずは<a href=\"https://calil.jp/doc/api.html\" target=\"_blank\" rel=\"external\">カーリル 図書館 API</a>にアクセスします。</p>\n<p><img src=\"RegistAPI01.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI02.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI03.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI04.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI05.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI06.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI07.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI08.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI09.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI10.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI11.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI12.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI13.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p>講座で開発するアプリに導入するカーリル 図書館APIの利用登録手順を解説</p>\n<p>講座の<a href=\"/AndroidCourse/android/06-AsyncProcess\">非同期通信、REST API 通信</a>の解説ページで利用するAPIの登録手順です。</p>\n<p>図書館や図書館でレンタルできる蔵書の検索などが行えます。</p>\n<p>まずは<a href=\"https://calil.jp/doc/api.html\" target=\"_blank\" rel=\"external\">カーリル 図書館 API</a>にアクセスします。</p>\n<p><img src=\"RegistAPI01.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI02.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI03.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI04.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI05.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI06.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI07.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI08.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI09.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI10.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI11.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI12.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n<p><img src=\"RegistAPI13.png\" alt=\"alt\" title=\"registration API account\" width=\"500\"></p>\n"}],"PostAsset":[{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_03.png","slug":"as_i_03.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_07.png","slug":"as_s_07.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_07.png","slug":"j8_i_07.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad05.png","slug":"sad05.png","post":"cjczn7sxq0003rc61uuybhown","modified":0,"renderable":0},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad06.png","slug":"sad06.png","post":"cjczn7sxq0003rc61uuybhown","modified":0,"renderable":0},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad03.png","slug":"sad03.png","post":"cjczn7sxq0003rc61uuybhown","modified":0,"renderable":0},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad10.png","slug":"sad10.png","post":"cjczn7sxq0003rc61uuybhown","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/le12.png","slug":"le12.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/le6.png","slug":"le6.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/le7.png","slug":"le7.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate01.png","slug":"runemurate01.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/le9.png","slug":"le9.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate08.png","slug":"runemurate08.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/05-ButtonAction/setid04.png","slug":"setid04.png","post":"cjczn7sy40005rc61m18unrhm","modified":0,"renderable":0},{"_id":"source/_posts/android/05-ButtonAction/setid05.png","slug":"setid05.png","post":"cjczn7sy40005rc61m18unrhm","modified":0,"renderable":0},{"_id":"source/_posts/android/05-ButtonAction/setid08.png","slug":"setid08.png","post":"cjczn7sy40005rc61m18unrhm","modified":0,"renderable":0},{"_id":"source/_posts/android/06-TransitionScreen/createactivity02.png","slug":"createactivity02.png","post":"cjczn7sy80006rc61dbc4lsia","modified":0,"renderable":0},{"_id":"source/_posts/android/06-TransitionScreen/createactivity03.png","slug":"createactivity03.png","post":"cjczn7sy80006rc61dbc4lsia","modified":0,"renderable":0},{"_id":"source/_posts/android/07-AsyncProcess/AsyncTimerToast.png","slug":"AsyncTimerToast.png","post":"cjczn7syi0008rc61o6lh1rtf","modified":0,"renderable":0},{"_id":"source/_posts/android/07-AsyncProcess/includeokHttp01.png","slug":"includeokHttp01.png","post":"cjczn7syi0008rc61o6lh1rtf","modified":0,"renderable":0},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad04.png","slug":"sad04.png","post":"cjczn7sxq0003rc61uuybhown","modified":0,"renderable":0},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad07.png","slug":"sad07.png","post":"cjczn7sxq0003rc61uuybhown","modified":0,"renderable":0},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad11.png","slug":"sad11.png","post":"cjczn7sxq0003rc61uuybhown","modified":0,"renderable":0},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad12.png","slug":"sad12.png","post":"cjczn7sxq0003rc61uuybhown","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/le10.png","slug":"le10.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/le2.png","slug":"le2.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/le3.png","slug":"le3.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/le11.png","slug":"le11.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/le4.png","slug":"le4.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/le5.png","slug":"le5.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate03.png","slug":"runemurate03.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate05.png","slug":"runemurate05.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/05-ButtonAction/setid06.png","slug":"setid06.png","post":"cjczn7sy40005rc61m18unrhm","modified":0,"renderable":0},{"_id":"source/_posts/android/06-TransitionScreen/createactivity05.png","slug":"createactivity05.png","post":"cjczn7sy80006rc61dbc4lsia","modified":0,"renderable":0},{"_id":"source/_posts/android/07-AsyncProcess/includeokHttp02.png","slug":"includeokHttp02.png","post":"cjczn7syi0008rc61o6lh1rtf","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_02.png","slug":"as_i_02.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad09.png","slug":"sad09.png","post":"cjczn7sxq0003rc61uuybhown","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/le8.png","slug":"le8.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate04.png","slug":"runemurate04.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/05-ButtonAction/setid03.png","slug":"setid03.png","post":"cjczn7sy40005rc61m18unrhm","modified":0,"renderable":0},{"_id":"source/_posts/android/02-AndroidConcept/viewinlifecycle.png","slug":"viewinlifecycle.png","post":"cjczn7sxk0002rc614mx7nowi","modified":0,"renderable":0},{"_id":"source/_posts/android/01-CurrentStatus/JapanShare.png","slug":"JapanShare.png","post":"cjczn7sxh0001rc61py1y3xsa","modified":0,"renderable":0},{"_id":"source/_posts/android/01-CurrentStatus/WorldShare.png","slug":"WorldShare.png","post":"cjczn7sxh0001rc61py1y3xsa","modified":0,"renderable":0},{"_id":"source/_posts/android/07-AsyncProcess/APISequence.svg","slug":"APISequence.svg","post":"cjczn7syi0008rc61o6lh1rtf","modified":0,"renderable":0},{"_id":"source/_posts/android/07-AsyncProcess/MainThreadError.png","slug":"MainThreadError.png","post":"cjczn7syi0008rc61o6lh1rtf","modified":0,"renderable":0},{"_id":"source/_posts/android/06-TransitionScreen/BackScreen.png","slug":"BackScreen.png","post":"cjczn7sy80006rc61dbc4lsia","modified":0,"renderable":0},{"_id":"source/_posts/android/06-TransitionScreen/TransitionScreen.gif","slug":"TransitionScreen.gif","post":"cjczn7sy80006rc61dbc4lsia","modified":0,"renderable":0},{"_id":"source/_posts/android/06-TransitionScreen/createactivity01_1.png","slug":"createactivity01_1.png","post":"cjczn7sy80006rc61dbc4lsia","modified":0,"renderable":0},{"_id":"source/_posts/android/06-TransitionScreen/createactivity01_2.png","slug":"createactivity01_2.png","post":"cjczn7sy80006rc61dbc4lsia","modified":0,"renderable":0},{"_id":"source/_posts/android/06-TransitionScreen/createactivity04.png","slug":"createactivity04.png","post":"cjczn7sy80006rc61dbc4lsia","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate07.png","slug":"runemurate07.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/05-ButtonAction/DesignCode.png","slug":"DesignCode.png","post":"cjczn7sy40005rc61m18unrhm","modified":0,"renderable":0},{"_id":"source/_posts/android/05-ButtonAction/LoadLayout.png","slug":"LoadLayout.png","post":"cjczn7sy40005rc61m18unrhm","modified":0,"renderable":0},{"_id":"source/_posts/android/05-ButtonAction/rerationcode01.png","slug":"rerationcode01.png","post":"cjczn7sy40005rc61m18unrhm","modified":0,"renderable":0},{"_id":"source/_posts/android/05-ButtonAction/setid01.png","slug":"setid01.png","post":"cjczn7sy40005rc61m18unrhm","modified":0,"renderable":0},{"_id":"source/_posts/android/05-ButtonAction/setid02.png","slug":"setid02.png","post":"cjczn7sy40005rc61m18unrhm","modified":0,"renderable":0},{"_id":"source/_posts/android/05-ButtonAction/setid07.png","slug":"setid07.png","post":"cjczn7sy40005rc61m18unrhm","modified":0,"renderable":0},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad01.png","slug":"sad01.png","post":"cjczn7sxq0003rc61uuybhown","modified":0,"renderable":0},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad02.png","slug":"sad02.png","post":"cjczn7sxq0003rc61uuybhown","modified":0,"renderable":0},{"_id":"source/_posts/android/03-StartAndroidDevelopment/sad08.png","slug":"sad08.png","post":"cjczn7sxq0003rc61uuybhown","modified":0,"renderable":0},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI01.png","slug":"RegistAPI01.png","post":"cjczn7syn0009rc617ah769sk","modified":0,"renderable":0},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI02.png","slug":"RegistAPI02.png","post":"cjczn7syn0009rc617ah769sk","modified":0,"renderable":0},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI03.png","slug":"RegistAPI03.png","post":"cjczn7syn0009rc617ah769sk","modified":0,"renderable":0},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI04.png","slug":"RegistAPI04.png","post":"cjczn7syn0009rc617ah769sk","modified":0,"renderable":0},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI05.png","slug":"RegistAPI05.png","post":"cjczn7syn0009rc617ah769sk","modified":0,"renderable":0},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI06.png","slug":"RegistAPI06.png","post":"cjczn7syn0009rc617ah769sk","modified":0,"renderable":0},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI07.png","slug":"RegistAPI07.png","post":"cjczn7syn0009rc617ah769sk","modified":0,"renderable":0},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI08.png","slug":"RegistAPI08.png","post":"cjczn7syn0009rc617ah769sk","modified":0,"renderable":0},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI09.png","slug":"RegistAPI09.png","post":"cjczn7syn0009rc617ah769sk","modified":0,"renderable":0},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI10.png","slug":"RegistAPI10.png","post":"cjczn7syn0009rc617ah769sk","modified":0,"renderable":0},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI11.png","slug":"RegistAPI11.png","post":"cjczn7syn0009rc617ah769sk","modified":0,"renderable":0},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI12.png","slug":"RegistAPI12.png","post":"cjczn7syn0009rc617ah769sk","modified":0,"renderable":0},{"_id":"source/_posts/android/99-RegisterAPI/RegistAPI13.png","slug":"RegistAPI13.png","post":"cjczn7syn0009rc617ah769sk","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/CompleteScreen.png","slug":"CompleteScreen.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/le0.png","slug":"le0.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/le1.png","slug":"le1.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate02.png","slug":"runemurate02.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/04-MakeLayoutDesign/runemurate06.png","slug":"runemurate06.png","post":"cjczn7sxz0004rc61xq5qbwap","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_01.png","slug":"as_i_01.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_04.png","slug":"as_i_04.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_05.png","slug":"as_i_05.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_06.png","slug":"as_i_06.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_07.png","slug":"as_i_07.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_08.png","slug":"as_i_08.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_09.png","slug":"as_i_09.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_10.png","slug":"as_i_10.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_i_11.png","slug":"as_i_11.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_01.png","slug":"as_s_01.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_02.png","slug":"as_s_02.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_03.png","slug":"as_s_03.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_04.png","slug":"as_s_04.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_05.png","slug":"as_s_05.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_06.png","slug":"as_s_06.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/as_s_08.png","slug":"as_s_08.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_c_01.png","slug":"j8_c_01.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_c_02.png","slug":"j8_c_02.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_dl.png","slug":"j8_dl.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_01.png","slug":"j8_i_01.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_02.png","slug":"j8_i_02.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_03.png","slug":"j8_i_03.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_04.png","slug":"j8_i_04.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_05.png","slug":"j8_i_05.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_06.png","slug":"j8_i_06.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/00-EnvironmentStructure/j8_i_08.png","slug":"j8_i_08.png","post":"cjczn7sxa0000rc61l0pn3ltb","modified":0,"renderable":0},{"_id":"source/_posts/android/06-TransitionScreen/re_le01.png","slug":"re_le01.png","post":"cjczn7sy80006rc61dbc4lsia","modified":1,"renderable":0},{"_id":"source/_posts/android/06-TransitionScreen/re_le03.png","slug":"re_le03.png","post":"cjczn7sy80006rc61dbc4lsia","modified":1,"renderable":0},{"_id":"source/_posts/android/06-TransitionScreen/re_le02.png","slug":"re_le02.png","post":"cjczn7sy80006rc61dbc4lsia","modified":1,"renderable":0}],"PostCategory":[],"PostTag":[],"Tag":[]}}